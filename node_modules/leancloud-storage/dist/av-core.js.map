{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap 2e3416186bf7447831f8","webpack:///./node_modules/underscore/underscore.js","webpack:///./node_modules/core-js/library/modules/_core.js","webpack:///./node_modules/babel-runtime/core-js/promise.js","webpack:///./node_modules/core-js/library/modules/_global.js","webpack:///./node_modules/core-js/library/modules/_wks.js","webpack:///./src/request.js","webpack:///./src/utils/index.js","webpack:///./node_modules/core-js/library/modules/_an-object.js","webpack:///./node_modules/babel-runtime/core-js/json/stringify.js","webpack:///./node_modules/core-js/library/modules/_object-dp.js","webpack:///./node_modules/core-js/library/modules/_descriptors.js","webpack:///./node_modules/core-js/library/modules/_export.js","webpack:///./node_modules/core-js/library/modules/_hide.js","webpack:///./node_modules/core-js/library/modules/_is-object.js","webpack:///./node_modules/core-js/library/modules/_has.js","webpack:///./node_modules/core-js/library/modules/_to-iobject.js","webpack:///./src/error.js","webpack:///./node_modules/core-js/library/modules/_iterators.js","webpack:///./src/av.js","webpack:///./node_modules/debug/src/browser.js","webpack:///./src/adapter.js","webpack:///./node_modules/core-js/library/modules/_library.js","webpack:///./node_modules/core-js/library/modules/_fails.js","webpack:///./node_modules/core-js/library/modules/_cof.js","webpack:///./node_modules/core-js/library/modules/es6.string.iterator.js","webpack:///./node_modules/core-js/library/modules/_ctx.js","webpack:///./node_modules/core-js/library/modules/_a-function.js","webpack:///./node_modules/core-js/library/modules/_property-desc.js","webpack:///./node_modules/core-js/library/modules/_object-keys.js","webpack:///./node_modules/core-js/library/modules/_uid.js","webpack:///./node_modules/core-js/library/modules/_set-to-string-tag.js","webpack:///./node_modules/core-js/library/modules/_to-object.js","webpack:///./node_modules/core-js/library/modules/web.dom.iterable.js","webpack:///./node_modules/core-js/library/modules/_to-integer.js","webpack:///./node_modules/core-js/library/modules/_defined.js","webpack:///./node_modules/core-js/library/modules/_dom-create.js","webpack:///./node_modules/core-js/library/modules/_to-primitive.js","webpack:///./node_modules/core-js/library/modules/_shared-key.js","webpack:///./node_modules/core-js/library/modules/_shared.js","webpack:///./node_modules/core-js/library/modules/_enum-bug-keys.js","webpack:///./node_modules/core-js/library/modules/_classof.js","webpack:///./node_modules/core-js/library/modules/_new-promise-capability.js","webpack:///./node_modules/core-js/library/modules/_object-sap.js","webpack:///./src/utils/ajax.js","webpack:///./node_modules/core-js/library/modules/_wks-ext.js","webpack:///./node_modules/core-js/library/modules/_wks-define.js","webpack:///./node_modules/core-js/library/modules/_object-pie.js","webpack:///./node_modules/core-js/library/modules/_iter-define.js","webpack:///./node_modules/core-js/library/modules/_ie8-dom-define.js","webpack:///./node_modules/core-js/library/modules/_redefine.js","webpack:///./node_modules/core-js/library/modules/_object-create.js","webpack:///./node_modules/core-js/library/modules/_object-keys-internal.js","webpack:///./node_modules/core-js/library/modules/_to-length.js","webpack:///./node_modules/core-js/library/modules/_html.js","webpack:///./node_modules/core-js/library/modules/_object-gpo.js","webpack:///./node_modules/core-js/library/modules/core.get-iterator-method.js","webpack:///./node_modules/core-js/library/modules/_species-constructor.js","webpack:///./node_modules/core-js/library/modules/_task.js","webpack:///./node_modules/core-js/library/modules/_perform.js","webpack:///./node_modules/core-js/library/modules/_promise-resolve.js","webpack:///(webpack)/buildin/global.js","webpack:///./node_modules/babel-runtime/core-js/object/keys.js","webpack:///./node_modules/uuid/v4.js","webpack:///./src/version.js","webpack:///./node_modules/eventemitter3/index.js","webpack:///./src/localstorage.js","webpack:///./src/cache.js","webpack:///./node_modules/babel-runtime/core-js/object/define-property.js","webpack:///./node_modules/babel-runtime/helpers/typeof.js","webpack:///./node_modules/core-js/library/modules/_object-gops.js","webpack:///./node_modules/core-js/library/modules/_object-gopn.js","webpack:///./node_modules/core-js/library/modules/_object-gopd.js","webpack:///./node_modules/charenc/charenc.js","webpack:///./src/entry/core.js","webpack:///./src/index.js","webpack:///./node_modules/core-js/library/fn/promise.js","webpack:///./node_modules/core-js/library/modules/_string-at.js","webpack:///./node_modules/core-js/library/modules/_iter-create.js","webpack:///./node_modules/core-js/library/modules/_object-dps.js","webpack:///./node_modules/core-js/library/modules/_iobject.js","webpack:///./node_modules/core-js/library/modules/_array-includes.js","webpack:///./node_modules/core-js/library/modules/_to-absolute-index.js","webpack:///./node_modules/core-js/library/modules/es6.array.iterator.js","webpack:///./node_modules/core-js/library/modules/_add-to-unscopables.js","webpack:///./node_modules/core-js/library/modules/_iter-step.js","webpack:///./node_modules/core-js/library/modules/es6.promise.js","webpack:///./node_modules/core-js/library/modules/_an-instance.js","webpack:///./node_modules/core-js/library/modules/_for-of.js","webpack:///./node_modules/core-js/library/modules/_iter-call.js","webpack:///./node_modules/core-js/library/modules/_is-array-iter.js","webpack:///./node_modules/core-js/library/modules/_invoke.js","webpack:///./node_modules/core-js/library/modules/_microtask.js","webpack:///./node_modules/core-js/library/modules/_user-agent.js","webpack:///./node_modules/core-js/library/modules/_redefine-all.js","webpack:///./node_modules/core-js/library/modules/_set-species.js","webpack:///./node_modules/core-js/library/modules/_iter-detect.js","webpack:///./node_modules/core-js/library/modules/es7.promise.finally.js","webpack:///./node_modules/core-js/library/modules/es7.promise.try.js","webpack:///(webpack)/buildin/module.js","webpack:///./node_modules/core-js/library/fn/json/stringify.js","webpack:///./node_modules/core-js/library/fn/object/keys.js","webpack:///./node_modules/core-js/library/modules/es6.object.keys.js","webpack:///./node_modules/uuid/lib/rng-browser.js","webpack:///./node_modules/uuid/lib/bytesToUuid.js","webpack:///./node_modules/debug/src/common.js","webpack:///./node_modules/ms/index.js","webpack:///./node_modules/babel-runtime/core-js/object/get-prototype-of.js","webpack:///./node_modules/core-js/library/fn/object/get-prototype-of.js","webpack:///./node_modules/core-js/library/modules/es6.object.get-prototype-of.js","webpack:///./src/init.js","webpack:///./node_modules/core-js/library/fn/object/define-property.js","webpack:///./node_modules/core-js/library/modules/es6.object.define-property.js","webpack:///./src/app-router.js","webpack:///./node_modules/babel-runtime/core-js/symbol/iterator.js","webpack:///./node_modules/core-js/library/fn/symbol/iterator.js","webpack:///./node_modules/babel-runtime/core-js/symbol.js","webpack:///./node_modules/core-js/library/fn/symbol/index.js","webpack:///./node_modules/core-js/library/modules/es6.symbol.js","webpack:///./node_modules/core-js/library/modules/_meta.js","webpack:///./node_modules/core-js/library/modules/_enum-keys.js","webpack:///./node_modules/core-js/library/modules/_is-array.js","webpack:///./node_modules/core-js/library/modules/_object-gopn-ext.js","webpack:///./node_modules/core-js/library/modules/es7.symbol.async-iterator.js","webpack:///./node_modules/core-js/library/modules/es7.symbol.observable.js","webpack:///./node_modules/promise-timeout/index.js","webpack:///./src/event.js","webpack:///./src/geopoint.js","webpack:///./src/acl.js","webpack:///./src/op.js","webpack:///./src/relation.js","webpack:///./src/file.js","webpack:///./src/uploader/cos.js","webpack:///./src/uploader/qiniu.js","webpack:///./src/uploader/s3.js","webpack:///./node_modules/md5/md5.js","webpack:///./node_modules/crypt/crypt.js","webpack:///./node_modules/is-buffer/index.js","webpack:///./src/utils/parse-base64-browser.js","webpack:///./src/object.js","webpack:///./node_modules/babel-runtime/core-js/object/get-own-property-descriptor.js","webpack:///./node_modules/core-js/library/fn/object/get-own-property-descriptor.js","webpack:///./node_modules/core-js/library/modules/es6.object.get-own-property-descriptor.js","webpack:///./node_modules/babel-runtime/helpers/slicedToArray.js","webpack:///./node_modules/babel-runtime/core-js/is-iterable.js","webpack:///./node_modules/core-js/library/fn/is-iterable.js","webpack:///./node_modules/core-js/library/modules/core.is-iterable.js","webpack:///./node_modules/babel-runtime/core-js/get-iterator.js","webpack:///./node_modules/core-js/library/fn/get-iterator.js","webpack:///./node_modules/core-js/library/modules/core.get-iterator.js","webpack:///./src/role.js","webpack:///./src/user.js","webpack:///./node_modules/babel-runtime/helpers/defineProperty.js","webpack:///./src/query.js","webpack:///./src/live-query.js","webpack:///./src/captcha.js","webpack:///./src/cloudfunction.js","webpack:///./src/push.js","webpack:///./src/status.js","webpack:///./src/search.js","webpack:///./src/insight.js","webpack:///./src/friendship.js","webpack:///./src/conversation.js","webpack:///./src/leaderboard.js"],"names":["_","require","md5","extend","AV","getSessionToken","ajax","sign","key","isMasterKey","now","Date","getTime","signature","setAppKey","headers","signKey","applicationKey","setHeaders","authOptions","applicationId","useMasterKey","_config","masterKey","console","warn","hookKey","production","String","_sharedConfig","userAgent","resolve","then","sessionToken","disableCurrentUser","User","currentAsync","currentUser","_sessionToken","createApiUrl","service","version","path","apiURL","serverURLs","Error","charAt","length","request","method","query","data","_appRouter","refresh","timeout","requestTimeout","url","catch","errorJSON","code","error","message","responseText","response","JSON","parse","e","rawMessage","keepErrorRawMessage","statusCode","err","_request","route","className","objectId","_fetchWhenSave","_where","toLowerCase","module","exports","isNullOrUndefined","isNull","x","isUndefined","ensureArray","isArray","target","undefined","transformFetchOptions","keys","include","includeACL","fetchOptions","join","returnACL","user","tap","interceptor","value","EmptyConstructor","inherits","parent","protoProps","staticProps","child","hasOwnProperty","constructor","apply","arguments","prototype","__super__","parseDate","iso8601","setValue","segs","split","lastSeg","pop","currentTarget","forEach","seg","findValue","firstSeg","i","isPlainObject","isObject","obj","Object","continueWhile","predicate","asyncFunction","AVError","OTHER_CAUSE","INTERNAL_SERVER_ERROR","CONNECTION_FAILED","OBJECT_NOT_FOUND","INVALID_QUERY","INVALID_CLASS_NAME","MISSING_OBJECT_ID","INVALID_KEY_NAME","INVALID_POINTER","INVALID_JSON","COMMAND_UNAVAILABLE","NOT_INITIALIZED","INCORRECT_TYPE","INVALID_CHANNEL_NAME","PUSH_MISCONFIGURED","OBJECT_TOO_LARGE","OPERATION_FORBIDDEN","CACHE_MISS","INVALID_NESTED_KEY","INVALID_FILE_NAME","INVALID_ACL","TIMEOUT","INVALID_EMAIL_ADDRESS","MISSING_CONTENT_TYPE","MISSING_CONTENT_LENGTH","INVALID_CONTENT_LENGTH","FILE_TOO_LARGE","FILE_SAVE_ERROR","FILE_DELETE_ERROR","DUPLICATE_VALUE","INVALID_ROLE_NAME","EXCEEDED_QUOTA","SCRIPT_FAILED","VALIDATION_ERROR","INVALID_IMAGE_DATA","UNSAVED_FILE_ERROR","INVALID_PUSH_TIME_ERROR","USERNAME_MISSING","PASSWORD_MISSING","USERNAME_TAKEN","EMAIL_TAKEN","EMAIL_MISSING","EMAIL_NOT_FOUND","SESSION_MISSING","MUST_CREATE_USER_THROUGH_SIGNUP","ACCOUNT_ALREADY_LINKED","LINKED_ID_MISSING","INVALID_LINKED_SESSION","UNSUPPORTED_SERVICE","X_DOMAIN_REQUEST","uuid","debug","setAdapters","adapterManager","global","realtime","initialUserAgent","liveQueryRealtime","on","ua","platformInfo","comments","name","extra","_getAVPath","isString","substring","_installationId","_getInstallationId","localStorage","getItemAsync","setItemAsync","_subscriptionId","_refreshSubscriptionId","subscriptionId","_getSubscriptionId","_parseDate","_extend","classProps","_encode","seenObjects","disallowObjects","full","_hasData","_toPointer","_toFullJSON","concat","ACL","toJSON","isDate","__type","iso","GeoPoint","map","isRegExp","source","Relation","Op","File","id","mapObject","v","k","_decode","__op","pointer","_create","clone","_finishFetch","object","latitude","longitude","relation","targetClassName","file","parseJSON","text","stringify","_encodeObjectOrArray","encodeAVObject","_arrayEach","each","_traverse","func","seen","indexOf","push","attributes","index","newChild","_each","_objectEach","callback","enable","namespaces","disable","EventEmitter","AdapterManager","_adapters","getAdapter","adapter","newAdapters","emit","bind","debugRequest","debugRequestError","requestsCount","time","onprogress","queryString","encodeURIComponent","filter","qs","count","promise","status","header","ok","enabled","syncApiNames","async","apiName","storage","removeAsync","removeItemAsync","getCacheData","cacheData","expired","expiredAt","getAsync","cache","setAsync","ttl","Promise","Cache","Conversation","AppRouter","isEmpty","isCNApp","appId","slice","fillServerURLs","stats","engine","api","rtm","getDefaultServerURLs","domain","_disableAppRouter","_initialized","init","options","appKey","serverURL","TypeError","setProduction","disableAppRouter","_setServerURLs","server","RTMRouter","Cloud","urls","setServerURL","setServerURLs","setRequestTimeout","ms","initialize","defineConfig","property","get","set","lockedUntil","disabled","lock","servers","protocal","push_server","stats_server","engine_server","api_server","eventSplitter","Array","Events","events","context","calls","event","node","tail","list","_callbacks","shift","next","off","cb","ctx","trigger","args","all","rest","call","unbind","arg1","arg2","_validate","isNumber","self","__defineGetter__","__defineSetter__","_latitude","_longitude","val","current","reject","navigator","geolocation","getCurrentPosition","location","coords","radiansTo","point","d2r","Math","PI","lat1rad","long1rad","lat2rad","long2rad","deltaLat","deltaLong","sinDeltaLatDiv2","sin","sinDeltaLongDiv2","a","cos","min","asin","sqrt","kilometersTo","milesTo","PUBLIC_KEY","permissionsById","setReadAccess","setWriteAccess","isFunction","accessList","userId","allowed","permission","isBoolean","_setAccess","accessType","Role","getName","permissions","_getAccess","getReadAccess","getWriteAccess","setPublicReadAccess","getPublicReadAccess","setPublicWriteAccess","getPublicWriteAccess","getRoleReadAccess","role","getRoleWriteAccess","setRoleReadAccess","setRoleWriteAccess","_initialize","_opDecoderMap","_registerDecoder","opName","decoder","json","op","ops","nextOp","_mergeWithPrevious","Set","_value","previous","_estimate","oldValue","_UNSET","Unset","Increment","amount","_amount","BitAnd","BitOr","BitXor","Add","objects","_objects","AddUnique","uniq","newValue","matchingObj","find","anObj","contains","Remove","union","difference","other","adds","removes","_targetClassName","pointerToId","relationsToAdd","relationsToRemove","added","removed","idToPointer","pointers","newAdd","newRemove","newRelation","reverseQuery","parentClass","relationKey","Query","equalTo","_ensureParentAndKey","add","change","remove","targetClass","_getSubclass","_defaultParams","redirectClassNameForKey","_addCondition","qiniu","s3","AVRequest","parseBase64","extname","match","b64Digit","number","fromCharCode","encodeBase64","array","chunks","ceil","times","b1","b2","b3","has2","has3","mimeType","metaData","base64","size","_extName","_data","_uploadHeaders","blob","uri","Blob","owner","withURL","type","prop","__source","createWithoutData","_operations","has","toFullJSON","holder","getACL","_acl","setACL","acl","attrName","setUploadHeader","attr","thumbnailURL","width","height","quality","scaleToFit","fmt","mode","ownerId","destroy","_fileToken","extName","keep_file_name","keepFileName","mime_type","save","_previousSave","uploadInfo","_token","token","_options","direction","provider","_callback","success","result","fetch","bucket","saveOptions","upload_url","fileFormData","field","upload","_bucket","uptoken","dataURItoBlob","dataURI","byteString","atob","unescape","ia","Uint8Array","charCodeAt","recursiveToPointer","RESERVED_KEYS","checkReservedKey","handleBatchResults","firstError","results","getValue","_mergeMagicFields","defaults","collection","_serverData","_opSetQueue","_flags","_hashedJSON","_escapedAttributes","cid","uniqueId","changed","_silent","_pending","silent","_previousAttributes","saveAll","_deepSaveAsync","fetchAll","requests","dirty","fetchedAttrs","_cleanupUnsetKeys","fetchWhenSave","getObjectId","getCreatedAt","createdAt","getUpdatedAt","updatedAt","newSeenObjects","_refreshCache","_refreshingCache","_resetCacheForKey","currentChanges","last","dirtyKeys","escape","html","escaped","toString","attrs","model","specialFields","_startSave","_cancelSave","failedChanges","first","nextChanges","op1","op2","_saving","_finishSave","serverData","fetchedObjects","savedChanges","_applyOpSet","fetched","_rebuildAllEstimatedData","opSetQueue","hasData","opSet","actualTarget","actualKey","wasSet","_rebuildEstimatedDataForKey","firstKey","previousAttributes","unset","unused_value","dataToValidate","changes","isRealChange","isEqual","increment","item","addUnique","bitAnd","bitOr","bitXor","clear","keysToClear","revert","lastOp","_keys","_getSaveJSON","_canBeSerialized","_canBeSerializedAsValue","fetchedKeys","arg3","wait","setOptions","unsavedChildren","unsavedFiles","_findUnsavedChildren","_allPreviousSaves","_failOnNotExist","failOnNotExist","queryParams","_getParams","where","makeRequest","_makeRequest","requestPromise","resp","serverAttrs","triggerDestroy","output","isNew","changing","_changing","deleteChanged","isValid","validate","disableBeforeHook","ignoreHook","disableAfterHook","hookName","__ignore_hooks","klass","_klass","destroyAll","objectsByClassNameAndFlags","groupBy","flags","body","ids","ObjectClass","_classMap","NewClassObject","OldClassObject","_className","arg0","newArguments","toArray","defineProperty","_LCClassName","register","children","files","canBeSerializedAsValue","remaining","batch","newRemaining","readyToStart","bathSavePromise","setName","getUsers","getRoles","newName","test","PLATFORM_ANONYMOUS","PLATFORM_QQAPP","mergeUnionDataIntoAuthData","defaultUnionIdPlatform","authData","unionId","unionIdPlatform","asMainAccount","platform","unionid","main_account","Boolean","_isCurrentUser","_cleanupAuthData","isCurrent","_synchronizeAllAuthData","_synchronizeAuthData","authType","_authProviders","getAuthType","restoreAuthentication","dissociateAuthData","_handleSaveResult","makeCurrent","password","_saveCurrentUser","_linkWith","authenticate","associateWithAuthData","associateWithAuthDataAndUnionId","unionOptions","associateWithMiniApp","authInfo","option","getAuthInfo","associateWithQQApp","preferUnionId","associateWithWeapp","linkWithWeapp","associateWithQQAppWithUnionId","mergeUnionId","associateWithWeappWithUnionId","_unlinkFrom","_isLinked","isAnonymous","logOut","_logOutWithAll","_logOutWith","deauthenticate","signUp","username","signUpOrlogInWithMobilePhone","mobilePhoneNumber","smsCode","loginWithAuthData","loginWithAuthDataAndUnionId","unionLoginOptions","loginWithWeapp","loginWithMiniApp","loginWithWeappWithUnionId","loginWithQQApp","loginWithQQAppWithUnionId","logIn","follow","userObjectId","unfollow","getFollowersAndFollowees","skip","limit","followers","followees","follower","followee","followerQuery","followeeQuery","updatePassword","oldPassword","newPassword","params","old_password","new_password","getUsername","getMobilePhoneNumber","setMobilePhoneNumber","phone","setUsername","setPassword","getEmail","setEmail","email","authenticated","isAuthenticated","_fetchUserBySessionToken","refreshSessionToken","_currentUser","_currentUserMatchesDisk","_CURRENT_USER_KEY","become","logInWithMobilePhoneSmsCode","mobilePhone","logInWithMobilePhone","loginWithEmail","_logInWith","signUpOrlogInWithAuthData","signUpOrlogInWithAuthDataAndUnionId","_genId","loginAnonymously","userObj","FriendShipQuery","_friendshipTag","requestPasswordReset","requestEmailVerify","requestMobilePhoneVerify","validateToken","validate_token","requestPasswordResetBySmsCode","requestChangePhoneNumber","changePhoneNumber","resetPasswordBySmsCode","verifyMobilePhone","requestLoginSmsCode","userData","_id","getItem","_registerAuthenticationProvider","requires","objectClass","_include","_select","_limit","_skip","or","queries","q","_orQuery","and","_andQuery","doCloudQuery","cql","pvalues","_newObject","_processResult","fromJSON","select","order","_includeACL","_order","queryJSON","_createRequest","_parseResponse","scan","orderedBy","batchSize","condition","scan_key","cursor","done","remainResults","n","sizeEqualTo","notEqualTo","lessThan","greaterThan","lessThanOrEqualTo","greaterThanOrEqualTo","containedIn","values","notContainedIn","containsAll","exists","doesNotExist","matches","regex","modifiers","ignoreCase","multiline","matchesQuery","doesNotMatchQuery","matchesKeyInQuery","queryKey","doesNotMatchKeyInQuery","$or","$and","_quote","s","replace","startsWith","endsWith","ascending","addAscending","descending","addDescending","near","withinRadians","distance","withinMiles","withinKilometers","withinGeoBox","southwest","northeast","$box","finished","callbacksDone","subscribe","LiveQuery","UserClass","requireRealtime","client","_client","_queryJSON","_onMessage","_dispatch","_onReconnect","queryId","query_id","updatedKeys","unsubscribe","deregister","userDefinedSubscriptionId","createLiveQueryClient","liveQueryClient","finally","pause","resume","Captcha","_authOptions","captchaToken","_requestCaptcha","verify","verifyCaptcha","textInput","image","verifyButton","document","getElementById","__refresh","src","focus","__image","addEventListener","__verify","__verifyButton","removeEventListener","captcha","run","rpc","getServerDate","requestSmsCode","verifySmsCode","captcha_url","captcha_token","requestCaptcha","captcha_code","Installation","Push","send","push_time","expiration_time","expiration_interval","getUser","getUserPointer","currUser","Status","imageUrl","inboxType","toObject","_getDataJSON","sendStatusToFollowers","messageId","sendPrivateStatus","countUnreadStatuses","resetUnreadCount","statusQuery","InboxQuery","_objectClass","_sinceId","_maxId","_inboxType","_owner","sinceId","maxId","inboxQuery","SearchSortBuilder","_sortFields","_addField","missing","whereNear","geo","lat","lon","m","unit","build","SearchQuery","_sid","_hits","_queryString","_highlights","_sortBuilder","_clazz","sid","highlights","sortBy","builder","hits","hasMore","_hitEnd","reset","_oldSid","appURL","clazz","sort","Insight","startJob","jobConfig","sql","JobQuery","LCRequest","Friendship","friend","friendObject","friendship","acceptRequest","requestId","declineRequest","serializeMessage","getPayload","isSystem","isTransient","getCreator","getLastMessageAt","getMembers","addMember","member","getMutedMembers","fromClient","from_peer","conv_id","transient","toClients","to_peers","pushData","push_data","broadcast","validTill","ts","valid_till","LeaderboardVersionChangeInterval","NEVER","DAY","WEEK","MONTH","LeaderboardOrder","ASCENDING","DESCENDING","LeaderboardUpdateStrategy","BETTER","LAST","SUM","Statistic","parseStatisticData","statisticData","statisticName","statisticValue","Leaderboard","updateStrategy","versionChangeInterval","nextResetAt","createLeaderboard","leaderboard","getLeaderboard","getStatistics","statisticNames","statistics","updateStatistics","overwrite","deleteStatistics","_getResults","selectUserKeys","includeUserKeys","includeStatistics","includeUser","rankings","rankingData","rank","includedStatistics","getResults","getResultsAroundUser","_update","updateVersionChangeInterval","updateUpdateStrategy","getArchives","activatedAt","deactivatedAt"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,O;QCVA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;;QAEA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;;;QAGA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;QACA;QACA;QACA;QACA;QACA,KAAK;QACL;QACA;;QAEA;QACA;QACA;QACA,2BAA2B,0BAA0B,EAAE;QACvD,iCAAiC,eAAe;QAChD;QACA;QACA;;QAEA;QACA,sDAAsD,+DAA+D;;QAErH;QACA;;QAEA;QACA;;;;;;;AC7DA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY,gBAAgB;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB,oBAAoB;AACzC;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,mBAAmB,YAAY;AAC/B;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sCAAsC,YAAY;AAClD;AACA;AACA,KAAK;AACL;AACA,uCAAuC,YAAY;AACnD;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,gBAAgB;AACvC;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY,8BAA8B;AAC1C;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,gBAAgB;AACvC;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,gBAAgB;AACvC;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL,GAAG;;AAEH;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,0CAA0C,YAAY;AACtD;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,0CAA0C,YAAY;AACtD;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,WAAW;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;;AAEA;AACA;AACA;AACA,kDAAkD;AAClD,GAAG;;AAEH;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA,wCAAwC;AACxC,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,8CAA8C,YAAY;AAC1D;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8CAA8C,YAAY;AAC1D;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA,8CAA8C,YAAY;AAC1D;AACA;AACA;AACA,iBAAiB,gBAAgB;AACjC;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL,GAAG;;AAEH;AACA;AACA;AACA;AACA;;AAEA,uBAAuB,gBAAgB;AACvC;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,6CAA6C,YAAY;AACzD;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY,8BAA8B;AAC1C;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sDAAsD;AACtD;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0CAA0C,0BAA0B;AACpE;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA,qBAAqB,cAAc;AACnC;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB,YAAY;AACjC;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL,GAAG;;AAEH;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,OAAO,eAAe;AACtB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;;AAEA;AACA,KAAK;;AAEL;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA,qBAAqB,eAAe;AACpC;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,mBAAmB,YAAY;AAC/B;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,gBAAgB;AACvC;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,YAAY;AAC/B;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,yCAAyC,YAAY;AACrD;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB,gBAAgB;AACzC;AACA;AACA;AACA,uBAAuB,OAAO;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,yCAAyC,YAAY;AACrD;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,mBAAmB;AACnB;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,yCAAyC,YAAY;AACrD;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,qDAAqD;AACrD;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,mBAAmB,YAAY;AAC/B;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6EAA6E;AAC7E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,YAAY;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,0BAA0B;AAC1B;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,mBAAmB,OAAO;AAC1B;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,eAAe;AACf,cAAc;AACd,cAAc;AACd,gBAAgB;AAChB,gBAAgB;AAChB,gBAAgB;AAChB;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,YAAY;AAC/B;AACA;AACA;AACA,mBAAmB;AACnB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,4BAA4B;;AAE5B;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,OAAO;AACP;AACA,OAAO;A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CA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;AChBA;AACA,gBAAgB,mBAAO,CAAC,EAAe;AACvC;AACA;AACA,2DAA2D;AAC3D;;;;;;;ACLA,eAAe,mBAAO,CAAC,CAAW;AAClC;;;;;;;ACDA;AACA,UAAU,mBAAO,CAAC,EAAQ;AAC1B,eAAe,mBAAO,CAAC,EAAc;AACrC,eAAe,mBAAO,CAAC,EAAe;AACtC;;AAEA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;;;;;;;ACZA,cAAc,mBAAO,CAAC,EAAY;AAClC,eAAe,mBAAO,CAAC,CAAQ;AAC/B,gBAAgB,mBAAO,CAAC,EAAc;AACtC,iBAAiB,mBAAO,CAAC,CAAS;AAClC;AACA;AACA;AACA;;;;;;;ACPA;AACA,eAAe,mBAAO,CAAC,CAAc;AACrC,gBAAgB,mBAAO,CAAC,EAAe;AACvC,cAAc,mBAAO,CAAC,CAAQ;AAC9B;AACA;AACA;AACA;AACA;;;;;;;ACRA,UAAU,mBAAO,CAAC,EAAQ;AAC1B,aAAa,mBAAO,CAAC,EAAW;AAChC,WAAW,mBAAO,CAAC,EAAS;AAC5B,UAAU,mBAAO,CAAC,EAAe;AACjC,aAAa,mBAAO,CAAC,CAAW;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM,mBAAO,CAAC,EAAQ;AACtB;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;ACnFA;AACA;AACA,YAAY;AACZ,GAAG;AACH,YAAY;AACZ;AACA;;;;;;;ACNA,eAAe,mBAAO,CAAC,CAAc;AACrC,eAAe,mBAAO,CAAC,EAAc;AACrC,2BAA2B,mBAAO,CAAC,EAA2B;;AAE9D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;ACXA;;AAEA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;;AAEA;AACA;AACA,4CAA4C;;AAE5C;;;;;;;ACpBA,kBAAkB,YAAY,mBAAO,CAAC,GAAgC,sB;;;;;;ACAtE,UAAU,mBAAO,CAAC,GAAW;AAC7B,kBAAkB,mBAAO,CAAC,GAAmB;;AAE7C;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,oBAAoB,SAAS;AAC7B;AACA;AACA;;AAEA;AACA;;AAEA;;;;;;;;;;AC5BAwE,OAAOC,OAAP,GAAiB,QAAjB,C;;;;;;;ACAa;;AAEb;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,SAAS;AACpB,WAAW,MAAM;AACjB,WAAW,QAAQ;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,WAAW,cAAc;AACzB,WAAW,QAAQ;AACnB,aAAa;AACb;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,0DAA0D,OAAO;AACjE;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,WAAW,cAAc;AACzB,aAAa,QAAQ;AACrB;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,yCAAyC,SAAS;AAClD;AACA;;AAEA;AACA,GAAG;AACH;AACA;;AAEA,eAAe,YAAY;AAC3B;;AAEA;AACA,2DAA2D;AAC3D,+DAA+D;AAC/D,mEAAmE;AACnE,uEAAuE;AACvE;AACA,0DAA0D,SAAS;AACnE;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,WAAW,cAAc;AACzB,WAAW,SAAS;AACpB,WAAW,MAAM;AACjB,aAAa,aAAa;AAC1B;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,WAAW,cAAc;AACzB,WAAW,SAAS;AACpB,WAAW,MAAM;AACjB,aAAa,aAAa;AAC1B;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,WAAW,cAAc;AACzB,WAAW,SAAS;AACpB,WAAW,MAAM;AACjB,WAAW,QAAQ;AACnB,aAAa,aAAa;AAC1B;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH,2DAA2D,YAAY;AACvE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,WAAW,cAAc;AACzB,aAAa,aAAa;AAC1B;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,IAAI,IAA6B;AACjC;AACA;;;;;;;;;;;;;;;;eCtTqB9E,mBAAOA,CAAC,EAAR,C;IAAf8Q,U,YAAAA,U;;AAEN,IAAIoB,eAAe,CAAC,SAAD,EAAY,SAAZ,EAAuB,YAAvB,EAAqC,OAArC,CAAnB;;AAEA,IAAM1F,eAAe;AACnB,MAAI2F,KA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BAAgB,mBAAO,CAAC,EAAc;AACtC,gBAAgB,mBAAO,CAAC,EAAe;;AAEvC;AACA;AACA;AACA;AACA,iBAAiB,mBAAO,CAAC,EAAgB;AACzC,gCAAgC;AAChC,cAAc;AACd,iBAAiB;AACjB;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;;AAEA;AACA;AACA;;;;;;;ACjCA,8BAA8B;;;;;;;ACA9B;AACA,UAAU;AACV;;;;;;;;ACFa;AACb,cAAc,mBAAO,CAAC,EAAY;AAClC,aAAa,mBAAO,CAAC,CAAW;AAChC,UAAU,mBAAO,CAAC,EAAQ;AAC1B,cAAc,mBAAO,CAAC,EAAY;AAClC,cAAc,mBAAO,CAAC,EAAW;AACjC,eAAe,mBAAO,CAAC,EAAc;AACrC,gBAAgB,mBAAO,CAAC,EAAe;AACvC,iBAAiB,mBAAO,CAAC,EAAgB;AACzC,YAAY,mBAAO,CAAC,EAAW;AAC/B,yBAAyB,mBAAO,CAAC,EAAwB;AACzD,WAAW,mBAAO,CAAC,EAAS;AAC5B,gBAAgB,mBAAO,CAAC,EAAc;AACtC,iCAAiC,mBAAO,CAAC,EAA2B;AACpE,cAAc,mBAAO,CAAC,EAAY;AAClC,gBAAgB,mBAAO,CAAC,EAAe;AACvC,qBAAqB,mBAAO,CAAC,EAAoB;AACjD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB;AACzB;AACA;;AAEA;AACA;AACA;AACA;AACA,+CAA+C,EAAE,mBAAO,CAAC,CAAQ;AACjE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG,YAAY;AACf,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oCAAoC;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA,WAAW;AACX,SAAS;AACT,OAAO;AACP;AACA;AACA;AACA;AACA,6CAA6C;AAC7C;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,mBAAmB,kCAAkC;AACrD,SAAS;AACT;AACA;AACA,OAAO;AACP;AACA;AACA,KAAK;AACL;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL,eAAe,uCAAuC;AACtD;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,kCAAkC;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kCAAkC;AAClC;AACA;AACA;AACA;AACA,uBAAuB,0BAA0B;AACjD;AACA;AACA,SAAS;AACT;AACA;AACA,OAAO;AACP,KAAK;AACL;AACA;AACA;AACA;AACA,GAAG;AACH,kBAAkB,yBAAyB,KAAK;AAChD;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB,wBAAwB;AACxB,gBAAgB;AAChB,oBAAoB;AACpB,wBAAwB;AACxB,gBAAgB;AAChB,oBAAoB;AACpB;AACA,uBAAuB,mBAAO,CAAC,EAAiB;AAChD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,0DAA0D,oBAAoB;AAC9E,mBAAO,CAAC,EAAsB;AAC9B,mBAAO,CAAC,EAAgB;AACxB,UAAU,mBAAO,CAAC,CAAS;;AAE3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,gDAAgD,mBAAO,CAAC,EAAgB;AACxE;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,OAAO;AACP;AACA,KAAK;AACL;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP,KAAK;AACL;AACA;AACA;AACA,CAAC;;;;;;;AC7RD;AACA;AACA;AACA,GAAG;AACH;;;;;;;ACJA,UAAU,mBAAO,CAAC,EAAQ;AAC1B,WAAW,mBAAO,CAAC,EAAc;AACjC,kBAAkB,mBAAO,CAAC,EAAkB;AAC5C,eAAe,mBAAO,CAAC,CAAc;AACrC,eAAe,mBAAO,CAAC,EAAc;AACrC,gBAAgB,mBAAO,CAAC,EAA4B;AACpD;AACA;AACA;AACA,uCAAuC,iBAAiB,EAAE;AAC1D;AACA;AACA;AACA;AACA;AACA,mEAAmE,gBAAgB;AACnF;AACA;AACA,GAAG,4CAA4C,gCAAgC;AAC/E;AACA;AACA;AACA;AACA;AACA;;;;;;;ACxBA;AACA,eAAe,mBAAO,CAAC,CAAc;AACrC;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;;;;;;;ACXA;AACA,gBAAgB,mBAAO,CAAC,EAAc;AACtC,eAAe,mBAAO,CAAC,CAAQ;AAC/B;;AAEA;AACA;AACA;;;;;;;ACPA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;;;;;;;ACfA,aAAa,mBAAO,CAAC,CAAW;AAChC,gBAAgB,mBAAO,CAAC,EAAS;AACjC;AACA;AACA;AACA,aAAa,mBAAO,CAAC,EAAQ;;AAE7B;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,uCAAuC,sBAAsB,EAAE;AAC/D;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;;AAEA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;;;;;;ACpEA,aAAa,mBAAO,CAAC,CAAW;AAChC;;AAEA;;;;;;;ACHA,WAAW,mBAAO,CAAC,EAAS;AAC5B;AACA;AACA;AACA;AACA,GAAG;AACH;;;;;;;;ACNa;AACb,aAAa,mBAAO,CAAC,CAAW;AAChC,WAAW,mBAAO,CAAC,CAAS;AAC5B,SAAS,mBAAO,CAAC,CAAc;AAC/B,kBAAkB,mBAAO,CAAC,EAAgB;AAC1C,cAAc,mBAAO,CAAC,CAAQ;;AAE9B;AACA;AACA;AACA;AACA,sBAAsB,aAAa;AACnC,GAAG;AACH;;;;;;;ACbA,eAAe,mBAAO,CAAC,CAAQ;AAC/B;;AAEA;AACA;AACA,iCAAiC,qBAAqB;AACtD;AACA,iCAAiC,SAAS,EAAE;AAC5C,CAAC,YAAY;;AAEb;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B,SAAS,qBAAqB;AAC3D,iCAAiC,aAAa;AAC9C;AACA,GAAG,YAAY;AACf;AACA;;;;;;;;ACrBA;AACa;AACb,cAAc,mBAAO,CAAC,EAAW;AACjC,WAAW,mBAAO,CAAC,CAAS;AAC5B,aAAa,mBAAO,CAAC,CAAW;AAChC,yBAAyB,mBAAO,CAAC,EAAwB;AACzD,qBAAqB,mBAAO,CAAC,EAAoB;;AAEjD,2CAA2C;AAC3C;AACA;AACA;AACA;AACA,8DAA8D,UAAU,EAAE;AAC1E,KAAK;AACL;AACA,8DAA8D,SAAS,EAAE;AACzE,KAAK;AACL;AACA,CAAC,EAAE;;;;;;;;ACnBU;AACb;AACA,cAAc,mBAAO,CAAC,EAAW;AACjC,2BAA2B,mBAAO,CAAC,EAA2B;AAC9D,cAAc,mBAAO,CAAC,EAAY;;AAElC,+BAA+B;AAC/B;AACA;AACA;AACA;AACA,CAAC,EAAE;;;;;;;ACXH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;;;;;;;ACrBA,WAAW,mBAAO,CAAC,CAAqB;AACxC,uCAAuC,4BAA4B;AACnE,yCAAyC;AACzC;AACA;;;;;;;ACJA,mBAAO,CAAC,GAA+B;AACvC,iBAAiB,mBAAO,CAAC,CAAqB;;;;;;;ACD9C;AACA,eAAe,mBAAO,CAAC,EAAc;AACrC,YAAY,mBAAO,CAAC,EAAgB;;AAEpC,mBAAO,CAAC,EAAe;AACvB;AACA;AACA;AACA,CAAC;;;;;;;ACRD;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,iCAAiC;;AAEjC;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;;AAEA;AACA,sBAAsB,QAAQ;AAC9B;AACA;AACA;;AAEA;AACA;AACA;;;;;;;ACjCA;AACA;AACA;AACA;AACA;AACA,eAAe,SAAS;AACxB;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;ACvBa;;AAEb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB,mBAAO,CAAC,GAAI;AACrC;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,YAAY,OAAO;AACnB,aAAa,cAAc;AAC3B;AACA;;AAEA;AACA;;AAEA,mBAAmB,sBAAsB;AACzC;AACA,gBAAgB;AAChB;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,YAAY,OAAO;AACnB,aAAa;AACb;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,yEAAyE,aAAa;AACtF;AACA;;AAEA,uBAAuB;;AAEvB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,OAAO;;;AAGP;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,4CAA4C;;AAE5C;AACA;AACA;;AAEA;AACA,OAAO,EAAE;;AAET;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,0BAA0B;AAC1B;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY,OAAO;AACnB;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,eAAe,SAAS;AACxB;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA,OAAO;AACP;AACA;AACA;;AAEA,eAAe,kCAAkC;AACjD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY,OAAO;AACnB,aAAa;AACb;AACA;;;AAGA;AACA;AACA;AACA;;AAEA;AACA;;AAEA,+CAA+C,SAAS;AACxD;AACA;AACA;AACA;;AAEA,+CAA+C,SAAS;AACxD;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,YAAY,MAAM;AAClB,aAAa;AACb;AACA;;;AAGA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;;;;;;;;ACvPA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,cAAc;AACzB,WAAW,OAAO;AAClB,YAAY,MAAM;AAClB,YAAY;AACZ;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,OAAO;AAClB,YAAY;AACZ;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,OAAO;AAClB,YAAY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ACA;AACA;;AAEA;AACA;AACA,CAAC;AACD;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2DAA2D;AAC3D;AACA,KAAK;AACL;AACA,sBAAsB,mCAAmC;AACzD,KAAK;AACL,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gEAAgE,gCAAgC;AAChG;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA,EAAE,mBAAO,CAAC,EAAgB;AAC1B,EAAE,mBAAO,CAAC,EAAe;AACzB;;AAEA,sBAAsB,mBAAO,CAAC,EAAY;AAC1C;AACA;;AAEA;AACA;AACA;AACA;;AAEA,0DAA0D,kBAAkB;;AAE5E;AACA;AACA;AACA,oBAAoB,uBAAuB;;AAE3C,oDAAoD,6BAA6B;;AAEjF;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH,0BAA0B,eAAe,EAAE;AAC3C,0BAA0B,gBAAgB;AAC1C,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA,8CAA8C,YAAY,EAAE;;AAE5D;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA,oDAAoD,OAAO,QAAQ,iCAAiC;AACpG,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA,wEAAwE;AACxE;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA,oCAAoC,mBAAO,CAAC,EAAS;AACrD;AACA;AACA;AACA;AACA;AACA;;;;;;;ACrPA,WAAW,mBAAO,CAAC,EAAQ;AAC3B,eAAe,mBAAO,CAAC,EAAc;AACrC,UAAU,mBAAO,CAAC,EAAQ;AAC1B,cAAc,mBAAO,CAAC,CAAc;AACpC;AACA;AACA;AACA;AACA,cAAc,mBAAO,CAAC,EAAU;AAChC,iDAAiD;AACjD,CAAC;AACD;AACA,qBAAqB;AACrB;AACA,SAAS;AACT,GAAG,EAAE;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;ACpDA;AACA,cAAc,mBAAO,CAAC,EAAgB;AACtC,WAAW,mBAAO,CAAC,EAAgB;AACnC,UAAU,mBAAO,CAAC,EAAe;AACjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;;;;;;;ACdA;AACA,UAAU,mBAAO,CAAC,EAAQ;AAC1B;AACA;AACA;;;;;;;ACJA;AACA,gBAAgB,mBAAO,CAAC,EAAe;AACvC,WAAW,mBAAO,CAAC,EAAgB;AACnC,iBAAiB;;AAEjB;AACA;;AAEA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;;;;;;;AClBA,mBAAO,CAAC,EAAe;;;;;;;ACAvB,mBAAO,CAAC,EAAe;;;;;;;;ACAvB;AACa;;AAEb;AACA;AACA;AACA;AACA;;AAEA;AACA,6BAA6B,mBAAmB;AAChD;AACA;AACA,WAAW,QAAQ;AACnB,WAAW,OAAO;AAClB,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP,KAAK;AACL;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,GAAG;AACH;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;;;;;;;;;AChDA,IAAIpT,IAAIC,mBAAOA,CAAC,CAAR,CAAR;;AAEA6E,OAAOC,OAAP,GAAiB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AC,EAAS;;AAE7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,mBAAmB,cAAc;AACjC;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,mBAAmB,cAAc;;AAEjC;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,CAAC;;;;;;;AC/JD;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,qBAAqB,cAAc;AACnC;AACA;AACA,KAAK;;AAEL;AACA;AACA,0BAA0B,OAAO;AACjC;AACA;AACA,KAAK;;AAEL;AACA;AACA,wCAAwC,kBAAkB;AAC1D;AACA;AACA,KAAK;;AAEL;AACA;AACA,iCAAiC,uBAAuB;AACxD;AACA;AACA,KAAK;;AAEL;AACA;AACA,+BAA+B,kBAAkB;AACjD;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA,iCAAiC,gBAAgB;AACjD;AACA;AACA,KAAK;;AAEL;AACA;AACA,kCAAkC,kBAAkB;AACpD;AACA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","file":"av-core.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"AV\"] = factory();\n\telse\n\t\troot[\"AV\"] = factory();\n})(typeof self !== 'undefined' ? self : this, function() {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 74);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 2e3416186bf7447831f8","//     Underscore.js 1.9.1\n//     http://underscorejs.org\n//     (c) 2009-2018 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n//     Underscore may be freely distributed under the MIT license.\n\n(function() {\n\n  // Baseline setup\n  // --------------\n\n  // Establish the root object, `window` (`self`) in the browser, `global`\n  // on the server, or `this` in some virtual machines. We use `self`\n  // instead of `window` for `WebWorker` support.\n  var root = typeof self == 'object' && self.self === self && self ||\n            typeof global == 'object' && global.global === global && global ||\n            this ||\n            {};\n\n  // Save the previous value of the `_` variable.\n  var previousUnderscore = root._;\n\n  // Save bytes in the minified (but not gzipped) version:\n  var ArrayProto = Array.prototype, ObjProto = Object.prototype;\n  var SymbolProto = typeof Symbol !== 'undefined' ? Symbol.prototype : null;\n\n  // Create quick reference variables for speed access to core prototypes.\n  var push = ArrayProto.push,\n      slice = ArrayProto.slice,\n      toString = ObjProto.toString,\n      hasOwnProperty = ObjProto.hasOwnProperty;\n\n  // All **ECMAScript 5** native function implementations that we hope to use\n  // are declared here.\n  var nativeIsArray = Array.isArray,\n      nativeKeys = Object.keys,\n      nativeCreate = Object.create;\n\n  // Naked function reference for surrogate-prototype-swapping.\n  var Ctor = function(){};\n\n  // Create a safe reference to the Underscore object for use below.\n  var _ = function(obj) {\n    if (obj instanceof _) return obj;\n    if (!(this instanceof _)) return new _(obj);\n    this._wrapped = obj;\n  };\n\n  // Export the Underscore object for **Node.js**, with\n  // backwards-compatibility for their old module API. If we're in\n  // the browser, add `_` as a global object.\n  // (`nodeType` is checked to ensure that `module`\n  // and `exports` are not HTML elements.)\n  if (typeof exports != 'undefined' && !exports.nodeType) {\n    if (typeof module != 'undefined' && !module.nodeType && module.exports) {\n      exports = module.exports = _;\n    }\n    exports._ = _;\n  } else {\n    root._ = _;\n  }\n\n  // Current version.\n  _.VERSION = '1.9.1';\n\n  // Internal function that returns an efficient (for current engines) version\n  // of the passed-in callback, to be repeatedly applied in other Underscore\n  // functions.\n  var optimizeCb = function(func, context, argCount) {\n    if (context === void 0) return func;\n    switch (argCount == null ? 3 : argCount) {\n      case 1: return function(value) {\n        return func.call(context, value);\n      };\n      // The 2-argument case is omitted because were not using it.\n      case 3: return function(value, index, collection) {\n        return func.call(context, value, index, collection);\n      };\n      case 4: return function(accumulator, value, index, collection) {\n        return func.call(context, accumulator, value, index, collection);\n      };\n    }\n    return function() {\n      return func.apply(context, arguments);\n    };\n  };\n\n  var builtinIteratee;\n\n  // An internal function to generate callbacks that can be applied to each\n  // element in a collection, returning the desired result  either `identity`,\n  // an arbitrary callback, a property matcher, or a property accessor.\n  var cb = function(value, context, argCount) {\n    if (_.iteratee !== builtinIteratee) return _.iteratee(value, context);\n    if (value == null) return _.identity;\n    if (_.isFunction(value)) return optimizeCb(value, context, argCount);\n    if (_.isObject(value) && !_.isArray(value)) return _.matcher(value);\n    return _.property(value);\n  };\n\n  // External wrapper for our callback generator. Users may customize\n  // `_.iteratee` if they want additional predicate/iteratee shorthand styles.\n  // This abstraction hides the internal-only argCount argument.\n  _.iteratee = builtinIteratee = function(value, context) {\n    return cb(value, context, Infinity);\n  };\n\n  // Some functions take a variable number of arguments, or a few expected\n  // arguments at the beginning and then a variable number of values to operate\n  // on. This helper accumulates all remaining arguments past the functions\n  // argument length (or an explicit `startIndex`), into an array that becomes\n  // the last argument. Similar to ES6s \"rest parameter\".\n  var restArguments = function(func, startIndex) {\n    startIndex = startIndex == null ? func.length - 1 : +startIndex;\n    return function() {\n      var length = Math.max(arguments.length - startIndex, 0),\n          rest = Array(length),\n          index = 0;\n      for (; index < length; index++) {\n        rest[index] = arguments[index + startIndex];\n      }\n      switch (startIndex) {\n        case 0: return func.call(this, rest);\n        case 1: return func.call(this, arguments[0], rest);\n        case 2: return func.call(this, arguments[0], arguments[1], rest);\n      }\n      var args = Array(startIndex + 1);\n      for (index = 0; index < startIndex; index++) {\n        args[index] = arguments[index];\n      }\n      args[startIndex] = rest;\n      return func.apply(this, args);\n    };\n  };\n\n  // An internal function for creating a new object that inherits from another.\n  var baseCreate = function(prototype) {\n    if (!_.isObject(prototype)) return {};\n    if (nativeCreate) return nativeCreate(prototype);\n    Ctor.prototype = prototype;\n    var result = new Ctor;\n    Ctor.prototype = null;\n    return result;\n  };\n\n  var shallowProperty = function(key) {\n    return function(obj) {\n      return obj == null ? void 0 : obj[key];\n    };\n  };\n\n  var has = function(obj, path) {\n    return obj != null && hasOwnProperty.call(obj, path);\n  }\n\n  var deepGet = function(obj, path) {\n    var length = path.length;\n    for (var i = 0; i < length; i++) {\n      if (obj == null) return void 0;\n      obj = obj[path[i]];\n    }\n    return length ? obj : void 0;\n  };\n\n  // Helper for collection methods to determine whether a collection\n  // should be iterated as an array or as an object.\n  // Related: http://people.mozilla.org/~jorendorff/es6-draft.html#sec-tolength\n  // Avoids a very nasty iOS 8 JIT bug on ARM-64. #2094\n  var MAX_ARRAY_INDEX = Math.pow(2, 53) - 1;\n  var getLength = shallowProperty('length');\n  var isArrayLike = function(collection) {\n    var length = getLength(collection);\n    return typeof length == 'number' && length >= 0 && length <= MAX_ARRAY_INDEX;\n  };\n\n  // Collection Functions\n  // --------------------\n\n  // The cornerstone, an `each` implementation, aka `forEach`.\n  // Handles raw objects in addition to array-likes. Treats all\n  // sparse array-likes as if they were dense.\n  _.each = _.forEach = function(obj, iteratee, context) {\n    iteratee = optimizeCb(iteratee, context);\n    var i, length;\n    if (isArrayLike(obj)) {\n      for (i = 0, length = obj.length; i < length; i++) {\n        iteratee(obj[i], i, obj);\n      }\n    } else {\n      var keys = _.keys(obj);\n      for (i = 0, length = keys.length; i < length; i++) {\n        iteratee(obj[keys[i]], keys[i], obj);\n      }\n    }\n    return obj;\n  };\n\n  // Return the results of applying the iteratee to each element.\n  _.map = _.collect = function(obj, iteratee, context) {\n    iteratee = cb(iteratee, context);\n    var keys = !isArrayLike(obj) && _.keys(obj),\n        length = (keys || obj).length,\n        results = Array(length);\n    for (var index = 0; index < length; index++) {\n      var currentKey = keys ? keys[index] : index;\n      results[index] = iteratee(obj[currentKey], currentKey, obj);\n    }\n    return results;\n  };\n\n  // Create a reducing function iterating left or right.\n  var createReduce = function(dir) {\n    // Wrap code that reassigns argument variables in a separate function than\n    // the one that accesses `arguments.length` to avoid a perf hit. (#1991)\n    var reducer = function(obj, iteratee, memo, initial) {\n      var keys = !isArrayLike(obj) && _.keys(obj),\n          length = (keys || obj).length,\n          index = dir > 0 ? 0 : length - 1;\n      if (!initial) {\n        memo = obj[keys ? keys[index] : index];\n        index += dir;\n      }\n      for (; index >= 0 && index < length; index += dir) {\n        var currentKey = keys ? keys[index] : index;\n        memo = iteratee(memo, obj[currentKey], currentKey, obj);\n      }\n      return memo;\n    };\n\n    return function(obj, iteratee, memo, context) {\n      var initial = arguments.length >= 3;\n      return reducer(obj, optimizeCb(iteratee, context, 4), memo, initial);\n    };\n  };\n\n  // **Reduce** builds up a single result from a list of values, aka `inject`,\n  // or `foldl`.\n  _.reduce = _.foldl = _.inject = createReduce(1);\n\n  // The right-associative version of reduce, also known as `foldr`.\n  _.reduceRight = _.foldr = createReduce(-1);\n\n  // Return the first value which passes a truth test. Aliased as `detect`.\n  _.find = _.detect = function(obj, predicate, context) {\n    var keyFinder = isArrayLike(obj) ? _.findIndex : _.findKey;\n    var key = keyFinder(obj, predicate, context);\n    if (key !== void 0 && key !== -1) return obj[key];\n  };\n\n  // Return all the elements that pass a truth test.\n  // Aliased as `select`.\n  _.filter = _.select = function(obj, predicate, context) {\n    var results = [];\n    predicate = cb(predicate, context);\n    _.each(obj, function(value, index, list) {\n      if (predicate(value, index, list)) results.push(value);\n    });\n    return results;\n  };\n\n  // Return all the elements for which a truth test fails.\n  _.reject = function(obj, predicate, context) {\n    return _.filter(obj, _.negate(cb(predicate)), context);\n  };\n\n  // Determine whether all of the elements match a truth test.\n  // Aliased as `all`.\n  _.every = _.all = function(obj, predicate, context) {\n    predicate = cb(predicate, context);\n    var keys = !isArrayLike(obj) && _.keys(obj),\n        length = (keys || obj).length;\n    for (var index = 0; index < length; index++) {\n      var currentKey = keys ? keys[index] : index;\n      if (!predicate(obj[currentKey], currentKey, obj)) return false;\n    }\n    return true;\n  };\n\n  // Determine if at least one element in the object matches a truth test.\n  // Aliased as `any`.\n  _.some = _.any = function(obj, predicate, context) {\n    predicate = cb(predicate, context);\n    var keys = !isArrayLike(obj) && _.keys(obj),\n        length = (keys || obj).length;\n    for (var index = 0; index < length; index++) {\n      var currentKey = keys ? keys[index] : index;\n      if (predicate(obj[currentKey], currentKey, obj)) return true;\n    }\n    return false;\n  };\n\n  // Determine if the array or object contains a given item (using `===`).\n  // Aliased as `includes` and `include`.\n  _.contains = _.includes = _.include = function(obj, item, fromIndex, guard) {\n    if (!isArrayLike(obj)) obj = _.values(obj);\n    if (typeof fromIndex != 'number' || guard) fromIndex = 0;\n    return _.indexOf(obj, item, fromIndex) >= 0;\n  };\n\n  // Invoke a method (with arguments) on every item in a collection.\n  _.invoke = restArguments(function(obj, path, args) {\n    var contextPath, func;\n    if (_.isFunction(path)) {\n      func = path;\n    } else if (_.isArray(path)) {\n      contextPath = path.slice(0, -1);\n      path = path[path.length - 1];\n    }\n    return _.map(obj, function(context) {\n      var method = func;\n      if (!method) {\n        if (contextPath && contextPath.length) {\n          context = deepGet(context, contextPath);\n        }\n        if (context == null) return void 0;\n        method = context[path];\n      }\n      return method == null ? method : method.apply(context, args);\n    });\n  });\n\n  // Convenience version of a common use case of `map`: fetching a property.\n  _.pluck = function(obj, key) {\n    return _.map(obj, _.property(key));\n  };\n\n  // Convenience version of a common use case of `filter`: selecting only objects\n  // containing specific `key:value` pairs.\n  _.where = function(obj, attrs) {\n    return _.filter(obj, _.matcher(attrs));\n  };\n\n  // Convenience version of a common use case of `find`: getting the first object\n  // containing specific `key:value` pairs.\n  _.findWhere = function(obj, attrs) {\n    return _.find(obj, _.matcher(attrs));\n  };\n\n  // Return the maximum element (or element-based computation).\n  _.max = function(obj, iteratee, context) {\n    var result = -Infinity, lastComputed = -Infinity,\n        value, computed;\n    if (iteratee == null || typeof iteratee == 'number' && typeof obj[0] != 'object' && obj != null) {\n      obj = isArrayLike(obj) ? obj : _.values(obj);\n      for (var i = 0, length = obj.length; i < length; i++) {\n        value = obj[i];\n        if (value != null && value > result) {\n          result = value;\n        }\n      }\n    } else {\n      iteratee = cb(iteratee, context);\n      _.each(obj, function(v, index, list) {\n        computed = iteratee(v, index, list);\n        if (computed > lastComputed || computed === -Infinity && result === -Infinity) {\n          result = v;\n          lastComputed = computed;\n        }\n      });\n    }\n    return result;\n  };\n\n  // Return the minimum element (or element-based computation).\n  _.min = function(obj, iteratee, context) {\n    var result = Infinity, lastComputed = Infinity,\n        value, computed;\n    if (iteratee == null || typeof iteratee == 'number' && typeof obj[0] != 'object' && obj != null) {\n      obj = isArrayLike(obj) ? obj : _.values(obj);\n      for (var i = 0, length = obj.length; i < length; i++) {\n        value = obj[i];\n        if (value != null && value < result) {\n          result = value;\n        }\n      }\n    } else {\n      iteratee = cb(iteratee, context);\n      _.each(obj, function(v, index, list) {\n        computed = iteratee(v, index, list);\n        if (computed < lastComputed || computed === Infinity && result === Infinity) {\n          result = v;\n          lastComputed = computed;\n        }\n      });\n    }\n    return result;\n  };\n\n  // Shuffle a collection.\n  _.shuffle = function(obj) {\n    return _.sample(obj, Infinity);\n  };\n\n  // Sample **n** random values from a collection using the modern version of the\n  // [Fisher-Yates shuffle](http://en.wikipedia.org/wiki/FisherYates_shuffle).\n  // If **n** is not specified, returns a single random element.\n  // The internal `guard` argument allows it to work with `map`.\n  _.sample = function(obj, n, guard) {\n    if (n == null || guard) {\n      if (!isArrayLike(obj)) obj = _.values(obj);\n      return obj[_.random(obj.length - 1)];\n    }\n    var sample = isArrayLike(obj) ? _.clone(obj) : _.values(obj);\n    var length = getLength(sample);\n    n = Math.max(Math.min(n, length), 0);\n    var last = length - 1;\n    for (var index = 0; index < n; index++) {\n      var rand = _.random(index, last);\n      var temp = sample[index];\n      sample[index] = sample[rand];\n      sample[rand] = temp;\n    }\n    return sample.slice(0, n);\n  };\n\n  // Sort the object's values by a criterion produced by an iteratee.\n  _.sortBy = function(obj, iteratee, context) {\n    var index = 0;\n    iteratee = cb(iteratee, context);\n    return _.pluck(_.map(obj, function(value, key, list) {\n      return {\n        value: value,\n        index: index++,\n        criteria: iteratee(value, key, list)\n      };\n    }).sort(function(left, right) {\n      var a = left.criteria;\n      var b = right.criteria;\n      if (a !== b) {\n        if (a > b || a === void 0) return 1;\n        if (a < b || b === void 0) return -1;\n      }\n      return left.index - right.index;\n    }), 'value');\n  };\n\n  // An internal function used for aggregate \"group by\" operations.\n  var group = function(behavior, partition) {\n    return function(obj, iteratee, context) {\n      var result = partition ? [[], []] : {};\n      iteratee = cb(iteratee, context);\n      _.each(obj, function(value, index) {\n        var key = iteratee(value, index, obj);\n        behavior(result, value, key);\n      });\n      return result;\n    };\n  };\n\n  // Groups the object's values by a criterion. Pass either a string attribute\n  // to group by, or a function that returns the criterion.\n  _.groupBy = group(function(result, value, key) {\n    if (has(result, key)) result[key].push(value); else result[key] = [value];\n  });\n\n  // Indexes the object's values by a criterion, similar to `groupBy`, but for\n  // when you know that your index values will be unique.\n  _.indexBy = group(function(result, value, key) {\n    result[key] = value;\n  });\n\n  // Counts instances of an object that group by a certain criterion. Pass\n  // either a string attribute to count by, or a function that returns the\n  // criterion.\n  _.countBy = group(function(result, value, key) {\n    if (has(result, key)) result[key]++; else result[key] = 1;\n  });\n\n  var reStrSymbol = /[^\\ud800-\\udfff]|[\\ud800-\\udbff][\\udc00-\\udfff]|[\\ud800-\\udfff]/g;\n  // Safely create a real, live array from anything iterable.\n  _.toArray = function(obj) {\n    if (!obj) return [];\n    if (_.isArray(obj)) return slice.call(obj);\n    if (_.isString(obj)) {\n      // Keep surrogate pair characters together\n      return obj.match(reStrSymbol);\n    }\n    if (isArrayLike(obj)) return _.map(obj, _.identity);\n    return _.values(obj);\n  };\n\n  // Return the number of elements in an object.\n  _.size = function(obj) {\n    if (obj == null) return 0;\n    return isArrayLike(obj) ? obj.length : _.keys(obj).length;\n  };\n\n  // Split a collection into two arrays: one whose elements all satisfy the given\n  // predicate, and one whose elements all do not satisfy the predicate.\n  _.partition = group(function(result, value, pass) {\n    result[pass ? 0 : 1].push(value);\n  }, true);\n\n  // Array Functions\n  // ---------------\n\n  // Get the first element of an array. Passing **n** will return the first N\n  // values in the array. Aliased as `head` and `take`. The **guard** check\n  // allows it to work with `_.map`.\n  _.first = _.head = _.take = function(array, n, guard) {\n    if (array == null || array.length < 1) return n == null ? void 0 : [];\n    if (n == null || guard) return array[0];\n    return _.initial(array, array.length - n);\n  };\n\n  // Returns everything but the last entry of the array. Especially useful on\n  // the arguments object. Passing **n** will return all the values in\n  // the array, excluding the last N.\n  _.initial = function(array, n, guard) {\n    return slice.call(array, 0, Math.max(0, array.length - (n == null || guard ? 1 : n)));\n  };\n\n  // Get the last element of an array. Passing **n** will return the last N\n  // values in the array.\n  _.last = function(array, n, guard) {\n    if (array == null || array.length < 1) return n == null ? void 0 : [];\n    if (n == null || guard) return array[array.length - 1];\n    return _.rest(array, Math.max(0, array.length - n));\n  };\n\n  // Returns everything but the first entry of the array. Aliased as `tail` and `drop`.\n  // Especially useful on the arguments object. Passing an **n** will return\n  // the rest N values in the array.\n  _.rest = _.tail = _.drop = function(array, n, guard) {\n    return slice.call(array, n == null || guard ? 1 : n);\n  };\n\n  // Trim out all falsy values from an array.\n  _.compact = function(array) {\n    return _.filter(array, Boolean);\n  };\n\n  // Internal implementation of a recursive `flatten` function.\n  var flatten = function(input, shallow, strict, output) {\n    output = output || [];\n    var idx = output.length;\n    for (var i = 0, length = getLength(input); i < length; i++) {\n      var value = input[i];\n      if (isArrayLike(value) && (_.isArray(value) || _.isArguments(value))) {\n        // Flatten current level of array or arguments object.\n        if (shallow) {\n          var j = 0, len = value.length;\n          while (j < len) output[idx++] = value[j++];\n        } else {\n          flatten(value, shallow, strict, output);\n          idx = output.length;\n        }\n      } else if (!strict) {\n        output[idx++] = value;\n      }\n    }\n    return output;\n  };\n\n  // Flatten out an array, either recursively (by default), or just one level.\n  _.flatten = function(array, shallow) {\n    return flatten(array, shallow, false);\n  };\n\n  // Return a version of the array that does not contain the specified value(s).\n  _.without = restArguments(function(array, otherArrays) {\n    return _.difference(array, otherArrays);\n  });\n\n  // Produce a duplicate-free version of the array. If the array has already\n  // been sorted, you have the option of using a faster algorithm.\n  // The faster algorithm will not work with an iteratee if the iteratee\n  // is not a one-to-one function, so providing an iteratee will disable\n  // the faster algorithm.\n  // Aliased as `unique`.\n  _.uniq = _.unique = function(array, isSorted, iteratee, context) {\n    if (!_.isBoolean(isSorted)) {\n      context = iteratee;\n      iteratee = isSorted;\n      isSorted = false;\n    }\n    if (iteratee != null) iteratee = cb(iteratee, context);\n    var result = [];\n    var seen = [];\n    for (var i = 0, length = getLength(array); i < length; i++) {\n      var value = array[i],\n          computed = iteratee ? iteratee(value, i, array) : value;\n      if (isSorted && !iteratee) {\n        if (!i || seen !== computed) result.push(value);\n        seen = computed;\n      } else if (iteratee) {\n        if (!_.contains(seen, computed)) {\n          seen.push(computed);\n          result.push(value);\n        }\n      } else if (!_.contains(result, value)) {\n        result.push(value);\n      }\n    }\n    return result;\n  };\n\n  // Produce an array that contains the union: each distinct element from all of\n  // the passed-in arrays.\n  _.union = restArguments(function(arrays) {\n    return _.uniq(flatten(arrays, true, true));\n  });\n\n  // Produce an array that contains every item shared between all the\n  // passed-in arrays.\n  _.intersection = function(array) {\n    var result = [];\n    var argsLength = arguments.length;\n    for (var i = 0, length = getLength(array); i < length; i++) {\n      var item = array[i];\n      if (_.contains(result, item)) continue;\n      var j;\n      for (j = 1; j < argsLength; j++) {\n        if (!_.contains(arguments[j], item)) break;\n      }\n      if (j === argsLength) result.push(item);\n    }\n    return result;\n  };\n\n  // Take the difference between one array and a number of other arrays.\n  // Only the elements present in just the first array will remain.\n  _.difference = restArguments(function(array, rest) {\n    rest = flatten(rest, true, true);\n    return _.filter(array, function(value){\n      return !_.contains(rest, value);\n    });\n  });\n\n  // Complement of _.zip. Unzip accepts an array of arrays and groups\n  // each array's elements on shared indices.\n  _.unzip = function(array) {\n    var length = array && _.max(array, getLength).length || 0;\n    var result = Array(length);\n\n    for (var index = 0; index < length; index++) {\n      result[index] = _.pluck(array, index);\n    }\n    return result;\n  };\n\n  // Zip together multiple lists into a single array -- elements that share\n  // an index go together.\n  _.zip = restArguments(_.unzip);\n\n  // Converts lists into objects. Pass either a single array of `[key, value]`\n  // pairs, or two parallel arrays of the same length -- one of keys, and one of\n  // the corresponding values. Passing by pairs is the reverse of _.pairs.\n  _.object = function(list, values) {\n    var result = {};\n    for (var i = 0, length = getLength(list); i < length; i++) {\n      if (values) {\n        result[list[i]] = values[i];\n      } else {\n        result[list[i][0]] = list[i][1];\n      }\n    }\n    return result;\n  };\n\n  // Generator function to create the findIndex and findLastIndex functions.\n  var createPredicateIndexFinder = function(dir) {\n    return function(array, predicate, context) {\n      predicate = cb(predicate, context);\n      var length = getLength(array);\n      var index = dir > 0 ? 0 : length - 1;\n      for (; index >= 0 && index < length; index += dir) {\n        if (predicate(array[index], index, array)) return index;\n      }\n      return -1;\n    };\n  };\n\n  // Returns the first index on an array-like that passes a predicate test.\n  _.findIndex = createPredicateIndexFinder(1);\n  _.findLastIndex = createPredicateIndexFinder(-1);\n\n  // Use a comparator function to figure out the smallest index at which\n  // an object should be inserted so as to maintain order. Uses binary search.\n  _.sortedIndex = function(array, obj, iteratee, context) {\n    iteratee = cb(iteratee, context, 1);\n    var value = iteratee(obj);\n    var low = 0, high = getLength(array);\n    while (low < high) {\n      var mid = Math.floor((low + high) / 2);\n      if (iteratee(array[mid]) < value) low = mid + 1; else high = mid;\n    }\n    return low;\n  };\n\n  // Generator function to create the indexOf and lastIndexOf functions.\n  var createIndexFinder = function(dir, predicateFind, sortedIndex) {\n    return function(array, item, idx) {\n      var i = 0, length = getLength(array);\n      if (typeof idx == 'number') {\n        if (dir > 0) {\n          i = idx >= 0 ? idx : Math.max(idx + length, i);\n        } else {\n          length = idx >= 0 ? Math.min(idx + 1, length) : idx + length + 1;\n        }\n      } else if (sortedIndex && idx && length) {\n        idx = sortedIndex(array, item);\n        return array[idx] === item ? idx : -1;\n      }\n      if (item !== item) {\n        idx = predicateFind(slice.call(array, i, length), _.isNaN);\n        return idx >= 0 ? idx + i : -1;\n      }\n      for (idx = dir > 0 ? i : length - 1; idx >= 0 && idx < length; idx += dir) {\n        if (array[idx] === item) return idx;\n      }\n      return -1;\n    };\n  };\n\n  // Return the position of the first occurrence of an item in an array,\n  // or -1 if the item is not included in the array.\n  // If the array is large and already in sort order, pass `true`\n  // for **isSorted** to use binary search.\n  _.indexOf = createIndexFinder(1, _.findIndex, _.sortedIndex);\n  _.lastIndexOf = createIndexFinder(-1, _.findLastIndex);\n\n  // Generate an integer Array containing an arithmetic progression. A port of\n  // the native Python `range()` function. See\n  // [the Python documentation](http://docs.python.org/library/functions.html#range).\n  _.range = function(start, stop, step) {\n    if (stop == null) {\n      stop = start || 0;\n      start = 0;\n    }\n    if (!step) {\n      step = stop < start ? -1 : 1;\n    }\n\n    var length = Math.max(Math.ceil((stop - start) / step), 0);\n    var range = Array(length);\n\n    for (var idx = 0; idx < length; idx++, start += step) {\n      range[idx] = start;\n    }\n\n    return range;\n  };\n\n  // Chunk a single array into multiple arrays, each containing `count` or fewer\n  // items.\n  _.chunk = function(array, count) {\n    if (count == null || count < 1) return [];\n    var result = [];\n    var i = 0, length = array.length;\n    while (i < length) {\n      result.push(slice.call(array, i, i += count));\n    }\n    return result;\n  };\n\n  // Function (ahem) Functions\n  // ------------------\n\n  // Determines whether to execute a function as a constructor\n  // or a normal function with the provided arguments.\n  var executeBound = function(sourceFunc, boundFunc, context, callingContext, args) {\n    if (!(callingContext instanceof boundFunc)) return sourceFunc.apply(context, args);\n    var self = baseCreate(sourceFunc.prototype);\n    var result = sourceFunc.apply(self, args);\n    if (_.isObject(result)) return result;\n    return self;\n  };\n\n  // Create a function bound to a given object (assigning `this`, and arguments,\n  // optionally). Delegates to **ECMAScript 5**'s native `Function.bind` if\n  // available.\n  _.bind = restArguments(function(func, context, args) {\n    if (!_.isFunction(func)) throw new TypeError('Bind must be called on a function');\n    var bound = restArguments(function(callArgs) {\n      return executeBound(func, bound, context, this, args.concat(callArgs));\n    });\n    return bound;\n  });\n\n  // Partially apply a function by creating a version that has had some of its\n  // arguments pre-filled, without changing its dynamic `this` context. _ acts\n  // as a placeholder by default, allowing any combination of arguments to be\n  // pre-filled. Set `_.partial.placeholder` for a custom placeholder argument.\n  _.partial = restArguments(function(func, boundArgs) {\n    var placeholder = _.partial.placeholder;\n    var bound = function() {\n      var position = 0, length = boundArgs.length;\n      var args = Array(length);\n      for (var i = 0; i < length; i++) {\n        args[i] = boundArgs[i] === placeholder ? arguments[position++] : boundArgs[i];\n      }\n      while (position < arguments.length) args.push(arguments[position++]);\n      return executeBound(func, bound, this, this, args);\n    };\n    return bound;\n  });\n\n  _.partial.placeholder = _;\n\n  // Bind a number of an object's methods to that object. Remaining arguments\n  // are the method names to be bound. Useful for ensuring that all callbacks\n  // defined on an object belong to it.\n  _.bindAll = restArguments(function(obj, keys) {\n    keys = flatten(keys, false, false);\n    var index = keys.length;\n    if (index < 1) throw new Error('bindAll must be passed function names');\n    while (index--) {\n      var key = keys[index];\n      obj[key] = _.bind(obj[key], obj);\n    }\n  });\n\n  // Memoize an expensive function by storing its results.\n  _.memoize = function(func, hasher) {\n    var memoize = function(key) {\n      var cache = memoize.cache;\n      var address = '' + (hasher ? hasher.apply(this, arguments) : key);\n      if (!has(cache, address)) cache[address] = func.apply(this, arguments);\n      return cache[address];\n    };\n    memoize.cache = {};\n    return memoize;\n  };\n\n  // Delays a function for the given number of milliseconds, and then calls\n  // it with the arguments supplied.\n  _.delay = restArguments(function(func, wait, args) {\n    return setTimeout(function() {\n      return func.apply(null, args);\n    }, wait);\n  });\n\n  // Defers a function, scheduling it to run after the current call stack has\n  // cleared.\n  _.defer = _.partial(_.delay, _, 1);\n\n  // Returns a function, that, when invoked, will only be triggered at most once\n  // during a given window of time. Normally, the throttled function will run\n  // as much as it can, without ever going more than once per `wait` duration;\n  // but if you'd like to disable the execution on the leading edge, pass\n  // `{leading: false}`. To disable execution on the trailing edge, ditto.\n  _.throttle = function(func, wait, options) {\n    var timeout, context, args, result;\n    var previous = 0;\n    if (!options) options = {};\n\n    var later = function() {\n      previous = options.leading === false ? 0 : _.now();\n      timeout = null;\n      result = func.apply(context, args);\n      if (!timeout) context = args = null;\n    };\n\n    var throttled = function() {\n      var now = _.now();\n      if (!previous && options.leading === false) previous = now;\n      var remaining = wait - (now - previous);\n      context = this;\n      args = arguments;\n      if (remaining <= 0 || remaining > wait) {\n        if (timeout) {\n          clearTimeout(timeout);\n          timeout = null;\n        }\n        previous = now;\n        result = func.apply(context, args);\n        if (!timeout) context = args = null;\n      } else if (!timeout && options.trailing !== false) {\n        timeout = setTimeout(later, remaining);\n      }\n      return result;\n    };\n\n    throttled.cancel = function() {\n      clearTimeout(timeout);\n      previous = 0;\n      timeout = context = args = null;\n    };\n\n    return throttled;\n  };\n\n  // Returns a function, that, as long as it continues to be invoked, will not\n  // be triggered. The function will be called after it stops being called for\n  // N milliseconds. If `immediate` is passed, trigger the function on the\n  // leading edge, instead of the trailing.\n  _.debounce = function(func, wait, immediate) {\n    var timeout, result;\n\n    var later = function(context, args) {\n      timeout = null;\n      if (args) result = func.apply(context, args);\n    };\n\n    var debounced = restArguments(function(args) {\n      if (timeout) clearTimeout(timeout);\n      if (immediate) {\n        var callNow = !timeout;\n        timeout = setTimeout(later, wait);\n        if (callNow) result = func.apply(this, args);\n      } else {\n        timeout = _.delay(later, wait, this, args);\n      }\n\n      return result;\n    });\n\n    debounced.cancel = function() {\n      clearTimeout(timeout);\n      timeout = null;\n    };\n\n    return debounced;\n  };\n\n  // Returns the first function passed as an argument to the second,\n  // allowing you to adjust arguments, run code before and after, and\n  // conditionally execute the original function.\n  _.wrap = function(func, wrapper) {\n    return _.partial(wrapper, func);\n  };\n\n  // Returns a negated version of the passed-in predicate.\n  _.negate = function(predicate) {\n    return function() {\n      return !predicate.apply(this, arguments);\n    };\n  };\n\n  // Returns a function that is the composition of a list of functions, each\n  // consuming the return value of the function that follows.\n  _.compose = function() {\n    var args = arguments;\n    var start = args.length - 1;\n    return function() {\n      var i = start;\n      var result = args[start].apply(this, arguments);\n      while (i--) result = args[i].call(this, result);\n      return result;\n    };\n  };\n\n  // Returns a function that will only be executed on and after the Nth call.\n  _.after = function(times, func) {\n    return function() {\n      if (--times < 1) {\n        return func.apply(this, arguments);\n      }\n    };\n  };\n\n  // Returns a function that will only be executed up to (but not including) the Nth call.\n  _.before = function(times, func) {\n    var memo;\n    return function() {\n      if (--times > 0) {\n        memo = func.apply(this, arguments);\n      }\n      if (times <= 1) func = null;\n      return memo;\n    };\n  };\n\n  // Returns a function that will be executed at most one time, no matter how\n  // often you call it. Useful for lazy initialization.\n  _.once = _.partial(_.before, 2);\n\n  _.restArguments = restArguments;\n\n  // Object Functions\n  // ----------------\n\n  // Keys in IE < 9 that won't be iterated by `for key in ...` and thus missed.\n  var hasEnumBug = !{toString: null}.propertyIsEnumerable('toString');\n  var nonEnumerableProps = ['valueOf', 'isPrototypeOf', 'toString',\n    'propertyIsEnumerable', 'hasOwnProperty', 'toLocaleString'];\n\n  var collectNonEnumProps = function(obj, keys) {\n    var nonEnumIdx = nonEnumerableProps.length;\n    var constructor = obj.constructor;\n    var proto = _.isFunction(constructor) && constructor.prototype || ObjProto;\n\n    // Constructor is a special case.\n    var prop = 'constructor';\n    if (has(obj, prop) && !_.contains(keys, prop)) keys.push(prop);\n\n    while (nonEnumIdx--) {\n      prop = nonEnumerableProps[nonEnumIdx];\n      if (prop in obj && obj[prop] !== proto[prop] && !_.contains(keys, prop)) {\n        keys.push(prop);\n      }\n    }\n  };\n\n  // Retrieve the names of an object's own properties.\n  // Delegates to **ECMAScript 5**'s native `Object.keys`.\n  _.keys = function(obj) {\n    if (!_.isObject(obj)) return [];\n    if (nativeKeys) return nativeKeys(obj);\n    var keys = [];\n    for (var key in obj) if (has(obj, key)) keys.push(key);\n    // Ahem, IE < 9.\n    if (hasEnumBug) collectNonEnumProps(obj, keys);\n    return keys;\n  };\n\n  // Retrieve all the property names of an object.\n  _.allKeys = function(obj) {\n    if (!_.isObject(obj)) return [];\n    var keys = [];\n    for (var key in obj) keys.push(key);\n    // Ahem, IE < 9.\n    if (hasEnumBug) collectNonEnumProps(obj, keys);\n    return keys;\n  };\n\n  // Retrieve the values of an object's properties.\n  _.values = function(obj) {\n    var keys = _.keys(obj);\n    var length = keys.length;\n    var values = Array(length);\n    for (var i = 0; i < length; i++) {\n      values[i] = obj[keys[i]];\n    }\n    return values;\n  };\n\n  // Returns the results of applying the iteratee to each element of the object.\n  // In contrast to _.map it returns an object.\n  _.mapObject = function(obj, iteratee, context) {\n    iteratee = cb(iteratee, context);\n    var keys = _.keys(obj),\n        length = keys.length,\n        results = {};\n    for (var index = 0; index < length; index++) {\n      var currentKey = keys[index];\n      results[currentKey] = iteratee(obj[currentKey], currentKey, obj);\n    }\n    return results;\n  };\n\n  // Convert an object into a list of `[key, value]` pairs.\n  // The opposite of _.object.\n  _.pairs = function(obj) {\n    var keys = _.keys(obj);\n    var length = keys.length;\n    var pairs = Array(length);\n    for (var i = 0; i < length; i++) {\n      pairs[i] = [keys[i], obj[keys[i]]];\n    }\n    return pairs;\n  };\n\n  // Invert the keys and values of an object. The values must be serializable.\n  _.invert = function(obj) {\n    var result = {};\n    var keys = _.keys(obj);\n    for (var i = 0, length = keys.length; i < length; i++) {\n      result[obj[keys[i]]] = keys[i];\n    }\n    return result;\n  };\n\n  // Return a sorted list of the function names available on the object.\n  // Aliased as `methods`.\n  _.functions = _.methods = function(obj) {\n    var names = [];\n    for (var key in obj) {\n      if (_.isFunction(obj[key])) names.push(key);\n    }\n    return names.sort();\n  };\n\n  // An internal function for creating assigner functions.\n  var createAssigner = function(keysFunc, defaults) {\n    return function(obj) {\n      var length = arguments.length;\n      if (defaults) obj = Object(obj);\n      if (length < 2 || obj == null) return obj;\n      for (var index = 1; index < length; index++) {\n        var source = arguments[index],\n            keys = keysFunc(source),\n            l = keys.length;\n        for (var i = 0; i < l; i++) {\n          var key = keys[i];\n          if (!defaults || obj[key] === void 0) obj[key] = source[key];\n        }\n      }\n      return obj;\n    };\n  };\n\n  // Extend a given object with all the properties in passed-in object(s).\n  _.extend = createAssigner(_.allKeys);\n\n  // Assigns a given object with all the own properties in the passed-in object(s).\n  // (https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object/assign)\n  _.extendOwn = _.assign = createAssigner(_.keys);\n\n  // Returns the first key on an object that passes a predicate test.\n  _.findKey = function(obj, predicate, context) {\n    predicate = cb(predicate, context);\n    var keys = _.keys(obj), key;\n    for (var i = 0, length = keys.length; i < length; i++) {\n      key = keys[i];\n      if (predicate(obj[key], key, obj)) return key;\n    }\n  };\n\n  // Internal pick helper function to determine if `obj` has key `key`.\n  var keyInObj = function(value, key, obj) {\n    return key in obj;\n  };\n\n  // Return a copy of the object only containing the whitelisted properties.\n  _.pick = restArguments(function(obj, keys) {\n    var result = {}, iteratee = keys[0];\n    if (obj == null) return result;\n    if (_.isFunction(iteratee)) {\n      if (keys.length > 1) iteratee = optimizeCb(iteratee, keys[1]);\n      keys = _.allKeys(obj);\n    } else {\n      iteratee = keyInObj;\n      keys = flatten(keys, false, false);\n      obj = Object(obj);\n    }\n    for (var i = 0, length = keys.length; i < length; i++) {\n      var key = keys[i];\n      var value = obj[key];\n      if (iteratee(value, key, obj)) result[key] = value;\n    }\n    return result;\n  });\n\n  // Return a copy of the object without the blacklisted properties.\n  _.omit = restArguments(function(obj, keys) {\n    var iteratee = keys[0], context;\n    if (_.isFunction(iteratee)) {\n      iteratee = _.negate(iteratee);\n      if (keys.length > 1) context = keys[1];\n    } else {\n      keys = _.map(flatten(keys, false, false), String);\n      iteratee = function(value, key) {\n        return !_.contains(keys, key);\n      };\n    }\n    return _.pick(obj, iteratee, context);\n  });\n\n  // Fill in a given object with default properties.\n  _.defaults = createAssigner(_.allKeys, true);\n\n  // Creates an object that inherits from the given prototype object.\n  // If additional properties are provided then they will be added to the\n  // created object.\n  _.create = function(prototype, props) {\n    var result = baseCreate(prototype);\n    if (props) _.extendOwn(result, props);\n    return result;\n  };\n\n  // Create a (shallow-cloned) duplicate of an object.\n  _.clone = function(obj) {\n    if (!_.isObject(obj)) return obj;\n    return _.isArray(obj) ? obj.slice() : _.extend({}, obj);\n  };\n\n  // Invokes interceptor with the obj, and then returns obj.\n  // The primary purpose of this method is to \"tap into\" a method chain, in\n  // order to perform operations on intermediate results within the chain.\n  _.tap = function(obj, interceptor) {\n    interceptor(obj);\n    return obj;\n  };\n\n  // Returns whether an object has a given set of `key:value` pairs.\n  _.isMatch = function(object, attrs) {\n    var keys = _.keys(attrs), length = keys.length;\n    if (object == null) return !length;\n    var obj = Object(object);\n    for (var i = 0; i < length; i++) {\n      var key = keys[i];\n      if (attrs[key] !== obj[key] || !(key in obj)) return false;\n    }\n    return true;\n  };\n\n\n  // Internal recursive comparison function for `isEqual`.\n  var eq, deepEq;\n  eq = function(a, b, aStack, bStack) {\n    // Identical objects are equal. `0 === -0`, but they aren't identical.\n    // See the [Harmony `egal` proposal](http://wiki.ecmascript.org/doku.php?id=harmony:egal).\n    if (a === b) return a !== 0 || 1 / a === 1 / b;\n    // `null` or `undefined` only equal to itself (strict comparison).\n    if (a == null || b == null) return false;\n    // `NaN`s are equivalent, but non-reflexive.\n    if (a !== a) return b !== b;\n    // Exhaust primitive checks\n    var type = typeof a;\n    if (type !== 'function' && type !== 'object' && typeof b != 'object') return false;\n    return deepEq(a, b, aStack, bStack);\n  };\n\n  // Internal recursive comparison function for `isEqual`.\n  deepEq = function(a, b, aStack, bStack) {\n    // Unwrap any wrapped objects.\n    if (a instanceof _) a = a._wrapped;\n    if (b instanceof _) b = b._wrapped;\n    // Compare `[[Class]]` names.\n    var className = toString.call(a);\n    if (className !== toString.call(b)) return false;\n    switch (className) {\n      // Strings, numbers, regular expressions, dates, and booleans are compared by value.\n      case '[object RegExp]':\n      // RegExps are coerced to strings for comparison (Note: '' + /a/i === '/a/i')\n      case '[object String]':\n        // Primitives and their corresponding object wrappers are equivalent; thus, `\"5\"` is\n        // equivalent to `new String(\"5\")`.\n        return '' + a === '' + b;\n      case '[object Number]':\n        // `NaN`s are equivalent, but non-reflexive.\n        // Object(NaN) is equivalent to NaN.\n        if (+a !== +a) return +b !== +b;\n        // An `egal` comparison is performed for other numeric values.\n        return +a === 0 ? 1 / +a === 1 / b : +a === +b;\n      case '[object Date]':\n      case '[object Boolean]':\n        // Coerce dates and booleans to numeric primitive values. Dates are compared by their\n        // millisecond representations. Note that invalid dates with millisecond representations\n        // of `NaN` are not equivalent.\n        return +a === +b;\n      case '[object Symbol]':\n        return SymbolProto.valueOf.call(a) === SymbolProto.valueOf.call(b);\n    }\n\n    var areArrays = className === '[object Array]';\n    if (!areArrays) {\n      if (typeof a != 'object' || typeof b != 'object') return false;\n\n      // Objects with different constructors are not equivalent, but `Object`s or `Array`s\n      // from different frames are.\n      var aCtor = a.constructor, bCtor = b.constructor;\n      if (aCtor !== bCtor && !(_.isFunction(aCtor) && aCtor instanceof aCtor &&\n                               _.isFunction(bCtor) && bCtor instanceof bCtor)\n                          && ('constructor' in a && 'constructor' in b)) {\n        return false;\n      }\n    }\n    // Assume equality for cyclic structures. The algorithm for detecting cyclic\n    // structures is adapted from ES 5.1 section 15.12.3, abstract operation `JO`.\n\n    // Initializing stack of traversed objects.\n    // It's done here since we only need them for objects and arrays comparison.\n    aStack = aStack || [];\n    bStack = bStack || [];\n    var length = aStack.length;\n    while (length--) {\n      // Linear search. Performance is inversely proportional to the number of\n      // unique nested structures.\n      if (aStack[length] === a) return bStack[length] === b;\n    }\n\n    // Add the first object to the stack of traversed objects.\n    aStack.push(a);\n    bStack.push(b);\n\n    // Recursively compare objects and arrays.\n    if (areArrays) {\n      // Compare array lengths to determine if a deep comparison is necessary.\n      length = a.length;\n      if (length !== b.length) return false;\n      // Deep compare the contents, ignoring non-numeric properties.\n      while (length--) {\n        if (!eq(a[length], b[length], aStack, bStack)) return false;\n      }\n    } else {\n      // Deep compare objects.\n      var keys = _.keys(a), key;\n      length = keys.length;\n      // Ensure that both objects contain the same number of properties before comparing deep equality.\n      if (_.keys(b).length !== length) return false;\n      while (length--) {\n        // Deep compare each member\n        key = keys[length];\n        if (!(has(b, key) && eq(a[key], b[key], aStack, bStack))) return false;\n      }\n    }\n    // Remove the first object from the stack of traversed objects.\n    aStack.pop();\n    bStack.pop();\n    return true;\n  };\n\n  // Perform a deep comparison to check if two objects are equal.\n  _.isEqual = function(a, b) {\n    return eq(a, b);\n  };\n\n  // Is a given array, string, or object empty?\n  // An \"empty\" object has no enumerable own-properties.\n  _.isEmpty = function(obj) {\n    if (obj == null) return true;\n    if (isArrayLike(obj) && (_.isArray(obj) || _.isString(obj) || _.isArguments(obj))) return obj.length === 0;\n    return _.keys(obj).length === 0;\n  };\n\n  // Is a given value a DOM element?\n  _.isElement = function(obj) {\n    return !!(obj && obj.nodeType === 1);\n  };\n\n  // Is a given value an array?\n  // Delegates to ECMA5's native Array.isArray\n  _.isArray = nativeIsArray || function(obj) {\n    return toString.call(obj) === '[object Array]';\n  };\n\n  // Is a given variable an object?\n  _.isObject = function(obj) {\n    var type = typeof obj;\n    return type === 'function' || type === 'object' && !!obj;\n  };\n\n  // Add some isType methods: isArguments, isFunction, isString, isNumber, isDate, isRegExp, isError, isMap, isWeakMap, isSet, isWeakSet.\n  _.each(['Arguments', 'Function', 'String', 'Number', 'Date', 'RegExp', 'Error', 'Symbol', 'Map', 'WeakMap', 'Set', 'WeakSet'], function(name) {\n    _['is' + name] = function(obj) {\n      return toString.call(obj) === '[object ' + name + ']';\n    };\n  });\n\n  // Define a fallback version of the method in browsers (ahem, IE < 9), where\n  // there isn't any inspectable \"Arguments\" type.\n  if (!_.isArguments(arguments)) {\n    _.isArguments = function(obj) {\n      return has(obj, 'callee');\n    };\n  }\n\n  // Optimize `isFunction` if appropriate. Work around some typeof bugs in old v8,\n  // IE 11 (#1621), Safari 8 (#1929), and PhantomJS (#2236).\n  var nodelist = root.document && root.document.childNodes;\n  if (typeof /./ != 'function' && typeof Int8Array != 'object' && typeof nodelist != 'function') {\n    _.isFunction = function(obj) {\n      return typeof obj == 'function' || false;\n    };\n  }\n\n  // Is a given object a finite number?\n  _.isFinite = function(obj) {\n    return !_.isSymbol(obj) && isFinite(obj) && !isNaN(parseFloat(obj));\n  };\n\n  // Is the given value `NaN`?\n  _.isNaN = function(obj) {\n    return _.isNumber(obj) && isNaN(obj);\n  };\n\n  // Is a given value a boolean?\n  _.isBoolean = function(obj) {\n    return obj === true || obj === false || toString.call(obj) === '[object Boolean]';\n  };\n\n  // Is a given value equal to null?\n  _.isNull = function(obj) {\n    return obj === null;\n  };\n\n  // Is a given variable undefined?\n  _.isUndefined = function(obj) {\n    return obj === void 0;\n  };\n\n  // Shortcut function for checking if an object has a given property directly\n  // on itself (in other words, not on a prototype).\n  _.has = function(obj, path) {\n    if (!_.isArray(path)) {\n      return has(obj, path);\n    }\n    var length = path.length;\n    for (var i = 0; i < length; i++) {\n      var key = path[i];\n      if (obj == null || !hasOwnProperty.call(obj, key)) {\n        return false;\n      }\n      obj = obj[key];\n    }\n    return !!length;\n  };\n\n  // Utility Functions\n  // -----------------\n\n  // Run Underscore.js in *noConflict* mode, returning the `_` variable to its\n  // previous owner. Returns a reference to the Underscore object.\n  _.noConflict = function() {\n    root._ = previousUnderscore;\n    return this;\n  };\n\n  // Keep the identity function around for default iteratees.\n  _.identity = function(value) {\n    return value;\n  };\n\n  // Predicate-generating functions. Often useful outside of Underscore.\n  _.constant = function(value) {\n    return function() {\n      return value;\n    };\n  };\n\n  _.noop = function(){};\n\n  // Creates a function that, when passed an object, will traverse that objects\n  // properties down the given `path`, specified as an array of keys or indexes.\n  _.property = function(path) {\n    if (!_.isArray(path)) {\n      return shallowProperty(path);\n    }\n    return function(obj) {\n      return deepGet(obj, path);\n    };\n  };\n\n  // Generates a function for a given object that returns a given property.\n  _.propertyOf = function(obj) {\n    if (obj == null) {\n      return function(){};\n    }\n    return function(path) {\n      return !_.isArray(path) ? obj[path] : deepGet(obj, path);\n    };\n  };\n\n  // Returns a predicate for checking whether an object has a given set of\n  // `key:value` pairs.\n  _.matcher = _.matches = function(attrs) {\n    attrs = _.extendOwn({}, attrs);\n    return function(obj) {\n      return _.isMatch(obj, attrs);\n    };\n  };\n\n  // Run a function **n** times.\n  _.times = function(n, iteratee, context) {\n    var accum = Array(Math.max(0, n));\n    iteratee = optimizeCb(iteratee, context, 1);\n    for (var i = 0; i < n; i++) accum[i] = iteratee(i);\n    return accum;\n  };\n\n  // Return a random integer between min and max (inclusive).\n  _.random = function(min, max) {\n    if (max == null) {\n      max = min;\n      min = 0;\n    }\n    return min + Math.floor(Math.random() * (max - min + 1));\n  };\n\n  // A (possibly faster) way to get the current timestamp as an integer.\n  _.now = Date.now || function() {\n    return new Date().getTime();\n  };\n\n  // List of HTML entities for escaping.\n  var escapeMap = {\n    '&': '&amp;',\n    '<': '&lt;',\n    '>': '&gt;',\n    '\"': '&quot;',\n    \"'\": '&#x27;',\n    '`': '&#x60;'\n  };\n  var unescapeMap = _.invert(escapeMap);\n\n  // Functions for escaping and unescaping strings to/from HTML interpolation.\n  var createEscaper = function(map) {\n    var escaper = function(match) {\n      return map[match];\n    };\n    // Regexes for identifying a key that needs to be escaped.\n    var source = '(?:' + _.keys(map).join('|') + ')';\n    var testRegexp = RegExp(source);\n    var replaceRegexp = RegExp(source, 'g');\n    return function(string) {\n      string = string == null ? '' : '' + string;\n      return testRegexp.test(string) ? string.replace(replaceRegexp, escaper) : string;\n    };\n  };\n  _.escape = createEscaper(escapeMap);\n  _.unescape = createEscaper(unescapeMap);\n\n  // Traverses the children of `obj` along `path`. If a child is a function, it\n  // is invoked with its parent as context. Returns the value of the final\n  // child, or `fallback` if any child is undefined.\n  _.result = function(obj, path, fallback) {\n    if (!_.isArray(path)) path = [path];\n    var length = path.length;\n    if (!length) {\n      return _.isFunction(fallback) ? fallback.call(obj) : fallback;\n    }\n    for (var i = 0; i < length; i++) {\n      var prop = obj == null ? void 0 : obj[path[i]];\n      if (prop === void 0) {\n        prop = fallback;\n        i = length; // Ensure we don't continue iterating.\n      }\n      obj = _.isFunction(prop) ? prop.call(obj) : prop;\n    }\n    return obj;\n  };\n\n  // Generate a unique integer id (unique within the entire client session).\n  // Useful for temporary DOM ids.\n  var idCounter = 0;\n  _.uniqueId = function(prefix) {\n    var id = ++idCounter + '';\n    return prefix ? prefix + id : id;\n  };\n\n  // By default, Underscore uses ERB-style template delimiters, change the\n  // following template settings to use alternative delimiters.\n  _.templateSettings = {\n    evaluate: /<%([\\s\\S]+?)%>/g,\n    interpolate: /<%=([\\s\\S]+?)%>/g,\n    escape: /<%-([\\s\\S]+?)%>/g\n  };\n\n  // When customizing `templateSettings`, if you don't want to define an\n  // interpolation, evaluation or escaping regex, we need one that is\n  // guaranteed not to match.\n  var noMatch = /(.)^/;\n\n  // Certain characters need to be escaped so that they can be put into a\n  // string literal.\n  var escapes = {\n    \"'\": \"'\",\n    '\\\\': '\\\\',\n    '\\r': 'r',\n    '\\n': 'n',\n    '\\u2028': 'u2028',\n    '\\u2029': 'u2029'\n  };\n\n  var escapeRegExp = /\\\\|'|\\r|\\n|\\u2028|\\u2029/g;\n\n  var escapeChar = function(match) {\n    return '\\\\' + escapes[match];\n  };\n\n  // JavaScript micro-templating, similar to John Resig's implementation.\n  // Underscore templating handles arbitrary delimiters, preserves whitespace,\n  // and correctly escapes quotes within interpolated code.\n  // NB: `oldSettings` only exists for backwards compatibility.\n  _.template = function(text, settings, oldSettings) {\n    if (!settings && oldSettings) settings = oldSettings;\n    settings = _.defaults({}, settings, _.templateSettings);\n\n    // Combine delimiters into one regular expression via alternation.\n    var matcher = RegExp([\n      (settings.escape || noMatch).source,\n      (settings.interpolate || noMatch).source,\n      (settings.evaluate || noMatch).source\n    ].join('|') + '|$', 'g');\n\n    // Compile the template source, escaping string literals appropriately.\n    var index = 0;\n    var source = \"__p+='\";\n    text.replace(matcher, function(match, escape, interpolate, evaluate, offset) {\n      source += text.slice(index, offset).replace(escapeRegExp, escapeChar);\n      index = offset + match.length;\n\n      if (escape) {\n        source += \"'+\\n((__t=(\" + escape + \"))==null?'':_.escape(__t))+\\n'\";\n      } else if (interpolate) {\n        source += \"'+\\n((__t=(\" + interpolate + \"))==null?'':__t)+\\n'\";\n      } else if (evaluate) {\n        source += \"';\\n\" + evaluate + \"\\n__p+='\";\n      }\n\n      // Adobe VMs need the match returned to produce the correct offset.\n      return match;\n    });\n    source += \"';\\n\";\n\n    // If a variable is not specified, place data values in local scope.\n    if (!settings.variable) source = 'with(obj||{}){\\n' + source + '}\\n';\n\n    source = \"var __t,__p='',__j=Array.prototype.join,\" +\n      \"print=function(){__p+=__j.call(arguments,'');};\\n\" +\n      source + 'return __p;\\n';\n\n    var render;\n    try {\n      render = new Function(settings.variable || 'obj', '_', source);\n    } catch (e) {\n      e.source = source;\n      throw e;\n    }\n\n    var template = function(data) {\n      return render.call(this, data, _);\n    };\n\n    // Provide the compiled source as a convenience for precompilation.\n    var argument = settings.variable || 'obj';\n    template.source = 'function(' + argument + '){\\n' + source + '}';\n\n    return template;\n  };\n\n  // Add a \"chain\" function. Start chaining a wrapped Underscore object.\n  _.chain = function(obj) {\n    var instance = _(obj);\n    instance._chain = true;\n    return instance;\n  };\n\n  // OOP\n  // ---------------\n  // If Underscore is called as a function, it returns a wrapped object that\n  // can be used OO-style. This wrapper holds altered versions of all the\n  // underscore functions. Wrapped objects may be chained.\n\n  // Helper function to continue chaining intermediate results.\n  var chainResult = function(instance, obj) {\n    return instance._chain ? _(obj).chain() : obj;\n  };\n\n  // Add your own custom functions to the Underscore object.\n  _.mixin = function(obj) {\n    _.each(_.functions(obj), function(name) {\n      var func = _[name] = obj[name];\n      _.prototype[name] = function() {\n        var args = [this._wrapped];\n        push.apply(args, arguments);\n        return chainResult(this, func.apply(_, args));\n      };\n    });\n    return _;\n  };\n\n  // Add all of the Underscore functions to the wrapper object.\n  _.mixin(_);\n\n  // Add all mutator Array functions to the wrapper.\n  _.each(['pop', 'push', 'reverse', 'shift', 'sort', 'splice', 'unshift'], function(name) {\n    var method = ArrayProto[name];\n    _.prototype[name] = function() {\n      var obj = this._wrapped;\n      method.apply(obj, arguments);\n      if ((name === 'shift' || name === 'splice') && obj.length === 0) delete obj[0];\n      return chainResult(this, obj);\n    };\n  });\n\n  // Add all accessor Array functions to the wrapper.\n  _.each(['concat', 'join', 'slice'], function(name) {\n    var method = ArrayProto[name];\n    _.prototype[name] = function() {\n      return chainResult(this, method.apply(this._wrapped, arguments));\n    };\n  });\n\n  // Extracts the result from a wrapped and chained object.\n  _.prototype.value = function() {\n    return this._wrapped;\n  };\n\n  // Provide unwrapping proxy for some methods used in engine operations\n  // such as arithmetic and JSON stringification.\n  _.prototype.valueOf = _.prototype.toJSON = _.prototype.value;\n\n  _.prototype.toString = function() {\n    return String(this._wrapped);\n  };\n\n  // AMD registration happens at the end for compatibility with AMD loaders\n  // that may not enforce next-turn semantics on modules. Even though general\n  // practice for AMD registration is to be anonymous, underscore registers\n  // as a named module because, like jQuery, it is a base library that is\n  // popular enough to be bundled in a third party lib, but not be part of\n  // an AMD load request. Those cases could generate an error when an\n  // anonymous define() is called outside of a loader request.\n  if (typeof define == 'function' && define.amd) {\n    define('underscore', [], function() {\n      return _;\n    });\n  }\n}());\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/underscore/underscore.js\n// module id = 0\n// module chunks = 0 1","var core = module.exports = { version: '2.6.9' };\nif (typeof __e == 'number') __e = core; // eslint-disable-line no-undef\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_core.js\n// module id = 1\n// module chunks = 0 1","module.exports = { \"default\": require(\"core-js/library/fn/promise\"), __esModule: true };\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/babel-runtime/core-js/promise.js\n// module id = 2\n// module chunks = 0 1","// https://github.com/zloirock/core-js/issues/86#issuecomment-115759028\nvar global = module.exports = typeof window != 'undefined' && window.Math == Math\n  ? window : typeof self != 'undefined' && self.Math == Math ? self\n  // eslint-disable-next-line no-new-func\n  : Function('return this')();\nif (typeof __g == 'number') __g = global; // eslint-disable-line no-undef\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_global.js\n// module id = 3\n// module chunks = 0 1","var store = require('./_shared')('wks');\nvar uid = require('./_uid');\nvar Symbol = require('./_global').Symbol;\nvar USE_SYMBOL = typeof Symbol == 'function';\n\nvar $exports = module.exports = function (name) {\n  return store[name] || (store[name] =\n    USE_SYMBOL && Symbol[name] || (USE_SYMBOL ? Symbol : uid)('Symbol.' + name));\n};\n\n$exports.store = store;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_wks.js\n// module id = 4\n// module chunks = 0 1","const _ = require('underscore');\nconst md5 = require('md5');\nconst { extend } = require('underscore');\nconst AV = require('./av');\nconst { getSessionToken } = require('./utils');\nconst ajax = require('./utils/ajax');\n\n//  X-LC-Sign \nconst sign = (key, isMasterKey) => {\n  const now = new Date().getTime();\n  const signature = md5(now + key);\n  if (isMasterKey) {\n    return `${signature},${now},master`;\n  }\n  return `${signature},${now}`;\n};\n\nconst setAppKey = (headers, signKey) => {\n  if (signKey) {\n    headers['X-LC-Sign'] = sign(AV.applicationKey);\n  } else {\n    headers['X-LC-Key'] = AV.applicationKey;\n  }\n};\n\nconst setHeaders = (authOptions = {}, signKey) => {\n  const headers = {\n    'X-LC-Id': AV.applicationId,\n    'Content-Type': 'application/json;charset=UTF-8',\n  };\n  let useMasterKey = false;\n  if (typeof authOptions.useMasterKey === 'boolean') {\n    useMasterKey = authOptions.useMasterKey;\n  } else if (typeof AV._config.useMasterKey === 'boolean') {\n    useMasterKey = AV._config.useMasterKey;\n  }\n  if (useMasterKey) {\n    if (AV.masterKey) {\n      if (signKey) {\n        headers['X-LC-Sign'] = sign(AV.masterKey, true);\n      } else {\n        headers['X-LC-Key'] = `${AV.masterKey},master`;\n      }\n    } else {\n      console.warn('masterKey is not set, fall back to use appKey');\n      setAppKey(headers, signKey);\n    }\n  } else {\n    setAppKey(headers, signKey);\n  }\n  if (AV.hookKey) {\n    headers['X-LC-Hook-Key'] = AV.hookKey;\n  }\n  if (AV._config.production !== null) {\n    headers['X-LC-Prod'] = String(AV._config.production);\n  }\n  headers[process.env.PLATFORM === 'NODE_JS' ? 'User-Agent' : 'X-LC-UA'] =\n    AV._sharedConfig.userAgent;\n\n  return Promise.resolve().then(() => {\n    // Pass the session token\n    const sessionToken = getSessionToken(authOptions);\n    if (sessionToken) {\n      headers['X-LC-Session'] = sessionToken;\n    } else if (!AV._config.disableCurrentUser) {\n      return AV.User.currentAsync().then(currentUser => {\n        if (currentUser && currentUser._sessionToken) {\n          headers['X-LC-Session'] = currentUser._sessionToken;\n        }\n        return headers;\n      });\n    }\n    return headers;\n  });\n};\n\nconst createApiUrl = ({\n  service = 'api',\n  version = '1.1',\n  path,\n  // query, // don't care\n  // method, // don't care\n  // data, // don't care\n}) => {\n  let apiURL = AV._config.serverURLs[service];\n\n  if (!apiURL) throw new Error(`undefined server URL for ${service}`);\n\n  if (apiURL.charAt(apiURL.length - 1) !== '/') {\n    apiURL += '/';\n  }\n  apiURL += version;\n  if (path) {\n    apiURL += path;\n  }\n\n  return apiURL;\n};\n\n/**\n * Low level REST API client. Call REST endpoints with authorization headers.\n * @function AV.request\n * @since 3.0.0\n * @param {Object} options\n * @param {String} options.method HTTP method\n * @param {String} options.path endpoint path, e.g. `/classes/Test/55759577e4b029ae6015ac20`\n * @param {Object} [options.query] query string dict\n * @param {Object} [options.data] HTTP body\n * @param {AuthOptions} [options.authOptions]\n * @param {String} [options.service = 'api']\n * @param {String} [options.version = '1.1']\n */\nconst request = ({\n  service,\n  version,\n  method,\n  path,\n  query,\n  data,\n  authOptions,\n  signKey = true,\n}) => {\n  if (!(AV.applicationId && (AV.applicationKey || AV.masterKey))) {\n    throw new Error('Not initialized');\n  }\n  if (AV._appRouter) {\n    AV._appRouter.refresh();\n  }\n  const { requestTimeout: timeout } = AV._config;\n  const url = createApiUrl({ service, path, version });\n  return setHeaders(authOptions, signKey).then(headers =>\n    ajax({ method, url, query, data, headers, timeout }).catch(error => {\n      let errorJSON = {\n        code: error.code || -1,\n        error: error.message || error.responseText,\n      };\n      if (error.response && error.response.code) {\n        errorJSON = error.response;\n      } else if (error.responseText) {\n        try {\n          errorJSON = JSON.parse(error.responseText);\n        } catch (e) {\n          // If we fail to parse the error text, that's okay.\n        }\n      }\n      errorJSON.rawMessage = errorJSON.rawMessage || errorJSON.error;\n      if (!AV._sharedConfig.keepErrorRawMessage) {\n        errorJSON.error += ` [${error.statusCode || 'N/A'} ${method} ${url}]`;\n      }\n      // Transform the error into an instance of AVError by trying to parse\n      // the error string as JSON.\n      const err = new Error(errorJSON.error);\n      delete errorJSON.error;\n      throw _.extend(err, errorJSON);\n    })\n  );\n};\n\n// lagecy request\nconst _request = (\n  route,\n  className,\n  objectId,\n  method,\n  data,\n  authOptions,\n  query\n) => {\n  let path = '';\n  if (route) path += `/${route}`;\n  if (className) path += `/${className}`;\n  if (objectId) path += `/${objectId}`;\n  // for migeration\n  if (data && data._fetchWhenSave)\n    throw new Error('_fetchWhenSave should be in the query');\n  if (data && data._where) throw new Error('_where should be in the query');\n  if (method && method.toLowerCase() === 'get') {\n    query = extend({}, query, data);\n    data = null;\n  }\n  return request({\n    method,\n    path,\n    query,\n    data,\n    authOptions,\n  });\n};\n\nAV.request = request;\n\nmodule.exports = {\n  _request,\n  request,\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/request.js","const _ = require('underscore');\n\n// Helper function to check null or undefined.\nconst isNullOrUndefined = x => _.isNull(x) || _.isUndefined(x);\n\nconst ensureArray = target => {\n  if (_.isArray(target)) {\n    return target;\n  }\n  if (target === undefined || target === null) {\n    return [];\n  }\n  return [target];\n};\n\nconst transformFetchOptions = ({ keys, include, includeACL } = {}) => {\n  const fetchOptions = {};\n  if (keys) {\n    fetchOptions.keys = ensureArray(keys).join(',');\n  }\n  if (include) {\n    fetchOptions.include = ensureArray(include).join(',');\n  }\n  if (includeACL) {\n    fetchOptions.returnACL = includeACL;\n  }\n  return fetchOptions;\n};\n\nconst getSessionToken = authOptions => {\n  if (authOptions.sessionToken) {\n    return authOptions.sessionToken;\n  }\n  if (\n    authOptions.user &&\n    typeof authOptions.user.getSessionToken === 'function'\n  ) {\n    return authOptions.user.getSessionToken();\n  }\n};\n\nconst tap = interceptor => value => (interceptor(value), value);\n\n// Shared empty constructor function to aid in prototype-chain creation.\nconst EmptyConstructor = function() {};\n\n// Helper function to correctly set up the prototype chain, for subclasses.\n// Similar to `goog.inherits`, but uses a hash of prototype properties and\n// class properties to be extended.\nconst inherits = function inherits(parent, protoProps, staticProps) {\n  var child;\n\n  // The constructor function for the new subclass is either defined by you\n  // (the \"constructor\" property in your `extend` definition), or defaulted\n  // by us to simply call the parent's constructor.\n  if (protoProps && protoProps.hasOwnProperty('constructor')) {\n    child = protoProps.constructor;\n  } else {\n    /** @ignore */\n    child = function() {\n      parent.apply(this, arguments);\n    };\n  }\n\n  // Inherit class (static) properties from parent.\n  _.extend(child, parent);\n\n  // Set the prototype chain to inherit from `parent`, without calling\n  // `parent`'s constructor function.\n  EmptyConstructor.prototype = parent.prototype;\n  child.prototype = new EmptyConstructor();\n\n  // Add prototype properties (instance properties) to the subclass,\n  // if supplied.\n  if (protoProps) {\n    _.extend(child.prototype, protoProps);\n  }\n\n  // Add static properties to the constructor function, if supplied.\n  if (staticProps) {\n    _.extend(child, staticProps);\n  }\n\n  // Correctly set child's `prototype.constructor`.\n  child.prototype.constructor = child;\n\n  // Set a convenience property in case the parent's prototype is\n  // needed later.\n  child.__super__ = parent.prototype;\n\n  return child;\n};\n\nconst parseDate = iso8601 => new Date(iso8601);\n\nconst setValue = (target, key, value) => {\n  // '.' is not allowed in Class keys, escaping is not in concern now.\n  const segs = key.split('.');\n  const lastSeg = segs.pop();\n  let currentTarget = target;\n  segs.forEach(seg => {\n    if (currentTarget[seg] === undefined) currentTarget[seg] = {};\n    currentTarget = currentTarget[seg];\n  });\n  currentTarget[lastSeg] = value;\n  return target;\n};\n\nconst findValue = (target, key) => {\n  const segs = key.split('.');\n  const firstSeg = segs[0];\n  const lastSeg = segs.pop();\n  let currentTarget = target;\n  for (let i = 0; i < segs.length; i++) {\n    currentTarget = currentTarget[segs[i]];\n    if (currentTarget === undefined) {\n      return [undefined, undefined, lastSeg];\n    }\n  }\n  const value = currentTarget[lastSeg];\n  return [value, currentTarget, lastSeg, firstSeg];\n};\n\nconst isPlainObject = obj =>\n  _.isObject(obj) && Object.getPrototypeOf(obj) === Object.prototype;\n\nconst continueWhile = function(predicate, asyncFunction) {\n  if (predicate()) {\n    return asyncFunction().then(function() {\n      return continueWhile(predicate, asyncFunction);\n    });\n  }\n  return Promise.resolve();\n};\n\nmodule.exports = {\n  isNullOrUndefined,\n  ensureArray,\n  transformFetchOptions,\n  getSessionToken,\n  tap,\n  inherits,\n  parseDate,\n  setValue,\n  findValue,\n  isPlainObject,\n  continueWhile,\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/utils/index.js","var isObject = require('./_is-object');\nmodule.exports = function (it) {\n  if (!isObject(it)) throw TypeError(it + ' is not an object!');\n  return it;\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_an-object.js\n// module id = 7\n// module chunks = 0 1","module.exports = { \"default\": require(\"core-js/library/fn/json/stringify\"), __esModule: true };\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/babel-runtime/core-js/json/stringify.js\n// module id = 8\n// module chunks = 0 1","var anObject = require('./_an-object');\nvar IE8_DOM_DEFINE = require('./_ie8-dom-define');\nvar toPrimitive = require('./_to-primitive');\nvar dP = Object.defineProperty;\n\nexports.f = require('./_descriptors') ? Object.defineProperty : function defineProperty(O, P, Attributes) {\n  anObject(O);\n  P = toPrimitive(P, true);\n  anObject(Attributes);\n  if (IE8_DOM_DEFINE) try {\n    return dP(O, P, Attributes);\n  } catch (e) { /* empty */ }\n  if ('get' in Attributes || 'set' in Attributes) throw TypeError('Accessors not supported!');\n  if ('value' in Attributes) O[P] = Attributes.value;\n  return O;\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_object-dp.js\n// module id = 9\n// module chunks = 0 1","// Thank's IE8 for his funny defineProperty\nmodule.exports = !require('./_fails')(function () {\n  return Object.defineProperty({}, 'a', { get: function () { return 7; } }).a != 7;\n});\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_descriptors.js\n// module id = 10\n// module chunks = 0 1","var global = require('./_global');\nvar core = require('./_core');\nvar ctx = require('./_ctx');\nvar hide = require('./_hide');\nvar has = require('./_has');\nvar PROTOTYPE = 'prototype';\n\nvar $export = function (type, name, source) {\n  var IS_FORCED = type & $export.F;\n  var IS_GLOBAL = type & $export.G;\n  var IS_STATIC = type & $export.S;\n  var IS_PROTO = type & $export.P;\n  var IS_BIND = type & $export.B;\n  var IS_WRAP = type & $export.W;\n  var exports = IS_GLOBAL ? core : core[name] || (core[name] = {});\n  var expProto = exports[PROTOTYPE];\n  var target = IS_GLOBAL ? global : IS_STATIC ? global[name] : (global[name] || {})[PROTOTYPE];\n  var key, own, out;\n  if (IS_GLOBAL) source = name;\n  for (key in source) {\n    // contains in native\n    own = !IS_FORCED && target && target[key] !== undefined;\n    if (own && has(exports, key)) continue;\n    // export native or passed\n    out = own ? target[key] : source[key];\n    // prevent global pollution for namespaces\n    exports[key] = IS_GLOBAL && typeof target[key] != 'function' ? source[key]\n    // bind timers to global for call from export context\n    : IS_BIND && own ? ctx(out, global)\n    // wrap global constructors for prevent change them in library\n    : IS_WRAP && target[key] == out ? (function (C) {\n      var F = function (a, b, c) {\n        if (this instanceof C) {\n          switch (arguments.length) {\n            case 0: return new C();\n            case 1: return new C(a);\n            case 2: return new C(a, b);\n          } return new C(a, b, c);\n        } return C.apply(this, arguments);\n      };\n      F[PROTOTYPE] = C[PROTOTYPE];\n      return F;\n    // make static versions for prototype methods\n    })(out) : IS_PROTO && typeof out == 'function' ? ctx(Function.call, out) : out;\n    // export proto methods to core.%CONSTRUCTOR%.methods.%NAME%\n    if (IS_PROTO) {\n      (exports.virtual || (exports.virtual = {}))[key] = out;\n      // export proto methods to core.%CONSTRUCTOR%.prototype.%NAME%\n      if (type & $export.R && expProto && !expProto[key]) hide(expProto, key, out);\n    }\n  }\n};\n// type bitmap\n$export.F = 1;   // forced\n$export.G = 2;   // global\n$export.S = 4;   // static\n$export.P = 8;   // proto\n$export.B = 16;  // bind\n$export.W = 32;  // wrap\n$export.U = 64;  // safe\n$export.R = 128; // real proto method for `library`\nmodule.exports = $export;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_export.js\n// module id = 11\n// module chunks = 0 1","var dP = require('./_object-dp');\nvar createDesc = require('./_property-desc');\nmodule.exports = require('./_descriptors') ? function (object, key, value) {\n  return dP.f(object, key, createDesc(1, value));\n} : function (object, key, value) {\n  object[key] = value;\n  return object;\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_hide.js\n// module id = 12\n// module chunks = 0 1","module.exports = function (it) {\n  return typeof it === 'object' ? it !== null : typeof it === 'function';\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_is-object.js\n// module id = 13\n// module chunks = 0 1","var hasOwnProperty = {}.hasOwnProperty;\nmodule.exports = function (it, key) {\n  return hasOwnProperty.call(it, key);\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_has.js\n// module id = 14\n// module chunks = 0 1","// to indexed object, toObject with fallback for non-array-like ES3 strings\nvar IObject = require('./_iobject');\nvar defined = require('./_defined');\nmodule.exports = function (it) {\n  return IObject(defined(it));\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_to-iobject.js\n// module id = 15\n// module chunks = 0 1","const _ = require('underscore');\n\n/**\n * @class AV.Error\n */\n\nfunction AVError(code, message) {\n  const error = new Error(message);\n  error.code = code;\n  return error;\n}\n\n_.extend(\n  AVError,\n  /** @lends AV.Error */ {\n    /**\n     * Error code indicating some error other than those enumerated here.\n     * @constant\n     */\n    OTHER_CAUSE: -1,\n\n    /**\n     * Error code indicating that something has gone wrong with the server.\n     * If you get this error code, it is AV's fault. Contact us at\n     * https://avoscloud.com/help\n     * @constant\n     */\n    INTERNAL_SERVER_ERROR: 1,\n\n    /**\n     * Error code indicating the connection to the AV servers failed.\n     * @constant\n     */\n    CONNECTION_FAILED: 100,\n\n    /**\n     * Error code indicating the specified object doesn't exist.\n     * @constant\n     */\n    OBJECT_NOT_FOUND: 101,\n\n    /**\n     * Error code indicating you tried to query with a datatype that doesn't\n     * support it, like exact matching an array or object.\n     * @constant\n     */\n    INVALID_QUERY: 102,\n\n    /**\n     * Error code indicating a missing or invalid classname. Classnames are\n     * case-sensitive. They must start with a letter, and a-zA-Z0-9_ are the\n     * only valid characters.\n     * @constant\n     */\n    INVALID_CLASS_NAME: 103,\n\n    /**\n     * Error code indicating an unspecified object id.\n     * @constant\n     */\n    MISSING_OBJECT_ID: 104,\n\n    /**\n     * Error code indicating an invalid key name. Keys are case-sensitive. They\n     * must start with a letter, and a-zA-Z0-9_ are the only valid characters.\n     * @constant\n     */\n    INVALID_KEY_NAME: 105,\n\n    /**\n     * Error code indicating a malformed pointer. You should not see this unless\n     * you have been mucking about changing internal AV code.\n     * @constant\n     */\n    INVALID_POINTER: 106,\n\n    /**\n     * Error code indicating that badly formed JSON was received upstream. This\n     * either indicates you have done something unusual with modifying how\n     * things encode to JSON, or the network is failing badly.\n     * @constant\n     */\n    INVALID_JSON: 107,\n\n    /**\n     * Error code indicating that the feature you tried to access is only\n     * available internally for testing purposes.\n     * @constant\n     */\n    COMMAND_UNAVAILABLE: 108,\n\n    /**\n     * You must call AV.initialize before using the AV library.\n     * @constant\n     */\n    NOT_INITIALIZED: 109,\n\n    /**\n     * Error code indicating that a field was set to an inconsistent type.\n     * @constant\n     */\n    INCORRECT_TYPE: 111,\n\n    /**\n     * Error code indicating an invalid channel name. A channel name is either\n     * an empty string (the broadcast channel) or contains only a-zA-Z0-9_\n     * characters.\n     * @constant\n     */\n    INVALID_CHANNEL_NAME: 112,\n\n    /**\n     * Error code indicating that push is misconfigured.\n     * @constant\n     */\n    PUSH_MISCONFIGURED: 115,\n\n    /**\n     * Error code indicating that the object is too large.\n     * @constant\n     */\n    OBJECT_TOO_LARGE: 116,\n\n    /**\n     * Error code indicating that the operation isn't allowed for clients.\n     * @constant\n     */\n    OPERATION_FORBIDDEN: 119,\n\n    /**\n     * Error code indicating the result was not found in the cache.\n     * @constant\n     */\n    CACHE_MISS: 120,\n\n    /**\n     * Error code indicating that an invalid key was used in a nested\n     * JSONObject.\n     * @constant\n     */\n    INVALID_NESTED_KEY: 121,\n\n    /**\n     * Error code indicating that an invalid filename was used for AVFile.\n     * A valid file name contains only a-zA-Z0-9_. characters and is between 1\n     * and 128 characters.\n     * @constant\n     */\n    INVALID_FILE_NAME: 122,\n\n    /**\n     * Error code indicating an invalid ACL was provided.\n     * @constant\n     */\n    INVALID_ACL: 123,\n\n    /**\n     * Error code indicating that the request timed out on the server. Typically\n     * this indicates that the request is too expensive to run.\n     * @constant\n     */\n    TIMEOUT: 124,\n\n    /**\n     * Error code indicating that the email address was invalid.\n     * @constant\n     */\n    INVALID_EMAIL_ADDRESS: 125,\n\n    /**\n     * Error code indicating a missing content type.\n     * @constant\n     */\n    MISSING_CONTENT_TYPE: 126,\n\n    /**\n     * Error code indicating a missing content length.\n     * @constant\n     */\n    MISSING_CONTENT_LENGTH: 127,\n\n    /**\n     * Error code indicating an invalid content length.\n     * @constant\n     */\n    INVALID_CONTENT_LENGTH: 128,\n\n    /**\n     * Error code indicating a file that was too large.\n     * @constant\n     */\n    FILE_TOO_LARGE: 129,\n\n    /**\n     * Error code indicating an error saving a file.\n     * @constant\n     */\n    FILE_SAVE_ERROR: 130,\n\n    /**\n     * Error code indicating an error deleting a file.\n     * @constant\n     */\n    FILE_DELETE_ERROR: 153,\n\n    /**\n     * Error code indicating that a unique field was given a value that is\n     * already taken.\n     * @constant\n     */\n    DUPLICATE_VALUE: 137,\n\n    /**\n     * Error code indicating that a role's name is invalid.\n     * @constant\n     */\n    INVALID_ROLE_NAME: 139,\n\n    /**\n     * Error code indicating that an application quota was exceeded.  Upgrade to\n     * resolve.\n     * @constant\n     */\n    EXCEEDED_QUOTA: 140,\n\n    /**\n     * Error code indicating that a Cloud Code script failed.\n     * @constant\n     */\n    SCRIPT_FAILED: 141,\n\n    /**\n     * Error code indicating that a Cloud Code validation failed.\n     * @constant\n     */\n    VALIDATION_ERROR: 142,\n\n    /**\n     * Error code indicating that invalid image data was provided.\n     * @constant\n     */\n    INVALID_IMAGE_DATA: 150,\n\n    /**\n     * Error code indicating an unsaved file.\n     * @constant\n     */\n    UNSAVED_FILE_ERROR: 151,\n\n    /**\n     * Error code indicating an invalid push time.\n     */\n    INVALID_PUSH_TIME_ERROR: 152,\n\n    /**\n     * Error code indicating that the username is missing or empty.\n     * @constant\n     */\n    USERNAME_MISSING: 200,\n\n    /**\n     * Error code indicating that the password is missing or empty.\n     * @constant\n     */\n    PASSWORD_MISSING: 201,\n\n    /**\n     * Error code indicating that the username has already been taken.\n     * @constant\n     */\n    USERNAME_TAKEN: 202,\n\n    /**\n     * Error code indicating that the email has already been taken.\n     * @constant\n     */\n    EMAIL_TAKEN: 203,\n\n    /**\n     * Error code indicating that the email is missing, but must be specified.\n     * @constant\n     */\n    EMAIL_MISSING: 204,\n\n    /**\n     * Error code indicating that a user with the specified email was not found.\n     * @constant\n     */\n    EMAIL_NOT_FOUND: 205,\n\n    /**\n     * Error code indicating that a user object without a valid session could\n     * not be altered.\n     * @constant\n     */\n    SESSION_MISSING: 206,\n\n    /**\n     * Error code indicating that a user can only be created through signup.\n     * @constant\n     */\n    MUST_CREATE_USER_THROUGH_SIGNUP: 207,\n\n    /**\n     * Error code indicating that an an account being linked is already linked\n     * to another user.\n     * @constant\n     */\n    ACCOUNT_ALREADY_LINKED: 208,\n\n    /**\n     * Error code indicating that a user cannot be linked to an account because\n     * that account's id could not be found.\n     * @constant\n     */\n    LINKED_ID_MISSING: 250,\n\n    /**\n     * Error code indicating that a user with a linked (e.g. Facebook) account\n     * has an invalid session.\n     * @constant\n     */\n    INVALID_LINKED_SESSION: 251,\n\n    /**\n     * Error code indicating that a service being linked (e.g. Facebook or\n     * Twitter) is unsupported.\n     * @constant\n     */\n    UNSUPPORTED_SERVICE: 252,\n    /**\n     * Error code indicating a real error code is unavailable because\n     * we had to use an XDomainRequest object to allow CORS requests in\n     * Internet Explorer, which strips the body from HTTP responses that have\n     * a non-2XX status code.\n     * @constant\n     */\n    X_DOMAIN_REQUEST: 602,\n  }\n);\n\nmodule.exports = AVError;\n\n\n\n// WEBPACK FOOTER //\n// ./src/error.js","module.exports = {};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_iterators.js\n// module id = 17\n// module chunks = 0 1","const _ = require('underscore');\nconst uuid = require('uuid/v4');\nconst debug = require('debug');\nconst { inherits, parseDate } = require('./utils');\nconst version = require('./version');\nconst { setAdapters, adapterManager } = require('./adapter');\n\nconst AV = global.AV || {};\n\n// All internal configuration items\nAV._config = {\n  serverURLs: {},\n  useMasterKey: false,\n  production: null,\n  realtime: null,\n  requestTimeout: null,\n};\n\nconst initialUserAgent = `LeanCloud-JS-SDK/${version}`;\n\n// configs shared by all AV instances\nAV._sharedConfig = {\n  userAgent: initialUserAgent,\n  liveQueryRealtime: null,\n};\n\nadapterManager.on('platformInfo', platformInfo => {\n  let ua = initialUserAgent;\n  if (platformInfo) {\n    if (platformInfo.userAgent) {\n      ua = platformInfo.userAgent;\n    } else {\n      let comments = platformInfo.name;\n      if (platformInfo.version) {\n        comments += `/${platformInfo.version}`;\n      }\n      if (platformInfo.extra) {\n        comments += `; ${platformInfo.extra}`;\n      }\n      ua += ` (${comments})`;\n    }\n  }\n  AV._sharedConfig.userAgent = ua;\n});\n\n/**\n * Contains all AV API classes and functions.\n * @namespace AV\n */\n\n/**\n * Returns prefix for localStorage keys used by this instance of AV.\n * @param {String} path The relative suffix to append to it.\n *     null or undefined is treated as the empty string.\n * @return {String} The full key name.\n * @private\n */\nAV._getAVPath = function(path) {\n  if (!AV.applicationId) {\n    throw new Error('You need to call AV.initialize before using AV.');\n  }\n  if (!path) {\n    path = '';\n  }\n  if (!_.isString(path)) {\n    throw new Error(\"Tried to get a localStorage path that wasn't a String.\");\n  }\n  if (path[0] === '/') {\n    path = path.substring(1);\n  }\n  return 'AV/' + AV.applicationId + '/' + path;\n};\n\n/**\n * Returns the unique string for this app on this machine.\n * Gets reset when localStorage is cleared.\n * @private\n */\nAV._installationId = null;\nAV._getInstallationId = () => {\n  // See if it's cached in RAM.\n  if (AV._installationId) {\n    return Promise.resolve(AV._installationId);\n  }\n\n  // Try to get it from localStorage.\n  const path = AV._getAVPath('installationId');\n  return AV.localStorage.getItemAsync(path).then(_installationId => {\n    AV._installationId = _installationId;\n    if (!AV._installationId) {\n      // It wasn't in localStorage, so create a new one.\n      AV._installationId = _installationId = uuid();\n      return AV.localStorage\n        .setItemAsync(path, _installationId)\n        .then(() => _installationId);\n    }\n    return _installationId;\n  });\n};\n\nAV._subscriptionId = null;\nAV._refreshSubscriptionId = (path = AV._getAVPath('subscriptionId')) => {\n  const subscriptionId = (AV._subscriptionId = uuid());\n  return AV.localStorage\n    .setItemAsync(path, subscriptionId)\n    .then(() => subscriptionId);\n};\nAV._getSubscriptionId = () => {\n  // See if it's cached in RAM.\n  if (AV._subscriptionId) {\n    return Promise.resolve(AV._subscriptionId);\n  }\n\n  // Try to get it from localStorage.\n  const path = AV._getAVPath('subscriptionId');\n  return AV.localStorage.getItemAsync(path).then(_subscriptionId => {\n    AV._subscriptionId = _subscriptionId;\n    if (!AV._subscriptionId) {\n      // It wasn't in localStorage, so create a new one.\n      _subscriptionId = AV._refreshSubscriptionId(path);\n    }\n    return _subscriptionId;\n  });\n};\n\nAV._parseDate = parseDate;\n\n// A self-propagating extend function.\nAV._extend = function(protoProps, classProps) {\n  var child = inherits(this, protoProps, classProps);\n  child.extend = this.extend;\n  return child;\n};\n\n/**\n * Converts a value in a AV Object into the appropriate representation.\n * This is the JS equivalent of Java's AV.maybeReferenceAndEncode(Object)\n * if seenObjects is falsey. Otherwise any AV.Objects not in\n * seenObjects will be fully embedded rather than encoded\n * as a pointer.  This array will be used to prevent going into an infinite\n * loop because we have circular references.  If <seenObjects>\n * is set, then none of the AV Objects that are serialized can be dirty.\n * @private\n */\nAV._encode = function(value, seenObjects, disallowObjects, full = true) {\n  if (value instanceof AV.Object) {\n    if (disallowObjects) {\n      throw new Error('AV.Objects not allowed here');\n    }\n    if (!seenObjects || _.include(seenObjects, value) || !value._hasData) {\n      return value._toPointer();\n    }\n    return value._toFullJSON(seenObjects.concat(value), full);\n  }\n  if (value instanceof AV.ACL) {\n    return value.toJSON();\n  }\n  if (_.isDate(value)) {\n    return full ? { __type: 'Date', iso: value.toJSON() } : value.toJSON();\n  }\n  if (value instanceof AV.GeoPoint) {\n    return value.toJSON();\n  }\n  if (_.isArray(value)) {\n    return _.map(value, function(x) {\n      return AV._encode(x, seenObjects, disallowObjects, full);\n    });\n  }\n  if (_.isRegExp(value)) {\n    return value.source;\n  }\n  if (value instanceof AV.Relation) {\n    return value.toJSON();\n  }\n  if (value instanceof AV.Op) {\n    return value.toJSON();\n  }\n  if (value instanceof AV.File) {\n    if (!value.url() && !value.id) {\n      throw new Error('Tried to save an object containing an unsaved file.');\n    }\n    return value._toFullJSON(seenObjects, full);\n  }\n  if (_.isObject(value)) {\n    return _.mapObject(value, (v, k) =>\n      AV._encode(v, seenObjects, disallowObjects, full)\n    );\n  }\n  return value;\n};\n\n/**\n * The inverse function of AV._encode.\n * @private\n */\nAV._decode = function(value, key) {\n  if (!_.isObject(value) || _.isDate(value)) {\n    return value;\n  }\n  if (_.isArray(value)) {\n    return _.map(value, v => AV._decode(v));\n  }\n  if (value instanceof AV.Object) {\n    return value;\n  }\n  if (value instanceof AV.File) {\n    return value;\n  }\n  if (value instanceof AV.Op) {\n    return value;\n  }\n  if (value instanceof AV.GeoPoint) {\n    return value;\n  }\n  if (value instanceof AV.ACL) {\n    return value;\n  }\n  if (key === 'ACL') {\n    return new AV.ACL(value);\n  }\n  if (value.__op) {\n    return AV.Op._decode(value);\n  }\n  var className;\n  if (value.__type === 'Pointer') {\n    className = value.className;\n    var pointer = AV.Object._create(className);\n    if (Object.keys(value).length > 3) {\n      const v = _.clone(value);\n      delete v.__type;\n      delete v.className;\n      pointer._finishFetch(v, true);\n    } else {\n      pointer._finishFetch({ objectId: value.objectId }, false);\n    }\n    return pointer;\n  }\n  if (value.__type === 'Object') {\n    // It's an Object included in a query result.\n    className = value.className;\n    const v = _.clone(value);\n    delete v.__type;\n    delete v.className;\n    var object = AV.Object._create(className);\n    object._finishFetch(v, true);\n    return object;\n  }\n  if (value.__type === 'Date') {\n    return AV._parseDate(value.iso);\n  }\n  if (value.__type === 'GeoPoint') {\n    return new AV.GeoPoint({\n      latitude: value.latitude,\n      longitude: value.longitude,\n    });\n  }\n  if (value.__type === 'Relation') {\n    if (!key) throw new Error('key missing decoding a Relation');\n    var relation = new AV.Relation(null, key);\n    relation.targetClassName = value.className;\n    return relation;\n  }\n  if (value.__type === 'File') {\n    var file = new AV.File(value.name);\n    const v = _.clone(value);\n    delete v.__type;\n    file._finishFetch(v);\n    return file;\n  }\n  return _.mapObject(value, AV._decode);\n};\n\n/**\n * The inverse function of {@link AV.Object#toFullJSON}.\n * @since 3.0.0\n * @method\n * @param {Object}\n * return {AV.Object|AV.File|any}\n */\nAV.parseJSON = AV._decode;\n\n/**\n * Similar to JSON.parse, except that AV internal types will be used if possible.\n * Inverse to {@link AV.stringify}\n * @since 3.14.0\n * @param {string} text the string to parse.\n * @return {AV.Object|AV.File|any}\n */\nAV.parse = text => AV.parseJSON(JSON.parse(text));\n/**\n * Serialize a target containing AV.Object, similar to JSON.stringify.\n * Inverse to {@link AV.parse}\n * @since 3.14.0\n * @return {string}\n */\nAV.stringify = target => JSON.stringify(AV._encode(target, [], false, true));\n\nAV._encodeObjectOrArray = function(value) {\n  var encodeAVObject = function(object) {\n    if (object && object._toFullJSON) {\n      object = object._toFullJSON([]);\n    }\n\n    return _.mapObject(object, function(value) {\n      return AV._encode(value, []);\n    });\n  };\n\n  if (_.isArray(value)) {\n    return value.map(function(object) {\n      return encodeAVObject(object);\n    });\n  } else {\n    return encodeAVObject(value);\n  }\n};\n\nAV._arrayEach = _.each;\n\n/**\n * Does a deep traversal of every item in object, calling func on every one.\n * @param {Object} object The object or array to traverse deeply.\n * @param {Function} func The function to call for every item. It will\n *     be passed the item as an argument. If it returns a truthy value, that\n *     value will replace the item in its parent container.\n * @returns {} the result of calling func on the top-level object itself.\n * @private\n */\nAV._traverse = function(object, func, seen) {\n  if (object instanceof AV.Object) {\n    seen = seen || [];\n    if (_.indexOf(seen, object) >= 0) {\n      // We've already visited this object in this call.\n      return;\n    }\n    seen.push(object);\n    AV._traverse(object.attributes, func, seen);\n    return func(object);\n  }\n  if (object instanceof AV.Relation || object instanceof AV.File) {\n    // Nothing needs to be done, but we don't want to recurse into the\n    // object's parent infinitely, so we catch this case.\n    return func(object);\n  }\n  if (_.isArray(object)) {\n    _.each(object, function(child, index) {\n      var newChild = AV._traverse(child, func, seen);\n      if (newChild) {\n        object[index] = newChild;\n      }\n    });\n    return func(object);\n  }\n  if (_.isObject(object)) {\n    AV._each(object, function(child, key) {\n      var newChild = AV._traverse(child, func, seen);\n      if (newChild) {\n        object[key] = newChild;\n      }\n    });\n    return func(object);\n  }\n  return func(object);\n};\n\n/**\n * This is like _.each, except:\n * * it doesn't work for so-called array-like objects,\n * * it does work for dictionaries with a \"length\" attribute.\n * @private\n */\nAV._objectEach = AV._each = function(obj, callback) {\n  if (_.isObject(obj)) {\n    _.each(_.keys(obj), function(key) {\n      callback(obj[key], key);\n    });\n  } else {\n    _.each(obj, callback);\n  }\n};\n\n/**\n * @namespace\n * @since 3.14.0\n */\nAV.debug = {\n  /**\n   * Enable debug\n   */\n  enable: (namespaces = 'leancloud*') => debug.enable(namespaces),\n  /**\n   * Disable debug\n   */\n  disable: debug.disable,\n};\n\n/**\n * Specify Adapters\n * @since 4.4.0\n * @function\n * @param {Adapters} newAdapters See {@link https://url.leanapp.cn/adapter-type-definitions @leancloud/adapter-types} for detailed definitions.\n */\nAV.setAdapters = setAdapters;\n\nmodule.exports = AV;\n\n\n\n// WEBPACK FOOTER //\n// ./src/av.js","\"use strict\";\n\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\n/* eslint-env browser */\n\n/**\n * This is the web browser implementation of `debug()`.\n */\nexports.log = log;\nexports.formatArgs = formatArgs;\nexports.save = save;\nexports.load = load;\nexports.useColors = useColors;\nexports.storage = localstorage();\n/**\n * Colors.\n */\n\nexports.colors = ['#0000CC', '#0000FF', '#0033CC', '#0033FF', '#0066CC', '#0066FF', '#0099CC', '#0099FF', '#00CC00', '#00CC33', '#00CC66', '#00CC99', '#00CCCC', '#00CCFF', '#3300CC', '#3300FF', '#3333CC', '#3333FF', '#3366CC', '#3366FF', '#3399CC', '#3399FF', '#33CC00', '#33CC33', '#33CC66', '#33CC99', '#33CCCC', '#33CCFF', '#6600CC', '#6600FF', '#6633CC', '#6633FF', '#66CC00', '#66CC33', '#9900CC', '#9900FF', '#9933CC', '#9933FF', '#99CC00', '#99CC33', '#CC0000', '#CC0033', '#CC0066', '#CC0099', '#CC00CC', '#CC00FF', '#CC3300', '#CC3333', '#CC3366', '#CC3399', '#CC33CC', '#CC33FF', '#CC6600', '#CC6633', '#CC9900', '#CC9933', '#CCCC00', '#CCCC33', '#FF0000', '#FF0033', '#FF0066', '#FF0099', '#FF00CC', '#FF00FF', '#FF3300', '#FF3333', '#FF3366', '#FF3399', '#FF33CC', '#FF33FF', '#FF6600', '#FF6633', '#FF9900', '#FF9933', '#FFCC00', '#FFCC33'];\n/**\n * Currently only WebKit-based Web Inspectors, Firefox >= v31,\n * and the Firebug extension (any Firefox version) are known\n * to support \"%c\" CSS customizations.\n *\n * TODO: add a `localStorage` variable to explicitly enable/disable colors\n */\n// eslint-disable-next-line complexity\n\nfunction useColors() {\n  // NB: In an Electron preload script, document will be defined but not fully\n  // initialized. Since we know we're in Chrome, we'll just detect this case\n  // explicitly\n  if (typeof window !== 'undefined' && window.process && (window.process.type === 'renderer' || window.process.__nwjs)) {\n    return true;\n  } // Internet Explorer and Edge do not support colors.\n\n\n  if (typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/(edge|trident)\\/(\\d+)/)) {\n    return false;\n  } // Is webkit? http://stackoverflow.com/a/16459606/376773\n  // document is undefined in react-native: https://github.com/facebook/react-native/pull/1632\n\n\n  return typeof document !== 'undefined' && document.documentElement && document.documentElement.style && document.documentElement.style.WebkitAppearance || // Is firebug? http://stackoverflow.com/a/398120/376773\n  typeof window !== 'undefined' && window.console && (window.console.firebug || window.console.exception && window.console.table) || // Is firefox >= v31?\n  // https://developer.mozilla.org/en-US/docs/Tools/Web_Console#Styling_messages\n  typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/firefox\\/(\\d+)/) && parseInt(RegExp.$1, 10) >= 31 || // Double check webkit in userAgent just in case we are in a worker\n  typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/applewebkit\\/(\\d+)/);\n}\n/**\n * Colorize log arguments if enabled.\n *\n * @api public\n */\n\n\nfunction formatArgs(args) {\n  args[0] = (this.useColors ? '%c' : '') + this.namespace + (this.useColors ? ' %c' : ' ') + args[0] + (this.useColors ? '%c ' : ' ') + '+' + module.exports.humanize(this.diff);\n\n  if (!this.useColors) {\n    return;\n  }\n\n  var c = 'color: ' + this.color;\n  args.splice(1, 0, c, 'color: inherit'); // The final \"%c\" is somewhat tricky, because there could be other\n  // arguments passed either before or after the %c, so we need to\n  // figure out the correct index to insert the CSS into\n\n  var index = 0;\n  var lastC = 0;\n  args[0].replace(/%[a-zA-Z%]/g, function (match) {\n    if (match === '%%') {\n      return;\n    }\n\n    index++;\n\n    if (match === '%c') {\n      // We only are interested in the *last* %c\n      // (the user may have provided their own)\n      lastC = index;\n    }\n  });\n  args.splice(lastC, 0, c);\n}\n/**\n * Invokes `console.log()` when available.\n * No-op when `console.log` is not a \"function\".\n *\n * @api public\n */\n\n\nfunction log() {\n  var _console;\n\n  // This hackery is required for IE8/9, where\n  // the `console.log` function doesn't have 'apply'\n  return (typeof console === \"undefined\" ? \"undefined\" : _typeof(console)) === 'object' && console.log && (_console = console).log.apply(_console, arguments);\n}\n/**\n * Save `namespaces`.\n *\n * @param {String} namespaces\n * @api private\n */\n\n\nfunction save(namespaces) {\n  try {\n    if (namespaces) {\n      exports.storage.setItem('debug', namespaces);\n    } else {\n      exports.storage.removeItem('debug');\n    }\n  } catch (error) {// Swallow\n    // XXX (@Qix-) should we be logging these?\n  }\n}\n/**\n * Load `namespaces`.\n *\n * @return {String} returns the previously persisted debug modes\n * @api private\n */\n\n\nfunction load() {\n  var r;\n\n  try {\n    r = exports.storage.getItem('debug');\n  } catch (error) {} // Swallow\n  // XXX (@Qix-) should we be logging these?\n  // If debug isn't set in LS, and we're in Electron, try to load $DEBUG\n\n\n  if (!r && typeof process !== 'undefined' && 'env' in process) {\n    r = process.env.DEBUG;\n  }\n\n  return r;\n}\n/**\n * Localstorage attempts to return the localstorage.\n *\n * This is necessary because safari throws\n * when a user disables cookies/localstorage\n * and you attempt to access it.\n *\n * @return {LocalStorage}\n * @api private\n */\n\n\nfunction localstorage() {\n  try {\n    // TVMLKit (Apple TV JS Runtime) does not have a window object, just localStorage in the global context\n    // The Browser also has localStorage in the global context.\n    return localStorage;\n  } catch (error) {// Swallow\n    // XXX (@Qix-) should we be logging these?\n  }\n}\n\nmodule.exports = require('./common')(exports);\nvar formatters = module.exports.formatters;\n/**\n * Map %j to `JSON.stringify()`, since no Web Inspectors do that by default.\n */\n\nformatters.j = function (v) {\n  try {\n    return JSON.stringify(v);\n  } catch (error) {\n    return '[UnexpectedJSONParseError]: ' + error.message;\n  }\n};\n\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/debug/src/browser.js\n// module id = 19\n// module chunks = 0 1","const _ = require('underscore');\nconst EventEmitter = require('eventemitter3');\nconst { inherits } = require('./utils');\n\nconst AdapterManager = inherits(EventEmitter, {\n  constructor() {\n    EventEmitter.apply(this);\n    this._adapters = {};\n  },\n  getAdapter(name) {\n    const adapter = this._adapters[name];\n    if (adapter === undefined) {\n      throw new Error(`${name} adapter is not configured`);\n    }\n    return adapter;\n  },\n  setAdapters(newAdapters) {\n    _.extend(this._adapters, newAdapters);\n    _.keys(newAdapters).forEach(name => this.emit(name, newAdapters[name]));\n  },\n});\n\nconst adapterManager = new AdapterManager();\n\nmodule.exports = {\n  getAdapter: adapterManager.getAdapter.bind(adapterManager),\n  setAdapters: adapterManager.setAdapters.bind(adapterManager),\n  adapterManager,\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/adapter.js","module.exports = true;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_library.js\n// module id = 21\n// module chunks = 0 1","module.exports = function (exec) {\n  try {\n    return !!exec();\n  } catch (e) {\n    return true;\n  }\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_fails.js\n// module id = 22\n// module chunks = 0 1","var toString = {}.toString;\n\nmodule.exports = function (it) {\n  return toString.call(it).slice(8, -1);\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_cof.js\n// module id = 23\n// module chunks = 0 1","'use strict';\nvar $at = require('./_string-at')(true);\n\n// 21.1.3.27 String.prototype[@@iterator]()\nrequire('./_iter-define')(String, 'String', function (iterated) {\n  this._t = String(iterated); // target\n  this._i = 0;                // next index\n// 21.1.5.2.1 %StringIteratorPrototype%.next()\n}, function () {\n  var O = this._t;\n  var index = this._i;\n  var point;\n  if (index >= O.length) return { value: undefined, done: true };\n  point = $at(O, index);\n  this._i += point.length;\n  return { value: point, done: false };\n});\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/es6.string.iterator.js\n// module id = 24\n// module chunks = 0 1","// optional / simple context binding\nvar aFunction = require('./_a-function');\nmodule.exports = function (fn, that, length) {\n  aFunction(fn);\n  if (that === undefined) return fn;\n  switch (length) {\n    case 1: return function (a) {\n      return fn.call(that, a);\n    };\n    case 2: return function (a, b) {\n      return fn.call(that, a, b);\n    };\n    case 3: return function (a, b, c) {\n      return fn.call(that, a, b, c);\n    };\n  }\n  return function (/* ...args */) {\n    return fn.apply(that, arguments);\n  };\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_ctx.js\n// module id = 25\n// module chunks = 0 1","module.exports = function (it) {\n  if (typeof it != 'function') throw TypeError(it + ' is not a function!');\n  return it;\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_a-function.js\n// module id = 26\n// module chunks = 0 1","module.exports = function (bitmap, value) {\n  return {\n    enumerable: !(bitmap & 1),\n    configurable: !(bitmap & 2),\n    writable: !(bitmap & 4),\n    value: value\n  };\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_property-desc.js\n// module id = 27\n// module chunks = 0 1","// 19.1.2.14 / 15.2.3.14 Object.keys(O)\nvar $keys = require('./_object-keys-internal');\nvar enumBugKeys = require('./_enum-bug-keys');\n\nmodule.exports = Object.keys || function keys(O) {\n  return $keys(O, enumBugKeys);\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_object-keys.js\n// module id = 28\n// module chunks = 0 1","var id = 0;\nvar px = Math.random();\nmodule.exports = function (key) {\n  return 'Symbol('.concat(key === undefined ? '' : key, ')_', (++id + px).toString(36));\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_uid.js\n// module id = 29\n// module chunks = 0 1","var def = require('./_object-dp').f;\nvar has = require('./_has');\nvar TAG = require('./_wks')('toStringTag');\n\nmodule.exports = function (it, tag, stat) {\n  if (it && !has(it = stat ? it : it.prototype, TAG)) def(it, TAG, { configurable: true, value: tag });\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_set-to-string-tag.js\n// module id = 30\n// module chunks = 0 1","// 7.1.13 ToObject(argument)\nvar defined = require('./_defined');\nmodule.exports = function (it) {\n  return Object(defined(it));\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_to-object.js\n// module id = 31\n// module chunks = 0 1","require('./es6.array.iterator');\nvar global = require('./_global');\nvar hide = require('./_hide');\nvar Iterators = require('./_iterators');\nvar TO_STRING_TAG = require('./_wks')('toStringTag');\n\nvar DOMIterables = ('CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,' +\n  'DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,' +\n  'MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,' +\n  'SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,' +\n  'TextTrackList,TouchList').split(',');\n\nfor (var i = 0; i < DOMIterables.length; i++) {\n  var NAME = DOMIterables[i];\n  var Collection = global[NAME];\n  var proto = Collection && Collection.prototype;\n  if (proto && !proto[TO_STRING_TAG]) hide(proto, TO_STRING_TAG, NAME);\n  Iterators[NAME] = Iterators.Array;\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/web.dom.iterable.js\n// module id = 32\n// module chunks = 0 1","// 7.1.4 ToInteger\nvar ceil = Math.ceil;\nvar floor = Math.floor;\nmodule.exports = function (it) {\n  return isNaN(it = +it) ? 0 : (it > 0 ? floor : ceil)(it);\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_to-integer.js\n// module id = 33\n// module chunks = 0 1","// 7.2.1 RequireObjectCoercible(argument)\nmodule.exports = function (it) {\n  if (it == undefined) throw TypeError(\"Can't call method on  \" + it);\n  return it;\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_defined.js\n// module id = 34\n// module chunks = 0 1","var isObject = require('./_is-object');\nvar document = require('./_global').document;\n// typeof document.createElement is 'object' in old IE\nvar is = isObject(document) && isObject(document.createElement);\nmodule.exports = function (it) {\n  return is ? document.createElement(it) : {};\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_dom-create.js\n// module id = 35\n// module chunks = 0 1","// 7.1.1 ToPrimitive(input [, PreferredType])\nvar isObject = require('./_is-object');\n// instead of the ES6 spec version, we didn't implement @@toPrimitive case\n// and the second argument - flag - preferred type is a string\nmodule.exports = function (it, S) {\n  if (!isObject(it)) return it;\n  var fn, val;\n  if (S && typeof (fn = it.toString) == 'function' && !isObject(val = fn.call(it))) return val;\n  if (typeof (fn = it.valueOf) == 'function' && !isObject(val = fn.call(it))) return val;\n  if (!S && typeof (fn = it.toString) == 'function' && !isObject(val = fn.call(it))) return val;\n  throw TypeError(\"Can't convert object to primitive value\");\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_to-primitive.js\n// module id = 36\n// module chunks = 0 1","var shared = require('./_shared')('keys');\nvar uid = require('./_uid');\nmodule.exports = function (key) {\n  return shared[key] || (shared[key] = uid(key));\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_shared-key.js\n// module id = 37\n// module chunks = 0 1","var core = require('./_core');\nvar global = require('./_global');\nvar SHARED = '__core-js_shared__';\nvar store = global[SHARED] || (global[SHARED] = {});\n\n(module.exports = function (key, value) {\n  return store[key] || (store[key] = value !== undefined ? value : {});\n})('versions', []).push({\n  version: core.version,\n  mode: require('./_library') ? 'pure' : 'global',\n  copyright: ' 2019 Denis Pushkarev (zloirock.ru)'\n});\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_shared.js\n// module id = 38\n// module chunks = 0 1","// IE 8- don't enum bug keys\nmodule.exports = (\n  'constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf'\n).split(',');\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_enum-bug-keys.js\n// module id = 39\n// module chunks = 0 1","// getting tag from 19.1.3.6 Object.prototype.toString()\nvar cof = require('./_cof');\nvar TAG = require('./_wks')('toStringTag');\n// ES3 wrong here\nvar ARG = cof(function () { return arguments; }()) == 'Arguments';\n\n// fallback for IE11 Script Access Denied error\nvar tryGet = function (it, key) {\n  try {\n    return it[key];\n  } catch (e) { /* empty */ }\n};\n\nmodule.exports = function (it) {\n  var O, T, B;\n  return it === undefined ? 'Undefined' : it === null ? 'Null'\n    // @@toStringTag case\n    : typeof (T = tryGet(O = Object(it), TAG)) == 'string' ? T\n    // builtinTag case\n    : ARG ? cof(O)\n    // ES3 arguments fallback\n    : (B = cof(O)) == 'Object' && typeof O.callee == 'function' ? 'Arguments' : B;\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_classof.js\n// module id = 40\n// module chunks = 0 1","'use strict';\n// 25.4.1.5 NewPromiseCapability(C)\nvar aFunction = require('./_a-function');\n\nfunction PromiseCapability(C) {\n  var resolve, reject;\n  this.promise = new C(function ($$resolve, $$reject) {\n    if (resolve !== undefined || reject !== undefined) throw TypeError('Bad Promise constructor');\n    resolve = $$resolve;\n    reject = $$reject;\n  });\n  this.resolve = aFunction(resolve);\n  this.reject = aFunction(reject);\n}\n\nmodule.exports.f = function (C) {\n  return new PromiseCapability(C);\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_new-promise-capability.js\n// module id = 41\n// module chunks = 0 1","// most Object methods by ES6 should accept primitives\nvar $export = require('./_export');\nvar core = require('./_core');\nvar fails = require('./_fails');\nmodule.exports = function (KEY, exec) {\n  var fn = (core.Object || {})[KEY] || Object[KEY];\n  var exp = {};\n  exp[KEY] = exec(fn);\n  $export($export.S + $export.F * fails(function () { fn(1); }), 'Object', exp);\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_object-sap.js\n// module id = 42\n// module chunks = 0 1","const _ = require('underscore');\nconst { timeout } = require('promise-timeout');\nconst debug = require('debug');\nconst debugRequest = debug('leancloud:request');\nconst debugRequestError = debug('leancloud:request:error');\nconst { getAdapter } = require('../adapter');\n\nlet requestsCount = 0;\n\nconst ajax = ({\n  method,\n  url,\n  query,\n  data,\n  headers = {},\n  timeout: time,\n  onprogress,\n}) => {\n  if (query) {\n    const queryString = Object.keys(query)\n      .map(key => {\n        const value = query[key];\n        if (value === undefined) return undefined;\n        const v = typeof value === 'object' ? JSON.stringify(value) : value;\n        return `${encodeURIComponent(key)}=${encodeURIComponent(v)}`;\n      })\n      .filter(qs => qs)\n      .join('&');\n    url = `${url}?${queryString}`;\n  }\n\n  const count = requestsCount++;\n  debugRequest(\n    'request(%d) %s %s %o %o %o',\n    count,\n    method,\n    url,\n    query,\n    data,\n    headers\n  );\n\n  const request = getAdapter('request');\n  const promise = request(url, { method, headers, data, onprogress })\n    .then(response => {\n      debugRequest(\n        'response(%d) %d %O %o',\n        count,\n        response.status,\n        response.data || response.text,\n        response.header\n      );\n      if (response.ok === false) {\n        const error = new Error();\n        error.response = response;\n        throw error;\n      }\n      return response.data;\n    })\n    .catch(error => {\n      if (error.response) {\n        if (!debug.enabled('leancloud:request')) {\n          debugRequestError(\n            'request(%d) %s %s %o %o %o',\n            count,\n            method,\n            url,\n            query,\n            data,\n            headers\n          );\n        }\n        debugRequestError(\n          'response(%d) %d %O %o',\n          count,\n          error.response.status,\n          error.response.data || error.response.text,\n          error.response.header\n        );\n        error.statusCode = error.response.status;\n        error.responseText = error.response.text;\n        error.response = error.response.data;\n      }\n      throw error;\n    });\n  return time ? timeout(promise, time) : promise;\n};\n\nmodule.exports = ajax;\n\n\n\n// WEBPACK FOOTER //\n// ./src/utils/ajax.js","exports.f = require('./_wks');\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_wks-ext.js\n// module id = 44\n// module chunks = 0 1","var global = require('./_global');\nvar core = require('./_core');\nvar LIBRARY = require('./_library');\nvar wksExt = require('./_wks-ext');\nvar defineProperty = require('./_object-dp').f;\nmodule.exports = function (name) {\n  var $Symbol = core.Symbol || (core.Symbol = LIBRARY ? {} : global.Symbol || {});\n  if (name.charAt(0) != '_' && !(name in $Symbol)) defineProperty($Symbol, name, { value: wksExt.f(name) });\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_wks-define.js\n// module id = 45\n// module chunks = 0 1","exports.f = {}.propertyIsEnumerable;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_object-pie.js\n// module id = 46\n// module chunks = 0 1","'use strict';\nvar LIBRARY = require('./_library');\nvar $export = require('./_export');\nvar redefine = require('./_redefine');\nvar hide = require('./_hide');\nvar Iterators = require('./_iterators');\nvar $iterCreate = require('./_iter-create');\nvar setToStringTag = require('./_set-to-string-tag');\nvar getPrototypeOf = require('./_object-gpo');\nvar ITERATOR = require('./_wks')('iterator');\nvar BUGGY = !([].keys && 'next' in [].keys()); // Safari has buggy iterators w/o `next`\nvar FF_ITERATOR = '@@iterator';\nvar KEYS = 'keys';\nvar VALUES = 'values';\n\nvar returnThis = function () { return this; };\n\nmodule.exports = function (Base, NAME, Constructor, next, DEFAULT, IS_SET, FORCED) {\n  $iterCreate(Constructor, NAME, next);\n  var getMethod = function (kind) {\n    if (!BUGGY && kind in proto) return proto[kind];\n    switch (kind) {\n      case KEYS: return function keys() { return new Constructor(this, kind); };\n      case VALUES: return function values() { return new Constructor(this, kind); };\n    } return function entries() { return new Constructor(this, kind); };\n  };\n  var TAG = NAME + ' Iterator';\n  var DEF_VALUES = DEFAULT == VALUES;\n  var VALUES_BUG = false;\n  var proto = Base.prototype;\n  var $native = proto[ITERATOR] || proto[FF_ITERATOR] || DEFAULT && proto[DEFAULT];\n  var $default = $native || getMethod(DEFAULT);\n  var $entries = DEFAULT ? !DEF_VALUES ? $default : getMethod('entries') : undefined;\n  var $anyNative = NAME == 'Array' ? proto.entries || $native : $native;\n  var methods, key, IteratorPrototype;\n  // Fix native\n  if ($anyNative) {\n    IteratorPrototype = getPrototypeOf($anyNative.call(new Base()));\n    if (IteratorPrototype !== Object.prototype && IteratorPrototype.next) {\n      // Set @@toStringTag to native iterators\n      setToStringTag(IteratorPrototype, TAG, true);\n      // fix for some old engines\n      if (!LIBRARY && typeof IteratorPrototype[ITERATOR] != 'function') hide(IteratorPrototype, ITERATOR, returnThis);\n    }\n  }\n  // fix Array#{values, @@iterator}.name in V8 / FF\n  if (DEF_VALUES && $native && $native.name !== VALUES) {\n    VALUES_BUG = true;\n    $default = function values() { return $native.call(this); };\n  }\n  // Define iterator\n  if ((!LIBRARY || FORCED) && (BUGGY || VALUES_BUG || !proto[ITERATOR])) {\n    hide(proto, ITERATOR, $default);\n  }\n  // Plug for library\n  Iterators[NAME] = $default;\n  Iterators[TAG] = returnThis;\n  if (DEFAULT) {\n    methods = {\n      values: DEF_VALUES ? $default : getMethod(VALUES),\n      keys: IS_SET ? $default : getMethod(KEYS),\n      entries: $entries\n    };\n    if (FORCED) for (key in methods) {\n      if (!(key in proto)) redefine(proto, key, methods[key]);\n    } else $export($export.P + $export.F * (BUGGY || VALUES_BUG), NAME, methods);\n  }\n  return methods;\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_iter-define.js\n// module id = 48\n// module chunks = 0 1","module.exports = !require('./_descriptors') && !require('./_fails')(function () {\n  return Object.defineProperty(require('./_dom-create')('div'), 'a', { get: function () { return 7; } }).a != 7;\n});\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_ie8-dom-define.js\n// module id = 49\n// module chunks = 0 1","module.exports = require('./_hide');\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_redefine.js\n// module id = 50\n// module chunks = 0 1","// 19.1.2.2 / 15.2.3.5 Object.create(O [, Properties])\nvar anObject = require('./_an-object');\nvar dPs = require('./_object-dps');\nvar enumBugKeys = require('./_enum-bug-keys');\nvar IE_PROTO = require('./_shared-key')('IE_PROTO');\nvar Empty = function () { /* empty */ };\nvar PROTOTYPE = 'prototype';\n\n// Create object with fake `null` prototype: use iframe Object with cleared prototype\nvar createDict = function () {\n  // Thrash, waste and sodomy: IE GC bug\n  var iframe = require('./_dom-create')('iframe');\n  var i = enumBugKeys.length;\n  var lt = '<';\n  var gt = '>';\n  var iframeDocument;\n  iframe.style.display = 'none';\n  require('./_html').appendChild(iframe);\n  iframe.src = 'javascript:'; // eslint-disable-line no-script-url\n  // createDict = iframe.contentWindow.Object;\n  // html.removeChild(iframe);\n  iframeDocument = iframe.contentWindow.document;\n  iframeDocument.open();\n  iframeDocument.write(lt + 'script' + gt + 'document.F=Object' + lt + '/script' + gt);\n  iframeDocument.close();\n  createDict = iframeDocument.F;\n  while (i--) delete createDict[PROTOTYPE][enumBugKeys[i]];\n  return createDict();\n};\n\nmodule.exports = Object.create || function create(O, Properties) {\n  var result;\n  if (O !== null) {\n    Empty[PROTOTYPE] = anObject(O);\n    result = new Empty();\n    Empty[PROTOTYPE] = null;\n    // add \"__proto__\" for Object.getPrototypeOf polyfill\n    result[IE_PROTO] = O;\n  } else result = createDict();\n  return Properties === undefined ? result : dPs(result, Properties);\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_object-create.js\n// module id = 51\n// module chunks = 0 1","var has = require('./_has');\nvar toIObject = require('./_to-iobject');\nvar arrayIndexOf = require('./_array-includes')(false);\nvar IE_PROTO = require('./_shared-key')('IE_PROTO');\n\nmodule.exports = function (object, names) {\n  var O = toIObject(object);\n  var i = 0;\n  var result = [];\n  var key;\n  for (key in O) if (key != IE_PROTO) has(O, key) && result.push(key);\n  // Don't enum bug & hidden keys\n  while (names.length > i) if (has(O, key = names[i++])) {\n    ~arrayIndexOf(result, key) || result.push(key);\n  }\n  return result;\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_object-keys-internal.js\n// module id = 52\n// module chunks = 0 1","// 7.1.15 ToLength\nvar toInteger = require('./_to-integer');\nvar min = Math.min;\nmodule.exports = function (it) {\n  return it > 0 ? min(toInteger(it), 0x1fffffffffffff) : 0; // pow(2, 53) - 1 == 9007199254740991\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_to-length.js\n// module id = 53\n// module chunks = 0 1","var document = require('./_global').document;\nmodule.exports = document && document.documentElement;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_html.js\n// module id = 54\n// module chunks = 0 1","// 19.1.2.9 / 15.2.3.2 Object.getPrototypeOf(O)\nvar has = require('./_has');\nvar toObject = require('./_to-object');\nvar IE_PROTO = require('./_shared-key')('IE_PROTO');\nvar ObjectProto = Object.prototype;\n\nmodule.exports = Object.getPrototypeOf || function (O) {\n  O = toObject(O);\n  if (has(O, IE_PROTO)) return O[IE_PROTO];\n  if (typeof O.constructor == 'function' && O instanceof O.constructor) {\n    return O.constructor.prototype;\n  } return O instanceof Object ? ObjectProto : null;\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_object-gpo.js\n// module id = 55\n// module chunks = 0 1","var classof = require('./_classof');\nvar ITERATOR = require('./_wks')('iterator');\nvar Iterators = require('./_iterators');\nmodule.exports = require('./_core').getIteratorMethod = function (it) {\n  if (it != undefined) return it[ITERATOR]\n    || it['@@iterator']\n    || Iterators[classof(it)];\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/core.get-iterator-method.js\n// module id = 56\n// module chunks = 0 1","// 7.3.20 SpeciesConstructor(O, defaultConstructor)\nvar anObject = require('./_an-object');\nvar aFunction = require('./_a-function');\nvar SPECIES = require('./_wks')('species');\nmodule.exports = function (O, D) {\n  var C = anObject(O).constructor;\n  var S;\n  return C === undefined || (S = anObject(C)[SPECIES]) == undefined ? D : aFunction(S);\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_species-constructor.js\n// module id = 57\n// module chunks = 0 1","var ctx = require('./_ctx');\nvar invoke = require('./_invoke');\nvar html = require('./_html');\nvar cel = require('./_dom-create');\nvar global = require('./_global');\nvar process = global.process;\nvar setTask = global.setImmediate;\nvar clearTask = global.clearImmediate;\nvar MessageChannel = global.MessageChannel;\nvar Dispatch = global.Dispatch;\nvar counter = 0;\nvar queue = {};\nvar ONREADYSTATECHANGE = 'onreadystatechange';\nvar defer, channel, port;\nvar run = function () {\n  var id = +this;\n  // eslint-disable-next-line no-prototype-builtins\n  if (queue.hasOwnProperty(id)) {\n    var fn = queue[id];\n    delete queue[id];\n    fn();\n  }\n};\nvar listener = function (event) {\n  run.call(event.data);\n};\n// Node.js 0.9+ & IE10+ has setImmediate, otherwise:\nif (!setTask || !clearTask) {\n  setTask = function setImmediate(fn) {\n    var args = [];\n    var i = 1;\n    while (arguments.length > i) args.push(arguments[i++]);\n    queue[++counter] = function () {\n      // eslint-disable-next-line no-new-func\n      invoke(typeof fn == 'function' ? fn : Function(fn), args);\n    };\n    defer(counter);\n    return counter;\n  };\n  clearTask = function clearImmediate(id) {\n    delete queue[id];\n  };\n  // Node.js 0.8-\n  if (require('./_cof')(process) == 'process') {\n    defer = function (id) {\n      process.nextTick(ctx(run, id, 1));\n    };\n  // Sphere (JS game engine) Dispatch API\n  } else if (Dispatch && Dispatch.now) {\n    defer = function (id) {\n      Dispatch.now(ctx(run, id, 1));\n    };\n  // Browsers with MessageChannel, includes WebWorkers\n  } else if (MessageChannel) {\n    channel = new MessageChannel();\n    port = channel.port2;\n    channel.port1.onmessage = listener;\n    defer = ctx(port.postMessage, port, 1);\n  // Browsers with postMessage, skip WebWorkers\n  // IE8 has postMessage, but it's sync & typeof its postMessage is 'object'\n  } else if (global.addEventListener && typeof postMessage == 'function' && !global.importScripts) {\n    defer = function (id) {\n      global.postMessage(id + '', '*');\n    };\n    global.addEventListener('message', listener, false);\n  // IE8-\n  } else if (ONREADYSTATECHANGE in cel('script')) {\n    defer = function (id) {\n      html.appendChild(cel('script'))[ONREADYSTATECHANGE] = function () {\n        html.removeChild(this);\n        run.call(id);\n      };\n    };\n  // Rest old browsers\n  } else {\n    defer = function (id) {\n      setTimeout(ctx(run, id, 1), 0);\n    };\n  }\n}\nmodule.exports = {\n  set: setTask,\n  clear: clearTask\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_task.js\n// module id = 58\n// module chunks = 0 1","module.exports = function (exec) {\n  try {\n    return { e: false, v: exec() };\n  } catch (e) {\n    return { e: true, v: e };\n  }\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_perform.js\n// module id = 59\n// module chunks = 0 1","var anObject = require('./_an-object');\nvar isObject = require('./_is-object');\nvar newPromiseCapability = require('./_new-promise-capability');\n\nmodule.exports = function (C, x) {\n  anObject(C);\n  if (isObject(x) && x.constructor === C) return x;\n  var promiseCapability = newPromiseCapability.f(C);\n  var resolve = promiseCapability.resolve;\n  resolve(x);\n  return promiseCapability.promise;\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_promise-resolve.js\n// module id = 60\n// module chunks = 0 1","var g;\r\n\r\n// This works in non-strict mode\r\ng = (function() {\r\n\treturn this;\r\n})();\r\n\r\ntry {\r\n\t// This works if eval is allowed (see CSP)\r\n\tg = g || Function(\"return this\")() || (1,eval)(\"this\");\r\n} catch(e) {\r\n\t// This works if the window reference is available\r\n\tif(typeof window === \"object\")\r\n\t\tg = window;\r\n}\r\n\r\n// g can still be undefined, but nothing to do about it...\r\n// We return undefined, instead of nothing here, so it's\r\n// easier to handle this case. if(!global) { ...}\r\n\r\nmodule.exports = g;\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// (webpack)/buildin/global.js\n// module id = 61\n// module chunks = 0 1","module.exports = { \"default\": require(\"core-js/library/fn/object/keys\"), __esModule: true };\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/babel-runtime/core-js/object/keys.js\n// module id = 62\n// module chunks = 0 1","var rng = require('./lib/rng');\nvar bytesToUuid = require('./lib/bytesToUuid');\n\nfunction v4(options, buf, offset) {\n  var i = buf && offset || 0;\n\n  if (typeof(options) == 'string') {\n    buf = options === 'binary' ? new Array(16) : null;\n    options = null;\n  }\n  options = options || {};\n\n  var rnds = options.random || (options.rng || rng)();\n\n  // Per 4.4, set bits for version and `clock_seq_hi_and_reserved`\n  rnds[6] = (rnds[6] & 0x0f) | 0x40;\n  rnds[8] = (rnds[8] & 0x3f) | 0x80;\n\n  // Copy bytes to buffer, if provided\n  if (buf) {\n    for (var ii = 0; ii < 16; ++ii) {\n      buf[i + ii] = rnds[ii];\n    }\n  }\n\n  return buf || bytesToUuid(rnds);\n}\n\nmodule.exports = v4;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/uuid/v4.js\n// module id = 63\n// module chunks = 0 1","module.exports = '4.10.1';\n\n\n\n// WEBPACK FOOTER //\n// ./src/version.js","'use strict';\n\nvar has = Object.prototype.hasOwnProperty\n  , prefix = '~';\n\n/**\n * Constructor to create a storage for our `EE` objects.\n * An `Events` instance is a plain object whose properties are event names.\n *\n * @constructor\n * @api private\n */\nfunction Events() {}\n\n//\n// We try to not inherit from `Object.prototype`. In some engines creating an\n// instance in this way is faster than calling `Object.create(null)` directly.\n// If `Object.create(null)` is not supported we prefix the event names with a\n// character to make sure that the built-in object properties are not\n// overridden or used as an attack vector.\n//\nif (Object.create) {\n  Events.prototype = Object.create(null);\n\n  //\n  // This hack is needed because the `__proto__` property is still inherited in\n  // some old browsers like Android 4, iPhone 5.1, Opera 11 and Safari 5.\n  //\n  if (!new Events().__proto__) prefix = false;\n}\n\n/**\n * Representation of a single event listener.\n *\n * @param {Function} fn The listener function.\n * @param {Mixed} context The context to invoke the listener with.\n * @param {Boolean} [once=false] Specify if the listener is a one-time listener.\n * @constructor\n * @api private\n */\nfunction EE(fn, context, once) {\n  this.fn = fn;\n  this.context = context;\n  this.once = once || false;\n}\n\n/**\n * Minimal `EventEmitter` interface that is molded against the Node.js\n * `EventEmitter` interface.\n *\n * @constructor\n * @api public\n */\nfunction EventEmitter() {\n  this._events = new Events();\n  this._eventsCount = 0;\n}\n\n/**\n * Return an array listing the events for which the emitter has registered\n * listeners.\n *\n * @returns {Array}\n * @api public\n */\nEventEmitter.prototype.eventNames = function eventNames() {\n  var names = []\n    , events\n    , name;\n\n  if (this._eventsCount === 0) return names;\n\n  for (name in (events = this._events)) {\n    if (has.call(events, name)) names.push(prefix ? name.slice(1) : name);\n  }\n\n  if (Object.getOwnPropertySymbols) {\n    return names.concat(Object.getOwnPropertySymbols(events));\n  }\n\n  return names;\n};\n\n/**\n * Return the listeners registered for a given event.\n *\n * @param {String|Symbol} event The event name.\n * @param {Boolean} exists Only check if there are listeners.\n * @returns {Array|Boolean}\n * @api public\n */\nEventEmitter.prototype.listeners = function listeners(event, exists) {\n  var evt = prefix ? prefix + event : event\n    , available = this._events[evt];\n\n  if (exists) return !!available;\n  if (!available) return [];\n  if (available.fn) return [available.fn];\n\n  for (var i = 0, l = available.length, ee = new Array(l); i < l; i++) {\n    ee[i] = available[i].fn;\n  }\n\n  return ee;\n};\n\n/**\n * Calls each of the listeners registered for a given event.\n *\n * @param {String|Symbol} event The event name.\n * @returns {Boolean} `true` if the event had listeners, else `false`.\n * @api public\n */\nEventEmitter.prototype.emit = function emit(event, a1, a2, a3, a4, a5) {\n  var evt = prefix ? prefix + event : event;\n\n  if (!this._events[evt]) return false;\n\n  var listeners = this._events[evt]\n    , len = arguments.length\n    , args\n    , i;\n\n  if (listeners.fn) {\n    if (listeners.once) this.removeListener(event, listeners.fn, undefined, true);\n\n    switch (len) {\n      case 1: return listeners.fn.call(listeners.context), true;\n      case 2: return listeners.fn.call(listeners.context, a1), true;\n      case 3: return listeners.fn.call(listeners.context, a1, a2), true;\n      case 4: return listeners.fn.call(listeners.context, a1, a2, a3), true;\n      case 5: return listeners.fn.call(listeners.context, a1, a2, a3, a4), true;\n      case 6: return listeners.fn.call(listeners.context, a1, a2, a3, a4, a5), true;\n    }\n\n    for (i = 1, args = new Array(len -1); i < len; i++) {\n      args[i - 1] = arguments[i];\n    }\n\n    listeners.fn.apply(listeners.context, args);\n  } else {\n    var length = listeners.length\n      , j;\n\n    for (i = 0; i < length; i++) {\n      if (listeners[i].once) this.removeListener(event, listeners[i].fn, undefined, true);\n\n      switch (len) {\n        case 1: listeners[i].fn.call(listeners[i].context); break;\n        case 2: listeners[i].fn.call(listeners[i].context, a1); break;\n        case 3: listeners[i].fn.call(listeners[i].context, a1, a2); break;\n        case 4: listeners[i].fn.call(listeners[i].context, a1, a2, a3); break;\n        default:\n          if (!args) for (j = 1, args = new Array(len -1); j < len; j++) {\n            args[j - 1] = arguments[j];\n          }\n\n          listeners[i].fn.apply(listeners[i].context, args);\n      }\n    }\n  }\n\n  return true;\n};\n\n/**\n * Add a listener for a given event.\n *\n * @param {String|Symbol} event The event name.\n * @param {Function} fn The listener function.\n * @param {Mixed} [context=this] The context to invoke the listener with.\n * @returns {EventEmitter} `this`.\n * @api public\n */\nEventEmitter.prototype.on = function on(event, fn, context) {\n  var listener = new EE(fn, context || this)\n    , evt = prefix ? prefix + event : event;\n\n  if (!this._events[evt]) this._events[evt] = listener, this._eventsCount++;\n  else if (!this._events[evt].fn) this._events[evt].push(listener);\n  else this._events[evt] = [this._events[evt], listener];\n\n  return this;\n};\n\n/**\n * Add a one-time listener for a given event.\n *\n * @param {String|Symbol} event The event name.\n * @param {Function} fn The listener function.\n * @param {Mixed} [context=this] The context to invoke the listener with.\n * @returns {EventEmitter} `this`.\n * @api public\n */\nEventEmitter.prototype.once = function once(event, fn, context) {\n  var listener = new EE(fn, context || this, true)\n    , evt = prefix ? prefix + event : event;\n\n  if (!this._events[evt]) this._events[evt] = listener, this._eventsCount++;\n  else if (!this._events[evt].fn) this._events[evt].push(listener);\n  else this._events[evt] = [this._events[evt], listener];\n\n  return this;\n};\n\n/**\n * Remove the listeners of a given event.\n *\n * @param {String|Symbol} event The event name.\n * @param {Function} fn Only remove the listeners that match this function.\n * @param {Mixed} context Only remove the listeners that have this context.\n * @param {Boolean} once Only remove one-time listeners.\n * @returns {EventEmitter} `this`.\n * @api public\n */\nEventEmitter.prototype.removeListener = function removeListener(event, fn, context, once) {\n  var evt = prefix ? prefix + event : event;\n\n  if (!this._events[evt]) return this;\n  if (!fn) {\n    if (--this._eventsCount === 0) this._events = new Events();\n    else delete this._events[evt];\n    return this;\n  }\n\n  var listeners = this._events[evt];\n\n  if (listeners.fn) {\n    if (\n         listeners.fn === fn\n      && (!once || listeners.once)\n      && (!context || listeners.context === context)\n    ) {\n      if (--this._eventsCount === 0) this._events = new Events();\n      else delete this._events[evt];\n    }\n  } else {\n    for (var i = 0, events = [], length = listeners.length; i < length; i++) {\n      if (\n           listeners[i].fn !== fn\n        || (once && !listeners[i].once)\n        || (context && listeners[i].context !== context)\n      ) {\n        events.push(listeners[i]);\n      }\n    }\n\n    //\n    // Reset the array, or remove it completely if we have no more listeners.\n    //\n    if (events.length) this._events[evt] = events.length === 1 ? events[0] : events;\n    else if (--this._eventsCount === 0) this._events = new Events();\n    else delete this._events[evt];\n  }\n\n  return this;\n};\n\n/**\n * Remove all listeners, or those of the specified event.\n *\n * @param {String|Symbol} [event] The event name.\n * @returns {EventEmitter} `this`.\n * @api public\n */\nEventEmitter.prototype.removeAllListeners = function removeAllListeners(event) {\n  var evt;\n\n  if (event) {\n    evt = prefix ? prefix + event : event;\n    if (this._events[evt]) {\n      if (--this._eventsCount === 0) this._events = new Events();\n      else delete this._events[evt];\n    }\n  } else {\n    this._events = new Events();\n    this._eventsCount = 0;\n  }\n\n  return this;\n};\n\n//\n// Alias methods names because people roll like that.\n//\nEventEmitter.prototype.off = EventEmitter.prototype.removeListener;\nEventEmitter.prototype.addListener = EventEmitter.prototype.on;\n\n//\n// This function doesn't apply anymore.\n//\nEventEmitter.prototype.setMaxListeners = function setMaxListeners() {\n  return this;\n};\n\n//\n// Expose the prefix.\n//\nEventEmitter.prefixed = prefix;\n\n//\n// Allow `EventEmitter` to be imported as module namespace.\n//\nEventEmitter.EventEmitter = EventEmitter;\n\n//\n// Expose the module.\n//\nif ('undefined' !== typeof module) {\n  module.exports = EventEmitter;\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/eventemitter3/index.js\n// module id = 65\n// module chunks = 0 1","var { getAdapter } = require('./adapter');\n\nvar syncApiNames = ['getItem', 'setItem', 'removeItem', 'clear'];\n\nconst localStorage = {\n  get async() {\n    return getAdapter('storage').async;\n  },\n};\n\n// wrap sync apis with async ones.\nsyncApiNames.forEach(function(apiName) {\n  localStorage[apiName + 'Async'] = function() {\n    const storage = getAdapter('storage');\n    return Promise.resolve(storage[apiName].apply(storage, arguments));\n  };\n\n  localStorage[apiName] = function() {\n    const storage = getAdapter('storage');\n    if (!storage.async) {\n      return storage[apiName].apply(storage, arguments);\n    }\n    const error = new Error(\n      'Synchronous API [' + apiName + '] is not available in this runtime.'\n    );\n    error.code = 'SYNC_API_NOT_AVAILABLE';\n    throw error;\n  };\n});\n\nmodule.exports = localStorage;\n\n\n\n// WEBPACK FOOTER //\n// ./src/localstorage.js","const storage = require('./localstorage');\nconst AV = require('./av');\n\nconst removeAsync = (exports.removeAsync = storage.removeItemAsync.bind(\n  storage\n));\n\nconst getCacheData = (cacheData, key) => {\n  try {\n    cacheData = JSON.parse(cacheData);\n  } catch (e) {\n    return null;\n  }\n  if (cacheData) {\n    const expired = cacheData.expiredAt && cacheData.expiredAt < Date.now();\n    if (!expired) {\n      return cacheData.value;\n    }\n    return removeAsync(key).then(() => null);\n  }\n  return null;\n};\n\nexports.getAsync = key => {\n  key = `AV/${AV.applicationId}/${key}`;\n  return storage.getItemAsync(key).then(cache => getCacheData(cache, key));\n};\n\nexports.setAsync = (key, value, ttl) => {\n  const cache = { value };\n  if (typeof ttl === 'number') {\n    cache.expiredAt = Date.now() + ttl;\n  }\n  return storage.setItemAsync(\n    `AV/${AV.applicationId}/${key}`,\n    JSON.stringify(cache)\n  );\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/cache.js","module.exports = { \"default\": require(\"core-js/library/fn/object/define-property\"), __esModule: true };\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/babel-runtime/core-js/object/define-property.js\n// module id = 68\n// module chunks = 0 1","\"use strict\";\n\nexports.__esModule = true;\n\nvar _iterator = require(\"../core-js/symbol/iterator\");\n\nvar _iterator2 = _interopRequireDefault(_iterator);\n\nvar _symbol = require(\"../core-js/symbol\");\n\nvar _symbol2 = _interopRequireDefault(_symbol);\n\nvar _typeof = typeof _symbol2.default === \"function\" && typeof _iterator2.default === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof _symbol2.default === \"function\" && obj.constructor === _symbol2.default && obj !== _symbol2.default.prototype ? \"symbol\" : typeof obj; };\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = typeof _symbol2.default === \"function\" && _typeof(_iterator2.default) === \"symbol\" ? function (obj) {\n  return typeof obj === \"undefined\" ? \"undefined\" : _typeof(obj);\n} : function (obj) {\n  return obj && typeof _symbol2.default === \"function\" && obj.constructor === _symbol2.default && obj !== _symbol2.default.prototype ? \"symbol\" : typeof obj === \"undefined\" ? \"undefined\" : _typeof(obj);\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/babel-runtime/helpers/typeof.js\n// module id = 69\n// module chunks = 0 1","exports.f = Object.getOwnPropertySymbols;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_object-gops.js\n// module id = 70\n// module chunks = 0 1","// 19.1.2.7 / 15.2.3.4 Object.getOwnPropertyNames(O)\nvar $keys = require('./_object-keys-internal');\nvar hiddenKeys = require('./_enum-bug-keys').concat('length', 'prototype');\n\nexports.f = Object.getOwnPropertyNames || function getOwnPropertyNames(O) {\n  return $keys(O, hiddenKeys);\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_object-gopn.js\n// module id = 71\n// module chunks = 0 1","var pIE = require('./_object-pie');\nvar createDesc = require('./_property-desc');\nvar toIObject = require('./_to-iobject');\nvar toPrimitive = require('./_to-primitive');\nvar has = require('./_has');\nvar IE8_DOM_DEFINE = require('./_ie8-dom-define');\nvar gOPD = Object.getOwnPropertyDescriptor;\n\nexports.f = require('./_descriptors') ? gOPD : function getOwnPropertyDescriptor(O, P) {\n  O = toIObject(O);\n  P = toPrimitive(P, true);\n  if (IE8_DOM_DEFINE) try {\n    return gOPD(O, P);\n  } catch (e) { /* empty */ }\n  if (has(O, P)) return createDesc(!pIE.f.call(O, P), O[P]);\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_object-gopd.js\n// module id = 72\n// module chunks = 0 1","var charenc = {\n  // UTF-8 encoding\n  utf8: {\n    // Convert a string to a byte array\n    stringToBytes: function(str) {\n      return charenc.bin.stringToBytes(unescape(encodeURIComponent(str)));\n    },\n\n    // Convert a byte array to a string\n    bytesToString: function(bytes) {\n      return decodeURIComponent(escape(charenc.bin.bytesToString(bytes)));\n    }\n  },\n\n  // Binary encoding\n  bin: {\n    // Convert a string to a byte array\n    stringToBytes: function(str) {\n      for (var bytes = [], i = 0; i < str.length; i++)\n        bytes.push(str.charCodeAt(i) & 0xFF);\n      return bytes;\n    },\n\n    // Convert a byte array to a string\n    bytesToString: function(bytes) {\n      for (var str = [], i = 0; i < bytes.length; i++)\n        str.push(String.fromCharCode(bytes[i]));\n      return str.join('');\n    }\n  }\n};\n\nmodule.exports = charenc;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/charenc/charenc.js\n// module id = 73\n// module chunks = 0 1","module.exports = require('../index');\n\n\n\n// WEBPACK FOOTER //\n// ./src/entry/core.js","/*!\n * LeanCloud JavaScript SDK\n * https://leancloud.cn\n *\n * Copyright 2016 LeanCloud.cn, Inc.\n * The LeanCloud JavaScript SDK is freely distributable under the MIT license.\n */\nconst _ = require('underscore');\n\nconst AV = require('./av');\n\nAV._ = _;\nAV.version = require('./version');\nAV.Promise = Promise;\nAV.localStorage = require('./localstorage');\nAV.Cache = require('./cache');\nAV.Error = require('./error');\n\nrequire('./init');\nrequire('./event')(AV);\nrequire('./geopoint')(AV);\nrequire('./acl')(AV);\nrequire('./op')(AV);\nrequire('./relation')(AV);\nrequire('./file')(AV);\nrequire('./object')(AV);\nrequire('./role')(AV);\nrequire('./user')(AV);\nrequire('./query')(AV);\nrequire('./live-query')(AV);\nrequire('./captcha')(AV);\nrequire('./cloudfunction')(AV);\nrequire('./push')(AV);\nrequire('./status')(AV);\nrequire('./search')(AV);\nrequire('./insight')(AV);\nrequire('./friendship')(AV);\n\nAV.Conversation = require('./conversation');\nrequire('./leaderboard');\nmodule.exports = AV;\n\n/**\n * Options to controll the authentication for an operation\n * @typedef {Object} AuthOptions\n * @property {String} [sessionToken] Specify a user to excute the operation as.\n * @property {AV.User} [user] Specify a user to excute the operation as. The user must have _sessionToken. This option will be ignored if sessionToken option provided.\n * @property {Boolean} [useMasterKey] Indicates whether masterKey is used for this operation. Only valid when masterKey is set.\n */\n\n/**\n * Options to controll the authentication for an SMS operation\n * @typedef {Object} SMSAuthOptions\n * @property {String} [sessionToken] Specify a user to excute the operation as.\n * @property {AV.User} [user] Specify a user to excute the operation as. The user must have _sessionToken. This option will be ignored if sessionToken option provided.\n * @property {Boolean} [useMasterKey] Indicates whether masterKey is used for this operation. Only valid when masterKey is set.\n * @property {String} [validateToken] a validate token returned by {@link AV.Cloud.verifyCaptcha}\n */\n\n\n\n// WEBPACK FOOTER //\n// ./src/index.js","require('../modules/es6.object.to-string');\nrequire('../modules/es6.string.iterator');\nrequire('../modules/web.dom.iterable');\nrequire('../modules/es6.promise');\nrequire('../modules/es7.promise.finally');\nrequire('../modules/es7.promise.try');\nmodule.exports = require('../modules/_core').Promise;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/fn/promise.js\n// module id = 76\n// module chunks = 0 1","var toInteger = require('./_to-integer');\nvar defined = require('./_defined');\n// true  -> String#at\n// false -> String#codePointAt\nmodule.exports = function (TO_STRING) {\n  return function (that, pos) {\n    var s = String(defined(that));\n    var i = toInteger(pos);\n    var l = s.length;\n    var a, b;\n    if (i < 0 || i >= l) return TO_STRING ? '' : undefined;\n    a = s.charCodeAt(i);\n    return a < 0xd800 || a > 0xdbff || i + 1 === l || (b = s.charCodeAt(i + 1)) < 0xdc00 || b > 0xdfff\n      ? TO_STRING ? s.charAt(i) : a\n      : TO_STRING ? s.slice(i, i + 2) : (a - 0xd800 << 10) + (b - 0xdc00) + 0x10000;\n  };\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_string-at.js\n// module id = 77\n// module chunks = 0 1","'use strict';\nvar create = require('./_object-create');\nvar descriptor = require('./_property-desc');\nvar setToStringTag = require('./_set-to-string-tag');\nvar IteratorPrototype = {};\n\n// 25.1.2.1.1 %IteratorPrototype%[@@iterator]()\nrequire('./_hide')(IteratorPrototype, require('./_wks')('iterator'), function () { return this; });\n\nmodule.exports = function (Constructor, NAME, next) {\n  Constructor.prototype = create(IteratorPrototype, { next: descriptor(1, next) });\n  setToStringTag(Constructor, NAME + ' Iterator');\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_iter-create.js\n// module id = 78\n// module chunks = 0 1","var dP = require('./_object-dp');\nvar anObject = require('./_an-object');\nvar getKeys = require('./_object-keys');\n\nmodule.exports = require('./_descriptors') ? Object.defineProperties : function defineProperties(O, Properties) {\n  anObject(O);\n  var keys = getKeys(Properties);\n  var length = keys.length;\n  var i = 0;\n  var P;\n  while (length > i) dP.f(O, P = keys[i++], Properties[P]);\n  return O;\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_object-dps.js\n// module id = 79\n// module chunks = 0 1","// fallback for non-array-like ES3 and non-enumerable old V8 strings\nvar cof = require('./_cof');\n// eslint-disable-next-line no-prototype-builtins\nmodule.exports = Object('z').propertyIsEnumerable(0) ? Object : function (it) {\n  return cof(it) == 'String' ? it.split('') : Object(it);\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_iobject.js\n// module id = 80\n// module chunks = 0 1","// false -> Array#indexOf\n// true  -> Array#includes\nvar toIObject = require('./_to-iobject');\nvar toLength = require('./_to-length');\nvar toAbsoluteIndex = require('./_to-absolute-index');\nmodule.exports = function (IS_INCLUDES) {\n  return function ($this, el, fromIndex) {\n    var O = toIObject($this);\n    var length = toLength(O.length);\n    var index = toAbsoluteIndex(fromIndex, length);\n    var value;\n    // Array#includes uses SameValueZero equality algorithm\n    // eslint-disable-next-line no-self-compare\n    if (IS_INCLUDES && el != el) while (length > index) {\n      value = O[index++];\n      // eslint-disable-next-line no-self-compare\n      if (value != value) return true;\n    // Array#indexOf ignores holes, Array#includes - not\n    } else for (;length > index; index++) if (IS_INCLUDES || index in O) {\n      if (O[index] === el) return IS_INCLUDES || index || 0;\n    } return !IS_INCLUDES && -1;\n  };\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_array-includes.js\n// module id = 81\n// module chunks = 0 1","var toInteger = require('./_to-integer');\nvar max = Math.max;\nvar min = Math.min;\nmodule.exports = function (index, length) {\n  index = toInteger(index);\n  return index < 0 ? max(index + length, 0) : min(index, length);\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_to-absolute-index.js\n// module id = 82\n// module chunks = 0 1","'use strict';\nvar addToUnscopables = require('./_add-to-unscopables');\nvar step = require('./_iter-step');\nvar Iterators = require('./_iterators');\nvar toIObject = require('./_to-iobject');\n\n// 22.1.3.4 Array.prototype.entries()\n// 22.1.3.13 Array.prototype.keys()\n// 22.1.3.29 Array.prototype.values()\n// 22.1.3.30 Array.prototype[@@iterator]()\nmodule.exports = require('./_iter-define')(Array, 'Array', function (iterated, kind) {\n  this._t = toIObject(iterated); // target\n  this._i = 0;                   // next index\n  this._k = kind;                // kind\n// 22.1.5.2.1 %ArrayIteratorPrototype%.next()\n}, function () {\n  var O = this._t;\n  var kind = this._k;\n  var index = this._i++;\n  if (!O || index >= O.length) {\n    this._t = undefined;\n    return step(1);\n  }\n  if (kind == 'keys') return step(0, index);\n  if (kind == 'values') return step(0, O[index]);\n  return step(0, [index, O[index]]);\n}, 'values');\n\n// argumentsList[@@iterator] is %ArrayProto_values% (9.4.4.6, 9.4.4.7)\nIterators.Arguments = Iterators.Array;\n\naddToUnscopables('keys');\naddToUnscopables('values');\naddToUnscopables('entries');\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/es6.array.iterator.js\n// module id = 83\n// module chunks = 0 1","module.exports = function () { /* empty */ };\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_add-to-unscopables.js\n// module id = 84\n// module chunks = 0 1","module.exports = function (done, value) {\n  return { value: value, done: !!done };\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_iter-step.js\n// module id = 85\n// module chunks = 0 1","'use strict';\nvar LIBRARY = require('./_library');\nvar global = require('./_global');\nvar ctx = require('./_ctx');\nvar classof = require('./_classof');\nvar $export = require('./_export');\nvar isObject = require('./_is-object');\nvar aFunction = require('./_a-function');\nvar anInstance = require('./_an-instance');\nvar forOf = require('./_for-of');\nvar speciesConstructor = require('./_species-constructor');\nvar task = require('./_task').set;\nvar microtask = require('./_microtask')();\nvar newPromiseCapabilityModule = require('./_new-promise-capability');\nvar perform = require('./_perform');\nvar userAgent = require('./_user-agent');\nvar promiseResolve = require('./_promise-resolve');\nvar PROMISE = 'Promise';\nvar TypeError = global.TypeError;\nvar process = global.process;\nvar versions = process && process.versions;\nvar v8 = versions && versions.v8 || '';\nvar $Promise = global[PROMISE];\nvar isNode = classof(process) == 'process';\nvar empty = function () { /* empty */ };\nvar Internal, newGenericPromiseCapability, OwnPromiseCapability, Wrapper;\nvar newPromiseCapability = newGenericPromiseCapability = newPromiseCapabilityModule.f;\n\nvar USE_NATIVE = !!function () {\n  try {\n    // correct subclassing with @@species support\n    var promise = $Promise.resolve(1);\n    var FakePromise = (promise.constructor = {})[require('./_wks')('species')] = function (exec) {\n      exec(empty, empty);\n    };\n    // unhandled rejections tracking support, NodeJS Promise without it fails @@species test\n    return (isNode || typeof PromiseRejectionEvent == 'function')\n      && promise.then(empty) instanceof FakePromise\n      // v8 6.6 (Node 10 and Chrome 66) have a bug with resolving custom thenables\n      // https://bugs.chromium.org/p/chromium/issues/detail?id=830565\n      // we can't detect it synchronously, so just check versions\n      && v8.indexOf('6.6') !== 0\n      && userAgent.indexOf('Chrome/66') === -1;\n  } catch (e) { /* empty */ }\n}();\n\n// helpers\nvar isThenable = function (it) {\n  var then;\n  return isObject(it) && typeof (then = it.then) == 'function' ? then : false;\n};\nvar notify = function (promise, isReject) {\n  if (promise._n) return;\n  promise._n = true;\n  var chain = promise._c;\n  microtask(function () {\n    var value = promise._v;\n    var ok = promise._s == 1;\n    var i = 0;\n    var run = function (reaction) {\n      var handler = ok ? reaction.ok : reaction.fail;\n      var resolve = reaction.resolve;\n      var reject = reaction.reject;\n      var domain = reaction.domain;\n      var result, then, exited;\n      try {\n        if (handler) {\n          if (!ok) {\n            if (promise._h == 2) onHandleUnhandled(promise);\n            promise._h = 1;\n          }\n          if (handler === true) result = value;\n          else {\n            if (domain) domain.enter();\n            result = handler(value); // may throw\n            if (domain) {\n              domain.exit();\n              exited = true;\n            }\n          }\n          if (result === reaction.promise) {\n            reject(TypeError('Promise-chain cycle'));\n          } else if (then = isThenable(result)) {\n            then.call(result, resolve, reject);\n          } else resolve(result);\n        } else reject(value);\n      } catch (e) {\n        if (domain && !exited) domain.exit();\n        reject(e);\n      }\n    };\n    while (chain.length > i) run(chain[i++]); // variable length - can't use forEach\n    promise._c = [];\n    promise._n = false;\n    if (isReject && !promise._h) onUnhandled(promise);\n  });\n};\nvar onUnhandled = function (promise) {\n  task.call(global, function () {\n    var value = promise._v;\n    var unhandled = isUnhandled(promise);\n    var result, handler, console;\n    if (unhandled) {\n      result = perform(function () {\n        if (isNode) {\n          process.emit('unhandledRejection', value, promise);\n        } else if (handler = global.onunhandledrejection) {\n          handler({ promise: promise, reason: value });\n        } else if ((console = global.console) && console.error) {\n          console.error('Unhandled promise rejection', value);\n        }\n      });\n      // Browsers should not trigger `rejectionHandled` event if it was handled here, NodeJS - should\n      promise._h = isNode || isUnhandled(promise) ? 2 : 1;\n    } promise._a = undefined;\n    if (unhandled && result.e) throw result.v;\n  });\n};\nvar isUnhandled = function (promise) {\n  return promise._h !== 1 && (promise._a || promise._c).length === 0;\n};\nvar onHandleUnhandled = function (promise) {\n  task.call(global, function () {\n    var handler;\n    if (isNode) {\n      process.emit('rejectionHandled', promise);\n    } else if (handler = global.onrejectionhandled) {\n      handler({ promise: promise, reason: promise._v });\n    }\n  });\n};\nvar $reject = function (value) {\n  var promise = this;\n  if (promise._d) return;\n  promise._d = true;\n  promise = promise._w || promise; // unwrap\n  promise._v = value;\n  promise._s = 2;\n  if (!promise._a) promise._a = promise._c.slice();\n  notify(promise, true);\n};\nvar $resolve = function (value) {\n  var promise = this;\n  var then;\n  if (promise._d) return;\n  promise._d = true;\n  promise = promise._w || promise; // unwrap\n  try {\n    if (promise === value) throw TypeError(\"Promise can't be resolved itself\");\n    if (then = isThenable(value)) {\n      microtask(function () {\n        var wrapper = { _w: promise, _d: false }; // wrap\n        try {\n          then.call(value, ctx($resolve, wrapper, 1), ctx($reject, wrapper, 1));\n        } catch (e) {\n          $reject.call(wrapper, e);\n        }\n      });\n    } else {\n      promise._v = value;\n      promise._s = 1;\n      notify(promise, false);\n    }\n  } catch (e) {\n    $reject.call({ _w: promise, _d: false }, e); // wrap\n  }\n};\n\n// constructor polyfill\nif (!USE_NATIVE) {\n  // 25.4.3.1 Promise(executor)\n  $Promise = function Promise(executor) {\n    anInstance(this, $Promise, PROMISE, '_h');\n    aFunction(executor);\n    Internal.call(this);\n    try {\n      executor(ctx($resolve, this, 1), ctx($reject, this, 1));\n    } catch (err) {\n      $reject.call(this, err);\n    }\n  };\n  // eslint-disable-next-line no-unused-vars\n  Internal = function Promise(executor) {\n    this._c = [];             // <- awaiting reactions\n    this._a = undefined;      // <- checked in isUnhandled reactions\n    this._s = 0;              // <- state\n    this._d = false;          // <- done\n    this._v = undefined;      // <- value\n    this._h = 0;              // <- rejection state, 0 - default, 1 - handled, 2 - unhandled\n    this._n = false;          // <- notify\n  };\n  Internal.prototype = require('./_redefine-all')($Promise.prototype, {\n    // 25.4.5.3 Promise.prototype.then(onFulfilled, onRejected)\n    then: function then(onFulfilled, onRejected) {\n      var reaction = newPromiseCapability(speciesConstructor(this, $Promise));\n      reaction.ok = typeof onFulfilled == 'function' ? onFulfilled : true;\n      reaction.fail = typeof onRejected == 'function' && onRejected;\n      reaction.domain = isNode ? process.domain : undefined;\n      this._c.push(reaction);\n      if (this._a) this._a.push(reaction);\n      if (this._s) notify(this, false);\n      return reaction.promise;\n    },\n    // 25.4.5.1 Promise.prototype.catch(onRejected)\n    'catch': function (onRejected) {\n      return this.then(undefined, onRejected);\n    }\n  });\n  OwnPromiseCapability = function () {\n    var promise = new Internal();\n    this.promise = promise;\n    this.resolve = ctx($resolve, promise, 1);\n    this.reject = ctx($reject, promise, 1);\n  };\n  newPromiseCapabilityModule.f = newPromiseCapability = function (C) {\n    return C === $Promise || C === Wrapper\n      ? new OwnPromiseCapability(C)\n      : newGenericPromiseCapability(C);\n  };\n}\n\n$export($export.G + $export.W + $export.F * !USE_NATIVE, { Promise: $Promise });\nrequire('./_set-to-string-tag')($Promise, PROMISE);\nrequire('./_set-species')(PROMISE);\nWrapper = require('./_core')[PROMISE];\n\n// statics\n$export($export.S + $export.F * !USE_NATIVE, PROMISE, {\n  // 25.4.4.5 Promise.reject(r)\n  reject: function reject(r) {\n    var capability = newPromiseCapability(this);\n    var $$reject = capability.reject;\n    $$reject(r);\n    return capability.promise;\n  }\n});\n$export($export.S + $export.F * (LIBRARY || !USE_NATIVE), PROMISE, {\n  // 25.4.4.6 Promise.resolve(x)\n  resolve: function resolve(x) {\n    return promiseResolve(LIBRARY && this === Wrapper ? $Promise : this, x);\n  }\n});\n$export($export.S + $export.F * !(USE_NATIVE && require('./_iter-detect')(function (iter) {\n  $Promise.all(iter)['catch'](empty);\n})), PROMISE, {\n  // 25.4.4.1 Promise.all(iterable)\n  all: function all(iterable) {\n    var C = this;\n    var capability = newPromiseCapability(C);\n    var resolve = capability.resolve;\n    var reject = capability.reject;\n    var result = perform(function () {\n      var values = [];\n      var index = 0;\n      var remaining = 1;\n      forOf(iterable, false, function (promise) {\n        var $index = index++;\n        var alreadyCalled = false;\n        values.push(undefined);\n        remaining++;\n        C.resolve(promise).then(function (value) {\n          if (alreadyCalled) return;\n          alreadyCalled = true;\n          values[$index] = value;\n          --remaining || resolve(values);\n        }, reject);\n      });\n      --remaining || resolve(values);\n    });\n    if (result.e) reject(result.v);\n    return capability.promise;\n  },\n  // 25.4.4.4 Promise.race(iterable)\n  race: function race(iterable) {\n    var C = this;\n    var capability = newPromiseCapability(C);\n    var reject = capability.reject;\n    var result = perform(function () {\n      forOf(iterable, false, function (promise) {\n        C.resolve(promise).then(capability.resolve, reject);\n      });\n    });\n    if (result.e) reject(result.v);\n    return capability.promise;\n  }\n});\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/es6.promise.js\n// module id = 86\n// module chunks = 0 1","module.exports = function (it, Constructor, name, forbiddenField) {\n  if (!(it instanceof Constructor) || (forbiddenField !== undefined && forbiddenField in it)) {\n    throw TypeError(name + ': incorrect invocation!');\n  } return it;\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_an-instance.js\n// module id = 87\n// module chunks = 0 1","var ctx = require('./_ctx');\nvar call = require('./_iter-call');\nvar isArrayIter = require('./_is-array-iter');\nvar anObject = require('./_an-object');\nvar toLength = require('./_to-length');\nvar getIterFn = require('./core.get-iterator-method');\nvar BREAK = {};\nvar RETURN = {};\nvar exports = module.exports = function (iterable, entries, fn, that, ITERATOR) {\n  var iterFn = ITERATOR ? function () { return iterable; } : getIterFn(iterable);\n  var f = ctx(fn, that, entries ? 2 : 1);\n  var index = 0;\n  var length, step, iterator, result;\n  if (typeof iterFn != 'function') throw TypeError(iterable + ' is not iterable!');\n  // fast case for arrays with default iterator\n  if (isArrayIter(iterFn)) for (length = toLength(iterable.length); length > index; index++) {\n    result = entries ? f(anObject(step = iterable[index])[0], step[1]) : f(iterable[index]);\n    if (result === BREAK || result === RETURN) return result;\n  } else for (iterator = iterFn.call(iterable); !(step = iterator.next()).done;) {\n    result = call(iterator, f, step.value, entries);\n    if (result === BREAK || result === RETURN) return result;\n  }\n};\nexports.BREAK = BREAK;\nexports.RETURN = RETURN;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_for-of.js\n// module id = 88\n// module chunks = 0 1","// call something on iterator step with safe closing on error\nvar anObject = require('./_an-object');\nmodule.exports = function (iterator, fn, value, entries) {\n  try {\n    return entries ? fn(anObject(value)[0], value[1]) : fn(value);\n  // 7.4.6 IteratorClose(iterator, completion)\n  } catch (e) {\n    var ret = iterator['return'];\n    if (ret !== undefined) anObject(ret.call(iterator));\n    throw e;\n  }\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_iter-call.js\n// module id = 89\n// module chunks = 0 1","// check on default Array iterator\nvar Iterators = require('./_iterators');\nvar ITERATOR = require('./_wks')('iterator');\nvar ArrayProto = Array.prototype;\n\nmodule.exports = function (it) {\n  return it !== undefined && (Iterators.Array === it || ArrayProto[ITERATOR] === it);\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_is-array-iter.js\n// module id = 90\n// module chunks = 0 1","// fast apply, http://jsperf.lnkit.com/fast-apply/5\nmodule.exports = function (fn, args, that) {\n  var un = that === undefined;\n  switch (args.length) {\n    case 0: return un ? fn()\n                      : fn.call(that);\n    case 1: return un ? fn(args[0])\n                      : fn.call(that, args[0]);\n    case 2: return un ? fn(args[0], args[1])\n                      : fn.call(that, args[0], args[1]);\n    case 3: return un ? fn(args[0], args[1], args[2])\n                      : fn.call(that, args[0], args[1], args[2]);\n    case 4: return un ? fn(args[0], args[1], args[2], args[3])\n                      : fn.call(that, args[0], args[1], args[2], args[3]);\n  } return fn.apply(that, args);\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_invoke.js\n// module id = 91\n// module chunks = 0 1","var global = require('./_global');\nvar macrotask = require('./_task').set;\nvar Observer = global.MutationObserver || global.WebKitMutationObserver;\nvar process = global.process;\nvar Promise = global.Promise;\nvar isNode = require('./_cof')(process) == 'process';\n\nmodule.exports = function () {\n  var head, last, notify;\n\n  var flush = function () {\n    var parent, fn;\n    if (isNode && (parent = process.domain)) parent.exit();\n    while (head) {\n      fn = head.fn;\n      head = head.next;\n      try {\n        fn();\n      } catch (e) {\n        if (head) notify();\n        else last = undefined;\n        throw e;\n      }\n    } last = undefined;\n    if (parent) parent.enter();\n  };\n\n  // Node.js\n  if (isNode) {\n    notify = function () {\n      process.nextTick(flush);\n    };\n  // browsers with MutationObserver, except iOS Safari - https://github.com/zloirock/core-js/issues/339\n  } else if (Observer && !(global.navigator && global.navigator.standalone)) {\n    var toggle = true;\n    var node = document.createTextNode('');\n    new Observer(flush).observe(node, { characterData: true }); // eslint-disable-line no-new\n    notify = function () {\n      node.data = toggle = !toggle;\n    };\n  // environments with maybe non-completely correct, but existent Promise\n  } else if (Promise && Promise.resolve) {\n    // Promise.resolve without an argument throws an error in LG WebOS 2\n    var promise = Promise.resolve(undefined);\n    notify = function () {\n      promise.then(flush);\n    };\n  // for other environments - macrotask based on:\n  // - setImmediate\n  // - MessageChannel\n  // - window.postMessag\n  // - onreadystatechange\n  // - setTimeout\n  } else {\n    notify = function () {\n      // strange IE + webpack dev server bug - use .call(global)\n      macrotask.call(global, flush);\n    };\n  }\n\n  return function (fn) {\n    var task = { fn: fn, next: undefined };\n    if (last) last.next = task;\n    if (!head) {\n      head = task;\n      notify();\n    } last = task;\n  };\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_microtask.js\n// module id = 92\n// module chunks = 0 1","var global = require('./_global');\nvar navigator = global.navigator;\n\nmodule.exports = navigator && navigator.userAgent || '';\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_user-agent.js\n// module id = 93\n// module chunks = 0 1","var hide = require('./_hide');\nmodule.exports = function (target, src, safe) {\n  for (var key in src) {\n    if (safe && target[key]) target[key] = src[key];\n    else hide(target, key, src[key]);\n  } return target;\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_redefine-all.js\n// module id = 94\n// module chunks = 0 1","'use strict';\nvar global = require('./_global');\nvar core = require('./_core');\nvar dP = require('./_object-dp');\nvar DESCRIPTORS = require('./_descriptors');\nvar SPECIES = require('./_wks')('species');\n\nmodule.exports = function (KEY) {\n  var C = typeof core[KEY] == 'function' ? core[KEY] : global[KEY];\n  if (DESCRIPTORS && C && !C[SPECIES]) dP.f(C, SPECIES, {\n    configurable: true,\n    get: function () { return this; }\n  });\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_set-species.js\n// module id = 95\n// module chunks = 0 1","var ITERATOR = require('./_wks')('iterator');\nvar SAFE_CLOSING = false;\n\ntry {\n  var riter = [7][ITERATOR]();\n  riter['return'] = function () { SAFE_CLOSING = true; };\n  // eslint-disable-next-line no-throw-literal\n  Array.from(riter, function () { throw 2; });\n} catch (e) { /* empty */ }\n\nmodule.exports = function (exec, skipClosing) {\n  if (!skipClosing && !SAFE_CLOSING) return false;\n  var safe = false;\n  try {\n    var arr = [7];\n    var iter = arr[ITERATOR]();\n    iter.next = function () { return { done: safe = true }; };\n    arr[ITERATOR] = function () { return iter; };\n    exec(arr);\n  } catch (e) { /* empty */ }\n  return safe;\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_iter-detect.js\n// module id = 96\n// module chunks = 0 1","// https://github.com/tc39/proposal-promise-finally\n'use strict';\nvar $export = require('./_export');\nvar core = require('./_core');\nvar global = require('./_global');\nvar speciesConstructor = require('./_species-constructor');\nvar promiseResolve = require('./_promise-resolve');\n\n$export($export.P + $export.R, 'Promise', { 'finally': function (onFinally) {\n  var C = speciesConstructor(this, core.Promise || global.Promise);\n  var isFunction = typeof onFinally == 'function';\n  return this.then(\n    isFunction ? function (x) {\n      return promiseResolve(C, onFinally()).then(function () { return x; });\n    } : onFinally,\n    isFunction ? function (e) {\n      return promiseResolve(C, onFinally()).then(function () { throw e; });\n    } : onFinally\n  );\n} });\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/es7.promise.finally.js\n// module id = 97\n// module chunks = 0 1","'use strict';\n// https://github.com/tc39/proposal-promise-try\nvar $export = require('./_export');\nvar newPromiseCapability = require('./_new-promise-capability');\nvar perform = require('./_perform');\n\n$export($export.S, 'Promise', { 'try': function (callbackfn) {\n  var promiseCapability = newPromiseCapability.f(this);\n  var result = perform(callbackfn);\n  (result.e ? promiseCapability.reject : promiseCapability.resolve)(result.v);\n  return promiseCapability.promise;\n} });\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/es7.promise.try.js\n// module id = 98\n// module chunks = 0 1","module.exports = function(module) {\r\n\tif(!module.webpackPolyfill) {\r\n\t\tmodule.deprecate = function() {};\r\n\t\tmodule.paths = [];\r\n\t\t// module.parent = undefined by default\r\n\t\tif(!module.children) module.children = [];\r\n\t\tObject.defineProperty(module, \"loaded\", {\r\n\t\t\tenumerable: true,\r\n\t\t\tget: function() {\r\n\t\t\t\treturn module.l;\r\n\t\t\t}\r\n\t\t});\r\n\t\tObject.defineProperty(module, \"id\", {\r\n\t\t\tenumerable: true,\r\n\t\t\tget: function() {\r\n\t\t\t\treturn module.i;\r\n\t\t\t}\r\n\t\t});\r\n\t\tmodule.webpackPolyfill = 1;\r\n\t}\r\n\treturn module;\r\n};\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// (webpack)/buildin/module.js\n// module id = 99\n// module chunks = 0 1","var core = require('../../modules/_core');\nvar $JSON = core.JSON || (core.JSON = { stringify: JSON.stringify });\nmodule.exports = function stringify(it) { // eslint-disable-line no-unused-vars\n  return $JSON.stringify.apply($JSON, arguments);\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/fn/json/stringify.js\n// module id = 100\n// module chunks = 0 1","require('../../modules/es6.object.keys');\nmodule.exports = require('../../modules/_core').Object.keys;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/fn/object/keys.js\n// module id = 101\n// module chunks = 0 1","// 19.1.2.14 Object.keys(O)\nvar toObject = require('./_to-object');\nvar $keys = require('./_object-keys');\n\nrequire('./_object-sap')('keys', function () {\n  return function keys(it) {\n    return $keys(toObject(it));\n  };\n});\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/es6.object.keys.js\n// module id = 102\n// module chunks = 0 1","// Unique ID creation requires a high quality random # generator.  In the\n// browser this is a little complicated due to unknown quality of Math.random()\n// and inconsistent support for the `crypto` API.  We do the best we can via\n// feature-detection\n\n// getRandomValues needs to be invoked in a context where \"this\" is a Crypto\n// implementation. Also, find the complete implementation of crypto on IE11.\nvar getRandomValues = (typeof(crypto) != 'undefined' && crypto.getRandomValues && crypto.getRandomValues.bind(crypto)) ||\n                      (typeof(msCrypto) != 'undefined' && typeof window.msCrypto.getRandomValues == 'function' && msCrypto.getRandomValues.bind(msCrypto));\n\nif (getRandomValues) {\n  // WHATWG crypto RNG - http://wiki.whatwg.org/wiki/Crypto\n  var rnds8 = new Uint8Array(16); // eslint-disable-line no-undef\n\n  module.exports = function whatwgRNG() {\n    getRandomValues(rnds8);\n    return rnds8;\n  };\n} else {\n  // Math.random()-based (RNG)\n  //\n  // If all else fails, use Math.random().  It's fast, but is of unspecified\n  // quality.\n  var rnds = new Array(16);\n\n  module.exports = function mathRNG() {\n    for (var i = 0, r; i < 16; i++) {\n      if ((i & 0x03) === 0) r = Math.random() * 0x100000000;\n      rnds[i] = r >>> ((i & 0x03) << 3) & 0xff;\n    }\n\n    return rnds;\n  };\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/uuid/lib/rng-browser.js\n// module id = 103\n// module chunks = 0 1","/**\n * Convert array of 16 byte values to UUID string format of the form:\n * XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX\n */\nvar byteToHex = [];\nfor (var i = 0; i < 256; ++i) {\n  byteToHex[i] = (i + 0x100).toString(16).substr(1);\n}\n\nfunction bytesToUuid(buf, offset) {\n  var i = offset || 0;\n  var bth = byteToHex;\n  // join used to fix memory issue caused by concatenation: https://bugs.chromium.org/p/v8/issues/detail?id=3175#c4\n  return ([bth[buf[i++]], bth[buf[i++]], \n\tbth[buf[i++]], bth[buf[i++]], '-',\n\tbth[buf[i++]], bth[buf[i++]], '-',\n\tbth[buf[i++]], bth[buf[i++]], '-',\n\tbth[buf[i++]], bth[buf[i++]], '-',\n\tbth[buf[i++]], bth[buf[i++]],\n\tbth[buf[i++]], bth[buf[i++]],\n\tbth[buf[i++]], bth[buf[i++]]]).join('');\n}\n\nmodule.exports = bytesToUuid;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/uuid/lib/bytesToUuid.js\n// module id = 104\n// module chunks = 0 1","\"use strict\";\n\n/**\n * This is the common logic for both the Node.js and web browser\n * implementations of `debug()`.\n */\nfunction setup(env) {\n  createDebug.debug = createDebug;\n  createDebug.default = createDebug;\n  createDebug.coerce = coerce;\n  createDebug.disable = disable;\n  createDebug.enable = enable;\n  createDebug.enabled = enabled;\n  createDebug.humanize = require('ms');\n  Object.keys(env).forEach(function (key) {\n    createDebug[key] = env[key];\n  });\n  /**\n  * Active `debug` instances.\n  */\n\n  createDebug.instances = [];\n  /**\n  * The currently active debug mode names, and names to skip.\n  */\n\n  createDebug.names = [];\n  createDebug.skips = [];\n  /**\n  * Map of special \"%n\" handling functions, for the debug \"format\" argument.\n  *\n  * Valid key names are a single, lower or upper-case letter, i.e. \"n\" and \"N\".\n  */\n\n  createDebug.formatters = {};\n  /**\n  * Selects a color for a debug namespace\n  * @param {String} namespace The namespace string for the for the debug instance to be colored\n  * @return {Number|String} An ANSI color code for the given namespace\n  * @api private\n  */\n\n  function selectColor(namespace) {\n    var hash = 0;\n\n    for (var i = 0; i < namespace.length; i++) {\n      hash = (hash << 5) - hash + namespace.charCodeAt(i);\n      hash |= 0; // Convert to 32bit integer\n    }\n\n    return createDebug.colors[Math.abs(hash) % createDebug.colors.length];\n  }\n\n  createDebug.selectColor = selectColor;\n  /**\n  * Create a debugger with the given `namespace`.\n  *\n  * @param {String} namespace\n  * @return {Function}\n  * @api public\n  */\n\n  function createDebug(namespace) {\n    var prevTime;\n\n    function debug() {\n      // Disabled?\n      if (!debug.enabled) {\n        return;\n      }\n\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n\n      var self = debug; // Set `diff` timestamp\n\n      var curr = Number(new Date());\n      var ms = curr - (prevTime || curr);\n      self.diff = ms;\n      self.prev = prevTime;\n      self.curr = curr;\n      prevTime = curr;\n      args[0] = createDebug.coerce(args[0]);\n\n      if (typeof args[0] !== 'string') {\n        // Anything else let's inspect with %O\n        args.unshift('%O');\n      } // Apply any `formatters` transformations\n\n\n      var index = 0;\n      args[0] = args[0].replace(/%([a-zA-Z%])/g, function (match, format) {\n        // If we encounter an escaped % then don't increase the array index\n        if (match === '%%') {\n          return match;\n        }\n\n        index++;\n        var formatter = createDebug.formatters[format];\n\n        if (typeof formatter === 'function') {\n          var val = args[index];\n          match = formatter.call(self, val); // Now we need to remove `args[index]` since it's inlined in the `format`\n\n          args.splice(index, 1);\n          index--;\n        }\n\n        return match;\n      }); // Apply env-specific formatting (colors, etc.)\n\n      createDebug.formatArgs.call(self, args);\n      var logFn = self.log || createDebug.log;\n      logFn.apply(self, args);\n    }\n\n    debug.namespace = namespace;\n    debug.enabled = createDebug.enabled(namespace);\n    debug.useColors = createDebug.useColors();\n    debug.color = selectColor(namespace);\n    debug.destroy = destroy;\n    debug.extend = extend; // Debug.formatArgs = formatArgs;\n    // debug.rawLog = rawLog;\n    // env-specific initialization logic for debug instances\n\n    if (typeof createDebug.init === 'function') {\n      createDebug.init(debug);\n    }\n\n    createDebug.instances.push(debug);\n    return debug;\n  }\n\n  function destroy() {\n    var index = createDebug.instances.indexOf(this);\n\n    if (index !== -1) {\n      createDebug.instances.splice(index, 1);\n      return true;\n    }\n\n    return false;\n  }\n\n  function extend(namespace, delimiter) {\n    return createDebug(this.namespace + (typeof delimiter === 'undefined' ? ':' : delimiter) + namespace);\n  }\n  /**\n  * Enables a debug mode by namespaces. This can include modes\n  * separated by a colon and wildcards.\n  *\n  * @param {String} namespaces\n  * @api public\n  */\n\n\n  function enable(namespaces) {\n    createDebug.save(namespaces);\n    createDebug.names = [];\n    createDebug.skips = [];\n    var i;\n    var split = (typeof namespaces === 'string' ? namespaces : '').split(/[\\s,]+/);\n    var len = split.length;\n\n    for (i = 0; i < len; i++) {\n      if (!split[i]) {\n        // ignore empty strings\n        continue;\n      }\n\n      namespaces = split[i].replace(/\\*/g, '.*?');\n\n      if (namespaces[0] === '-') {\n        createDebug.skips.push(new RegExp('^' + namespaces.substr(1) + '$'));\n      } else {\n        createDebug.names.push(new RegExp('^' + namespaces + '$'));\n      }\n    }\n\n    for (i = 0; i < createDebug.instances.length; i++) {\n      var instance = createDebug.instances[i];\n      instance.enabled = createDebug.enabled(instance.namespace);\n    }\n  }\n  /**\n  * Disable debug output.\n  *\n  * @api public\n  */\n\n\n  function disable() {\n    createDebug.enable('');\n  }\n  /**\n  * Returns true if the given mode name is enabled, false otherwise.\n  *\n  * @param {String} name\n  * @return {Boolean}\n  * @api public\n  */\n\n\n  function enabled(name) {\n    if (name[name.length - 1] === '*') {\n      return true;\n    }\n\n    var i;\n    var len;\n\n    for (i = 0, len = createDebug.skips.length; i < len; i++) {\n      if (createDebug.skips[i].test(name)) {\n        return false;\n      }\n    }\n\n    for (i = 0, len = createDebug.names.length; i < len; i++) {\n      if (createDebug.names[i].test(name)) {\n        return true;\n      }\n    }\n\n    return false;\n  }\n  /**\n  * Coerce `val`.\n  *\n  * @param {Mixed} val\n  * @return {Mixed}\n  * @api private\n  */\n\n\n  function coerce(val) {\n    if (val instanceof Error) {\n      return val.stack || val.message;\n    }\n\n    return val;\n  }\n\n  createDebug.enable(createDebug.load());\n  return createDebug;\n}\n\nmodule.exports = setup;\n\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/debug/src/common.js\n// module id = 105\n// module chunks = 0 1","/**\n * Helpers.\n */\n\nvar s = 1000;\nvar m = s * 60;\nvar h = m * 60;\nvar d = h * 24;\nvar w = d * 7;\nvar y = d * 365.25;\n\n/**\n * Parse or format the given `val`.\n *\n * Options:\n *\n *  - `long` verbose formatting [false]\n *\n * @param {String|Number} val\n * @param {Object} [options]\n * @throws {Error} throw an error if val is not a non-empty string or a number\n * @return {String|Number}\n * @api public\n */\n\nmodule.exports = function(val, options) {\n  options = options || {};\n  var type = typeof val;\n  if (type === 'string' && val.length > 0) {\n    return parse(val);\n  } else if (type === 'number' && isFinite(val)) {\n    return options.long ? fmtLong(val) : fmtShort(val);\n  }\n  throw new Error(\n    'val is not a non-empty string or a valid number. val=' +\n      JSON.stringify(val)\n  );\n};\n\n/**\n * Parse the given `str` and return milliseconds.\n *\n * @param {String} str\n * @return {Number}\n * @api private\n */\n\nfunction parse(str) {\n  str = String(str);\n  if (str.length > 100) {\n    return;\n  }\n  var match = /^(-?(?:\\d+)?\\.?\\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(\n    str\n  );\n  if (!match) {\n    return;\n  }\n  var n = parseFloat(match[1]);\n  var type = (match[2] || 'ms').toLowerCase();\n  switch (type) {\n    case 'years':\n    case 'year':\n    case 'yrs':\n    case 'yr':\n    case 'y':\n      return n * y;\n    case 'weeks':\n    case 'week':\n    case 'w':\n      return n * w;\n    case 'days':\n    case 'day':\n    case 'd':\n      return n * d;\n    case 'hours':\n    case 'hour':\n    case 'hrs':\n    case 'hr':\n    case 'h':\n      return n * h;\n    case 'minutes':\n    case 'minute':\n    case 'mins':\n    case 'min':\n    case 'm':\n      return n * m;\n    case 'seconds':\n    case 'second':\n    case 'secs':\n    case 'sec':\n    case 's':\n      return n * s;\n    case 'milliseconds':\n    case 'millisecond':\n    case 'msecs':\n    case 'msec':\n    case 'ms':\n      return n;\n    default:\n      return undefined;\n  }\n}\n\n/**\n * Short format for `ms`.\n *\n * @param {Number} ms\n * @return {String}\n * @api private\n */\n\nfunction fmtShort(ms) {\n  var msAbs = Math.abs(ms);\n  if (msAbs >= d) {\n    return Math.round(ms / d) + 'd';\n  }\n  if (msAbs >= h) {\n    return Math.round(ms / h) + 'h';\n  }\n  if (msAbs >= m) {\n    return Math.round(ms / m) + 'm';\n  }\n  if (msAbs >= s) {\n    return Math.round(ms / s) + 's';\n  }\n  return ms + 'ms';\n}\n\n/**\n * Long format for `ms`.\n *\n * @param {Number} ms\n * @return {String}\n * @api private\n */\n\nfunction fmtLong(ms) {\n  var msAbs = Math.abs(ms);\n  if (msAbs >= d) {\n    return plural(ms, msAbs, d, 'day');\n  }\n  if (msAbs >= h) {\n    return plural(ms, msAbs, h, 'hour');\n  }\n  if (msAbs >= m) {\n    return plural(ms, msAbs, m, 'minute');\n  }\n  if (msAbs >= s) {\n    return plural(ms, msAbs, s, 'second');\n  }\n  return ms + ' ms';\n}\n\n/**\n * Pluralization helper.\n */\n\nfunction plural(ms, msAbs, n, name) {\n  var isPlural = msAbs >= n * 1.5;\n  return Math.round(ms / n) + ' ' + name + (isPlural ? 's' : '');\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/ms/index.js\n// module id = 106\n// module chunks = 0 1","module.exports = { \"default\": require(\"core-js/library/fn/object/get-prototype-of\"), __esModule: true };\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/babel-runtime/core-js/object/get-prototype-of.js\n// module id = 107\n// module chunks = 0 1","require('../../modules/es6.object.get-prototype-of');\nmodule.exports = require('../../modules/_core').Object.getPrototypeOf;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/fn/object/get-prototype-of.js\n// module id = 108\n// module chunks = 0 1","// 19.1.2.9 Object.getPrototypeOf(O)\nvar toObject = require('./_to-object');\nvar $getPrototypeOf = require('./_object-gpo');\n\nrequire('./_object-sap')('getPrototypeOf', function () {\n  return function getPrototypeOf(it) {\n    return $getPrototypeOf(toObject(it));\n  };\n});\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/es6.object.get-prototype-of.js\n// module id = 109\n// module chunks = 0 1","const AV = require('./av');\nconst AppRouter = require('./app-router');\nconst { isNullOrUndefined } = require('./utils');\nconst { extend, isObject, isEmpty } = require('underscore');\n\nconst isCNApp = appId => appId.slice(-9) !== '-MdYXbMMI';\n\nconst fillServerURLs = url => ({\n  push: url,\n  stats: url,\n  engine: url,\n  api: url,\n  rtm: url,\n});\n\nfunction getDefaultServerURLs(appId) {\n  if (isCNApp(appId)) {\n    return {};\n  }\n  const id = appId.slice(0, 8).toLowerCase();\n  const domain = 'lncldglobal.com';\n  return {\n    push: `https://${id}.push.${domain}`,\n    stats: `https://${id}.stats.${domain}`,\n    engine: `https://${id}.engine.${domain}`,\n    api: `https://${id}.api.${domain}`,\n    rtm: `https://${id}.rtm.${domain}`,\n  };\n}\n\nlet _disableAppRouter = false;\nlet _initialized = false;\n\n/**\n * URLs for services\n * @typedef {Object} ServerURLs\n * @property {String} [api] serverURL for API service\n * @property {String} [engine] serverURL for engine service\n * @property {String} [stats] serverURL for stats service\n * @property {String} [push] serverURL for push service\n * @property {String} [rtm] serverURL for LiveQuery service\n */\n\n/**\n * Call this method first to set up your authentication tokens for AV.\n * You can get your app keys from the LeanCloud dashboard on http://leancloud.cn .\n * @function AV.init\n * @param {Object} options\n * @param {String} options.appId application id\n * @param {String} options.appKey application key\n * @param {String} [options.masterKey] application master key\n * @param {Boolean} [options.production]\n * @param {String|ServerURLs} [options.serverURL] URLs for services. if a string was given, it will be applied for all services.\n * @param {Boolean} [options.disableCurrentUser]\n */\nAV.init = function init(options, ...params) {\n  if (!isObject(options)) {\n    return AV.init({\n      appId: options,\n      appKey: params[0],\n      masterKey: params[1],\n    });\n  }\n  const {\n    appId,\n    appKey,\n    masterKey,\n    hookKey,\n    serverURL,\n    serverURLs = serverURL,\n    disableCurrentUser,\n    production,\n    realtime,\n  } = options;\n  if (_initialized)\n    console.warn(\n      'Initializing LeanCloud Storage SDK which has already been initialized. Reinitializing the SDK might cause problems like unexpected cross-app data writing and invalid relations.'\n    );\n  if (!appId) throw new TypeError('appId must be a string');\n  if (!appKey) throw new TypeError('appKey must be a string');\n  if (process.env.PLATFORM !== 'NODE_JS' && masterKey)\n    console.warn('MasterKey is not supposed to be used at client side.');\n  if (isCNApp(appId)) {\n    if (!serverURLs && isEmpty(AV._config.serverURLs)) {\n      throw new TypeError(\n        `serverURL option is required for apps from CN region`\n      );\n    }\n  }\n  if (appId !== AV._config.applicationId) {\n    // overwrite all keys when reinitializing as a new app\n    AV._config.masterKey = masterKey;\n    AV._config.hookKey = hookKey;\n  } else {\n    if (masterKey) AV._config.masterKey = masterKey;\n    if (hookKey) AV._config.hookKey = hookKey;\n  }\n  AV._config.applicationId = appId;\n  AV._config.applicationKey = appKey;\n  AV.setProduction(production);\n  if (typeof disableCurrentUser !== 'undefined')\n    AV._config.disableCurrentUser = disableCurrentUser;\n  const disableAppRouter =\n    _disableAppRouter || typeof serverURLs !== 'undefined';\n  if (!disableAppRouter) {\n    AV._appRouter = new AppRouter(AV);\n  }\n  AV._setServerURLs(\n    extend(\n      {},\n      getDefaultServerURLs(appId),\n      AV._config.serverURLs,\n      typeof serverURLs === 'string' ? fillServerURLs(serverURLs) : serverURLs\n    ),\n    disableAppRouter\n  );\n  if (realtime) {\n    AV._config.realtime = realtime;\n  } else if (AV._sharedConfig.liveQueryRealtime) {\n    const { api, rtm } = AV._config.serverURLs;\n    AV._config.realtime = new AV._sharedConfig.liveQueryRealtime({\n      appId,\n      appKey,\n      server: {\n        api,\n        RTMRouter: rtm,\n      },\n    });\n  }\n  _initialized = true;\n};\n\n// If we're running in node.js, allow using the master key.\nif (process.env.PLATFORM === 'NODE_JS') {\n  AV.Cloud = AV.Cloud || {};\n  /**\n   * Switches the LeanCloud SDK to using the Master key.  The Master key grants\n   * priveleged access to the data in LeanCloud and can be used to bypass ACLs and\n   * other restrictions that are applied to the client SDKs.\n   * <p><strong><em>Available in Cloud Code and Node.js only.</em></strong>\n   * </p>\n   */\n  AV.Cloud.useMasterKey = () => {\n    AV._config.useMasterKey = true;\n  };\n}\n\n/**\n * Call this method to set production environment variable.\n * @function AV.setProduction\n * @param {Boolean} production True is production environment,and\n *  it's true by default.\n */\nAV.setProduction = production => {\n  if (!isNullOrUndefined(production)) {\n    AV._config.production = production ? 1 : 0;\n  } else {\n    // change to default value\n    AV._config.production = null;\n  }\n};\n\nAV._setServerURLs = (urls, disableAppRouter = true) => {\n  if (typeof urls !== 'string') {\n    extend(AV._config.serverURLs, urls);\n  } else {\n    AV._config.serverURLs = fillServerURLs(urls);\n  }\n  if (disableAppRouter) {\n    if (AV._appRouter) {\n      AV._appRouter.disable();\n    } else {\n      _disableAppRouter = true;\n    }\n  }\n};\n/**\n * Set server URLs for services.\n * @function AV.setServerURL\n * @since 4.3.0\n * @param {String|ServerURLs} urls URLs for services. if a string was given, it will be applied for all services.\n * You can also set them when initializing SDK with `options.serverURL`\n */\nAV.setServerURL = urls => AV._setServerURLs(urls);\nAV.setServerURLs = AV.setServerURL;\n\nAV.keepErrorRawMessage = value => {\n  AV._sharedConfig.keepErrorRawMessage = value;\n};\n\n/**\n * Set a deadline for requests to complete.\n * Note that file upload requests are not affected.\n * @function AV.setRequestTimeout\n * @since 3.6.0\n * @param {number} ms\n */\nAV.setRequestTimeout = ms => {\n  AV._config.requestTimeout = ms;\n};\n\n// backword compatible\nAV.initialize = AV.init;\n\nconst defineConfig = property =>\n  Object.defineProperty(AV, property, {\n    get() {\n      return AV._config[property];\n    },\n    set(value) {\n      AV._config[property] = value;\n    },\n  });\n\n['applicationId', 'applicationKey', 'masterKey', 'hookKey'].forEach(\n  defineConfig\n);\n\n\n\n// WEBPACK FOOTER //\n// ./src/init.js","require('../../modules/es6.object.define-property');\nvar $Object = require('../../modules/_core').Object;\nmodule.exports = function defineProperty(it, key, desc) {\n  return $Object.defineProperty(it, key, desc);\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/fn/object/define-property.js\n// module id = 111\n// module chunks = 0 1","var $export = require('./_export');\n// 19.1.2.4 / 15.2.3.6 Object.defineProperty(O, P, Attributes)\n$export($export.S + $export.F * !require('./_descriptors'), 'Object', { defineProperty: require('./_object-dp').f });\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/es6.object.define-property.js\n// module id = 112\n// module chunks = 0 1","const ajax = require('./utils/ajax');\nconst Cache = require('./cache');\n\nfunction AppRouter(AV) {\n  this.AV = AV;\n  this.lockedUntil = 0;\n  Cache.getAsync('serverURLs')\n    .then(data => {\n      if (this.disabled) return;\n      if (!data) return this.lock(0);\n      const { serverURLs, lockedUntil } = data;\n      this.AV._setServerURLs(serverURLs, false);\n      this.lockedUntil = lockedUntil;\n    })\n    .catch(() => this.lock(0));\n}\n\nAppRouter.prototype.disable = function disable() {\n  this.disabled = true;\n};\nAppRouter.prototype.lock = function lock(ttl) {\n  this.lockedUntil = Date.now() + ttl;\n};\nAppRouter.prototype.refresh = function refresh() {\n  if (this.disabled) return;\n  if (Date.now() < this.lockedUntil) return;\n  this.lock(10);\n  const url = 'https://app-router.com/2/route';\n  return ajax({\n    method: 'get',\n    url,\n    query: {\n      appId: this.AV.applicationId,\n    },\n  })\n    .then(servers => {\n      if (this.disabled) return;\n      let ttl = servers.ttl;\n      if (!ttl) throw new Error('missing ttl');\n      ttl = ttl * 1000;\n      const protocal = 'https://';\n      const serverURLs = {\n        push: protocal + servers.push_server,\n        stats: protocal + servers.stats_server,\n        engine: protocal + servers.engine_server,\n        api: protocal + servers.api_server,\n      };\n      this.AV._setServerURLs(serverURLs, false);\n      this.lock(ttl);\n      return Cache.setAsync(\n        'serverURLs',\n        {\n          serverURLs,\n          lockedUntil: this.lockedUntil,\n        },\n        ttl\n      );\n    })\n    .catch(error => {\n      // bypass all errors\n      console.warn(`refresh server URLs failed: ${error.message}`);\n      this.lock(600);\n    });\n};\n\nmodule.exports = AppRouter;\n\n\n\n// WEBPACK FOOTER //\n// ./src/app-router.js","module.exports = { \"default\": require(\"core-js/library/fn/symbol/iterator\"), __esModule: true };\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/babel-runtime/core-js/symbol/iterator.js\n// module id = 114\n// module chunks = 0 1","require('../../modules/es6.string.iterator');\nrequire('../../modules/web.dom.iterable');\nmodule.exports = require('../../modules/_wks-ext').f('iterator');\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/fn/symbol/iterator.js\n// module id = 115\n// module chunks = 0 1","module.exports = { \"default\": require(\"core-js/library/fn/symbol\"), __esModule: true };\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/babel-runtime/core-js/symbol.js\n// module id = 116\n// module chunks = 0 1","require('../../modules/es6.symbol');\nrequire('../../modules/es6.object.to-string');\nrequire('../../modules/es7.symbol.async-iterator');\nrequire('../../modules/es7.symbol.observable');\nmodule.exports = require('../../modules/_core').Symbol;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/fn/symbol/index.js\n// module id = 117\n// module chunks = 0 1","'use strict';\n// ECMAScript 6 symbols shim\nvar global = require('./_global');\nvar has = require('./_has');\nvar DESCRIPTORS = require('./_descriptors');\nvar $export = require('./_export');\nvar redefine = require('./_redefine');\nvar META = require('./_meta').KEY;\nvar $fails = require('./_fails');\nvar shared = require('./_shared');\nvar setToStringTag = require('./_set-to-string-tag');\nvar uid = require('./_uid');\nvar wks = require('./_wks');\nvar wksExt = require('./_wks-ext');\nvar wksDefine = require('./_wks-define');\nvar enumKeys = require('./_enum-keys');\nvar isArray = require('./_is-array');\nvar anObject = require('./_an-object');\nvar isObject = require('./_is-object');\nvar toObject = require('./_to-object');\nvar toIObject = require('./_to-iobject');\nvar toPrimitive = require('./_to-primitive');\nvar createDesc = require('./_property-desc');\nvar _create = require('./_object-create');\nvar gOPNExt = require('./_object-gopn-ext');\nvar $GOPD = require('./_object-gopd');\nvar $GOPS = require('./_object-gops');\nvar $DP = require('./_object-dp');\nvar $keys = require('./_object-keys');\nvar gOPD = $GOPD.f;\nvar dP = $DP.f;\nvar gOPN = gOPNExt.f;\nvar $Symbol = global.Symbol;\nvar $JSON = global.JSON;\nvar _stringify = $JSON && $JSON.stringify;\nvar PROTOTYPE = 'prototype';\nvar HIDDEN = wks('_hidden');\nvar TO_PRIMITIVE = wks('toPrimitive');\nvar isEnum = {}.propertyIsEnumerable;\nvar SymbolRegistry = shared('symbol-registry');\nvar AllSymbols = shared('symbols');\nvar OPSymbols = shared('op-symbols');\nvar ObjectProto = Object[PROTOTYPE];\nvar USE_NATIVE = typeof $Symbol == 'function' && !!$GOPS.f;\nvar QObject = global.QObject;\n// Don't use setters in Qt Script, https://github.com/zloirock/core-js/issues/173\nvar setter = !QObject || !QObject[PROTOTYPE] || !QObject[PROTOTYPE].findChild;\n\n// fallback for old Android, https://code.google.com/p/v8/issues/detail?id=687\nvar setSymbolDesc = DESCRIPTORS && $fails(function () {\n  return _create(dP({}, 'a', {\n    get: function () { return dP(this, 'a', { value: 7 }).a; }\n  })).a != 7;\n}) ? function (it, key, D) {\n  var protoDesc = gOPD(ObjectProto, key);\n  if (protoDesc) delete ObjectProto[key];\n  dP(it, key, D);\n  if (protoDesc && it !== ObjectProto) dP(ObjectProto, key, protoDesc);\n} : dP;\n\nvar wrap = function (tag) {\n  var sym = AllSymbols[tag] = _create($Symbol[PROTOTYPE]);\n  sym._k = tag;\n  return sym;\n};\n\nvar isSymbol = USE_NATIVE && typeof $Symbol.iterator == 'symbol' ? function (it) {\n  return typeof it == 'symbol';\n} : function (it) {\n  return it instanceof $Symbol;\n};\n\nvar $defineProperty = function defineProperty(it, key, D) {\n  if (it === ObjectProto) $defineProperty(OPSymbols, key, D);\n  anObject(it);\n  key = toPrimitive(key, true);\n  anObject(D);\n  if (has(AllSymbols, key)) {\n    if (!D.enumerable) {\n      if (!has(it, HIDDEN)) dP(it, HIDDEN, createDesc(1, {}));\n      it[HIDDEN][key] = true;\n    } else {\n      if (has(it, HIDDEN) && it[HIDDEN][key]) it[HIDDEN][key] = false;\n      D = _create(D, { enumerable: createDesc(0, false) });\n    } return setSymbolDesc(it, key, D);\n  } return dP(it, key, D);\n};\nvar $defineProperties = function defineProperties(it, P) {\n  anObject(it);\n  var keys = enumKeys(P = toIObject(P));\n  var i = 0;\n  var l = keys.length;\n  var key;\n  while (l > i) $defineProperty(it, key = keys[i++], P[key]);\n  return it;\n};\nvar $create = function create(it, P) {\n  return P === undefined ? _create(it) : $defineProperties(_create(it), P);\n};\nvar $propertyIsEnumerable = function propertyIsEnumerable(key) {\n  var E = isEnum.call(this, key = toPrimitive(key, true));\n  if (this === ObjectProto && has(AllSymbols, key) && !has(OPSymbols, key)) return false;\n  return E || !has(this, key) || !has(AllSymbols, key) || has(this, HIDDEN) && this[HIDDEN][key] ? E : true;\n};\nvar $getOwnPropertyDescriptor = function getOwnPropertyDescriptor(it, key) {\n  it = toIObject(it);\n  key = toPrimitive(key, true);\n  if (it === ObjectProto && has(AllSymbols, key) && !has(OPSymbols, key)) return;\n  var D = gOPD(it, key);\n  if (D && has(AllSymbols, key) && !(has(it, HIDDEN) && it[HIDDEN][key])) D.enumerable = true;\n  return D;\n};\nvar $getOwnPropertyNames = function getOwnPropertyNames(it) {\n  var names = gOPN(toIObject(it));\n  var result = [];\n  var i = 0;\n  var key;\n  while (names.length > i) {\n    if (!has(AllSymbols, key = names[i++]) && key != HIDDEN && key != META) result.push(key);\n  } return result;\n};\nvar $getOwnPropertySymbols = function getOwnPropertySymbols(it) {\n  var IS_OP = it === ObjectProto;\n  var names = gOPN(IS_OP ? OPSymbols : toIObject(it));\n  var result = [];\n  var i = 0;\n  var key;\n  while (names.length > i) {\n    if (has(AllSymbols, key = names[i++]) && (IS_OP ? has(ObjectProto, key) : true)) result.push(AllSymbols[key]);\n  } return result;\n};\n\n// 19.4.1.1 Symbol([description])\nif (!USE_NATIVE) {\n  $Symbol = function Symbol() {\n    if (this instanceof $Symbol) throw TypeError('Symbol is not a constructor!');\n    var tag = uid(arguments.length > 0 ? arguments[0] : undefined);\n    var $set = function (value) {\n      if (this === ObjectProto) $set.call(OPSymbols, value);\n      if (has(this, HIDDEN) && has(this[HIDDEN], tag)) this[HIDDEN][tag] = false;\n      setSymbolDesc(this, tag, createDesc(1, value));\n    };\n    if (DESCRIPTORS && setter) setSymbolDesc(ObjectProto, tag, { configurable: true, set: $set });\n    return wrap(tag);\n  };\n  redefine($Symbol[PROTOTYPE], 'toString', function toString() {\n    return this._k;\n  });\n\n  $GOPD.f = $getOwnPropertyDescriptor;\n  $DP.f = $defineProperty;\n  require('./_object-gopn').f = gOPNExt.f = $getOwnPropertyNames;\n  require('./_object-pie').f = $propertyIsEnumerable;\n  $GOPS.f = $getOwnPropertySymbols;\n\n  if (DESCRIPTORS && !require('./_library')) {\n    redefine(ObjectProto, 'propertyIsEnumerable', $propertyIsEnumerable, true);\n  }\n\n  wksExt.f = function (name) {\n    return wrap(wks(name));\n  };\n}\n\n$export($export.G + $export.W + $export.F * !USE_NATIVE, { Symbol: $Symbol });\n\nfor (var es6Symbols = (\n  // 19.4.2.2, 19.4.2.3, 19.4.2.4, 19.4.2.6, 19.4.2.8, 19.4.2.9, 19.4.2.10, 19.4.2.11, 19.4.2.12, 19.4.2.13, 19.4.2.14\n  'hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables'\n).split(','), j = 0; es6Symbols.length > j;)wks(es6Symbols[j++]);\n\nfor (var wellKnownSymbols = $keys(wks.store), k = 0; wellKnownSymbols.length > k;) wksDefine(wellKnownSymbols[k++]);\n\n$export($export.S + $export.F * !USE_NATIVE, 'Symbol', {\n  // 19.4.2.1 Symbol.for(key)\n  'for': function (key) {\n    return has(SymbolRegistry, key += '')\n      ? SymbolRegistry[key]\n      : SymbolRegistry[key] = $Symbol(key);\n  },\n  // 19.4.2.5 Symbol.keyFor(sym)\n  keyFor: function keyFor(sym) {\n    if (!isSymbol(sym)) throw TypeError(sym + ' is not a symbol!');\n    for (var key in SymbolRegistry) if (SymbolRegistry[key] === sym) return key;\n  },\n  useSetter: function () { setter = true; },\n  useSimple: function () { setter = false; }\n});\n\n$export($export.S + $export.F * !USE_NATIVE, 'Object', {\n  // 19.1.2.2 Object.create(O [, Properties])\n  create: $create,\n  // 19.1.2.4 Object.defineProperty(O, P, Attributes)\n  defineProperty: $defineProperty,\n  // 19.1.2.3 Object.defineProperties(O, Properties)\n  defineProperties: $defineProperties,\n  // 19.1.2.6 Object.getOwnPropertyDescriptor(O, P)\n  getOwnPropertyDescriptor: $getOwnPropertyDescriptor,\n  // 19.1.2.7 Object.getOwnPropertyNames(O)\n  getOwnPropertyNames: $getOwnPropertyNames,\n  // 19.1.2.8 Object.getOwnPropertySymbols(O)\n  getOwnPropertySymbols: $getOwnPropertySymbols\n});\n\n// Chrome 38 and 39 `Object.getOwnPropertySymbols` fails on primitives\n// https://bugs.chromium.org/p/v8/issues/detail?id=3443\nvar FAILS_ON_PRIMITIVES = $fails(function () { $GOPS.f(1); });\n\n$export($export.S + $export.F * FAILS_ON_PRIMITIVES, 'Object', {\n  getOwnPropertySymbols: function getOwnPropertySymbols(it) {\n    return $GOPS.f(toObject(it));\n  }\n});\n\n// 24.3.2 JSON.stringify(value [, replacer [, space]])\n$JSON && $export($export.S + $export.F * (!USE_NATIVE || $fails(function () {\n  var S = $Symbol();\n  // MS Edge converts symbol values to JSON as {}\n  // WebKit converts symbol values to JSON as null\n  // V8 throws on boxed symbols\n  return _stringify([S]) != '[null]' || _stringify({ a: S }) != '{}' || _stringify(Object(S)) != '{}';\n})), 'JSON', {\n  stringify: function stringify(it) {\n    var args = [it];\n    var i = 1;\n    var replacer, $replacer;\n    while (arguments.length > i) args.push(arguments[i++]);\n    $replacer = replacer = args[1];\n    if (!isObject(replacer) && it === undefined || isSymbol(it)) return; // IE8 returns string on undefined\n    if (!isArray(replacer)) replacer = function (key, value) {\n      if (typeof $replacer == 'function') value = $replacer.call(this, key, value);\n      if (!isSymbol(value)) return value;\n    };\n    args[1] = replacer;\n    return _stringify.apply($JSON, args);\n  }\n});\n\n// 19.4.3.4 Symbol.prototype[@@toPrimitive](hint)\n$Symbol[PROTOTYPE][TO_PRIMITIVE] || require('./_hide')($Symbol[PROTOTYPE], TO_PRIMITIVE, $Symbol[PROTOTYPE].valueOf);\n// 19.4.3.5 Symbol.prototype[@@toStringTag]\nsetToStringTag($Symbol, 'Symbol');\n// 20.2.1.9 Math[@@toStringTag]\nsetToStringTag(Math, 'Math', true);\n// 24.3.3 JSON[@@toStringTag]\nsetToStringTag(global.JSON, 'JSON', true);\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/es6.symbol.js\n// module id = 118\n// module chunks = 0 1","var META = require('./_uid')('meta');\nvar isObject = require('./_is-object');\nvar has = require('./_has');\nvar setDesc = require('./_object-dp').f;\nvar id = 0;\nvar isExtensible = Object.isExtensible || function () {\n  return true;\n};\nvar FREEZE = !require('./_fails')(function () {\n  return isExtensible(Object.preventExtensions({}));\n});\nvar setMeta = function (it) {\n  setDesc(it, META, { value: {\n    i: 'O' + ++id, // object ID\n    w: {}          // weak collections IDs\n  } });\n};\nvar fastKey = function (it, create) {\n  // return primitive with prefix\n  if (!isObject(it)) return typeof it == 'symbol' ? it : (typeof it == 'string' ? 'S' : 'P') + it;\n  if (!has(it, META)) {\n    // can't set metadata to uncaught frozen object\n    if (!isExtensible(it)) return 'F';\n    // not necessary to add metadata\n    if (!create) return 'E';\n    // add missing metadata\n    setMeta(it);\n  // return object ID\n  } return it[META].i;\n};\nvar getWeak = function (it, create) {\n  if (!has(it, META)) {\n    // can't set metadata to uncaught frozen object\n    if (!isExtensible(it)) return true;\n    // not necessary to add metadata\n    if (!create) return false;\n    // add missing metadata\n    setMeta(it);\n  // return hash weak collections IDs\n  } return it[META].w;\n};\n// add metadata on freeze-family methods calling\nvar onFreeze = function (it) {\n  if (FREEZE && meta.NEED && isExtensible(it) && !has(it, META)) setMeta(it);\n  return it;\n};\nvar meta = module.exports = {\n  KEY: META,\n  NEED: false,\n  fastKey: fastKey,\n  getWeak: getWeak,\n  onFreeze: onFreeze\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_meta.js\n// module id = 119\n// module chunks = 0 1","// all enumerable object keys, includes symbols\nvar getKeys = require('./_object-keys');\nvar gOPS = require('./_object-gops');\nvar pIE = require('./_object-pie');\nmodule.exports = function (it) {\n  var result = getKeys(it);\n  var getSymbols = gOPS.f;\n  if (getSymbols) {\n    var symbols = getSymbols(it);\n    var isEnum = pIE.f;\n    var i = 0;\n    var key;\n    while (symbols.length > i) if (isEnum.call(it, key = symbols[i++])) result.push(key);\n  } return result;\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_enum-keys.js\n// module id = 120\n// module chunks = 0 1","// 7.2.2 IsArray(argument)\nvar cof = require('./_cof');\nmodule.exports = Array.isArray || function isArray(arg) {\n  return cof(arg) == 'Array';\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_is-array.js\n// module id = 121\n// module chunks = 0 1","// fallback for IE11 buggy Object.getOwnPropertyNames with iframe and window\nvar toIObject = require('./_to-iobject');\nvar gOPN = require('./_object-gopn').f;\nvar toString = {}.toString;\n\nvar windowNames = typeof window == 'object' && window && Object.getOwnPropertyNames\n  ? Object.getOwnPropertyNames(window) : [];\n\nvar getWindowNames = function (it) {\n  try {\n    return gOPN(it);\n  } catch (e) {\n    return windowNames.slice();\n  }\n};\n\nmodule.exports.f = function getOwnPropertyNames(it) {\n  return windowNames && toString.call(it) == '[object Window]' ? getWindowNames(it) : gOPN(toIObject(it));\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_object-gopn-ext.js\n// module id = 122\n// module chunks = 0 1","require('./_wks-define')('asyncIterator');\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/es7.symbol.async-iterator.js\n// module id = 123\n// module chunks = 0 1","require('./_wks-define')('observable');\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/es7.symbol.observable.js\n// module id = 124\n// module chunks = 0 1","// Copyright (c) 2015-2017 David M. Lee, II\n'use strict';\n\n/**\n * Local reference to TimeoutError\n * @private\n */\nvar TimeoutError;\n\n/**\n * Rejects a promise with a {@link TimeoutError} if it does not settle within\n * the specified timeout.\n *\n * @param {Promise} promise The promise.\n * @param {number} timeoutMillis Number of milliseconds to wait on settling.\n * @returns {Promise} Either resolves/rejects with `promise`, or rejects with\n *                   `TimeoutError`, whichever settles first.\n */\nvar timeout = module.exports.timeout = function(promise, timeoutMillis) {\n  var error = new TimeoutError(),\n      timeout;\n\n  return Promise.race([\n    promise,\n    new Promise(function(resolve, reject) {\n      timeout = setTimeout(function() {\n        reject(error);\n      }, timeoutMillis);\n    }),\n  ]).then(function(v) {\n    clearTimeout(timeout);\n    return v;\n  }, function(err) {\n    clearTimeout(timeout);\n    throw err;\n  });\n};\n\n/**\n * Exception indicating that the timeout expired.\n */\nTimeoutError = module.exports.TimeoutError = function() {\n  Error.call(this)\n  this.stack = Error().stack\n  this.message = 'Timeout';\n};\n\nTimeoutError.prototype = Object.create(Error.prototype);\nTimeoutError.prototype.name = \"TimeoutError\";\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/promise-timeout/index.js\n// module id = 125\n// module chunks = 0 1","var _ = require('underscore');\n\nmodule.exports = function(AV) {\n  var eventSplitter = /\\s+/;\n  var slice = Array.prototype.slice;\n\n  /**\n   * @class\n   *\n   * <p>AV.Events is a fork of Backbone's Events module, provided for your\n   * convenience.</p>\n   *\n   * <p>A module that can be mixed in to any object in order to provide\n   * it with custom events. You may bind callback functions to an event\n   * with `on`, or remove these functions with `off`.\n   * Triggering an event fires all callbacks in the order that `on` was\n   * called.\n   *\n   * @private\n   * @example\n   * var object = {};\n   * _.extend(object, AV.Events);\n   * object.on('expand', function(){ alert('expanded'); });\n   * object.trigger('expand');</pre></p>\n   *\n   */\n  AV.Events = {\n    /**\n     * Bind one or more space separated events, `events`, to a `callback`\n     * function. Passing `\"all\"` will bind the callback to all events fired.\n     */\n    on: function(events, callback, context) {\n      var calls, event, node, tail, list;\n      if (!callback) {\n        return this;\n      }\n      events = events.split(eventSplitter);\n      calls = this._callbacks || (this._callbacks = {});\n\n      // Create an immutable callback list, allowing traversal during\n      // modification.  The tail is an empty object that will always be used\n      // as the next node.\n      event = events.shift();\n      while (event) {\n        list = calls[event];\n        node = list ? list.tail : {};\n        node.next = tail = {};\n        node.context = context;\n        node.callback = callback;\n        calls[event] = { tail: tail, next: list ? list.next : node };\n        event = events.shift();\n      }\n\n      return this;\n    },\n\n    /**\n     * Remove one or many callbacks. If `context` is null, removes all callbacks\n     * with that function. If `callback` is null, removes all callbacks for the\n     * event. If `events` is null, removes all bound callbacks for all events.\n     */\n    off: function(events, callback, context) {\n      var event, calls, node, tail, cb, ctx;\n\n      // No events, or removing *all* events.\n      if (!(calls = this._callbacks)) {\n        return;\n      }\n      if (!(events || callback || context)) {\n        delete this._callbacks;\n        return this;\n      }\n\n      // Loop through the listed events and contexts, splicing them out of the\n      // linked list of callbacks if appropriate.\n      events = events ? events.split(eventSplitter) : _.keys(calls);\n      event = events.shift();\n      while (event) {\n        node = calls[event];\n        delete calls[event];\n        if (!node || !(callback || context)) {\n          continue;\n        }\n        // Create a new list, omitting the indicated callbacks.\n        tail = node.tail;\n        node = node.next;\n        while (node !== tail) {\n          cb = node.callback;\n          ctx = node.context;\n          if ((callback && cb !== callback) || (context && ctx !== context)) {\n            this.on(event, cb, ctx);\n          }\n          node = node.next;\n        }\n        event = events.shift();\n      }\n\n      return this;\n    },\n\n    /**\n     * Trigger one or many events, firing all bound callbacks. Callbacks are\n     * passed the same arguments as `trigger` is, apart from the event name\n     * (unless you're listening on `\"all\"`, which will cause your callback to\n     * receive the true name of the event as the first argument).\n     */\n    trigger: function(events) {\n      var event, node, calls, tail, args, all, rest;\n      if (!(calls = this._callbacks)) {\n        return this;\n      }\n      all = calls.all;\n      events = events.split(eventSplitter);\n      rest = slice.call(arguments, 1);\n\n      // For each event, walk through the linked list of callbacks twice,\n      // first to trigger the event, then to trigger any `\"all\"` callbacks.\n      event = events.shift();\n      while (event) {\n        node = calls[event];\n        if (node) {\n          tail = node.tail;\n          while ((node = node.next) !== tail) {\n            node.callback.apply(node.context || this, rest);\n          }\n        }\n        node = all;\n        if (node) {\n          tail = node.tail;\n          args = [event].concat(rest);\n          while ((node = node.next) !== tail) {\n            node.callback.apply(node.context || this, args);\n          }\n        }\n        event = events.shift();\n      }\n\n      return this;\n    },\n  };\n\n  /**\n   * @function\n   */\n  AV.Events.bind = AV.Events.on;\n\n  /**\n   * @function\n   */\n  AV.Events.unbind = AV.Events.off;\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/event.js","var _ = require('underscore');\n\n/*global navigator: false */\nmodule.exports = function(AV) {\n  /**\n   * Creates a new GeoPoint with any of the following forms:<br>\n   * @example\n   * new GeoPoint(otherGeoPoint)\n   * new GeoPoint(30, 30)\n   * new GeoPoint([30, 30])\n   * new GeoPoint({latitude: 30, longitude: 30})\n   * new GeoPoint()  // defaults to (0, 0)\n   * @class\n   *\n   * <p>Represents a latitude / longitude point that may be associated\n   * with a key in a AVObject or used as a reference point for geo queries.\n   * This allows proximity-based queries on the key.</p>\n   *\n   * <p>Only one key in a class may contain a GeoPoint.</p>\n   *\n   * <p>Example:<pre>\n   *   var point = new AV.GeoPoint(30.0, -20.0);\n   *   var object = new AV.Object(\"PlaceObject\");\n   *   object.set(\"location\", point);\n   *   object.save();</pre></p>\n   */\n  AV.GeoPoint = function(arg1, arg2) {\n    if (_.isArray(arg1)) {\n      AV.GeoPoint._validate(arg1[0], arg1[1]);\n      this.latitude = arg1[0];\n      this.longitude = arg1[1];\n    } else if (_.isObject(arg1)) {\n      AV.GeoPoint._validate(arg1.latitude, arg1.longitude);\n      this.latitude = arg1.latitude;\n      this.longitude = arg1.longitude;\n    } else if (_.isNumber(arg1) && _.isNumber(arg2)) {\n      AV.GeoPoint._validate(arg1, arg2);\n      this.latitude = arg1;\n      this.longitude = arg2;\n    } else {\n      this.latitude = 0;\n      this.longitude = 0;\n    }\n\n    // Add properties so that anyone using Webkit or Mozilla will get an error\n    // if they try to set values that are out of bounds.\n    var self = this;\n    if (this.__defineGetter__ && this.__defineSetter__) {\n      // Use _latitude and _longitude to actually store the values, and add\n      // getters and setters for latitude and longitude.\n      this._latitude = this.latitude;\n      this._longitude = this.longitude;\n      this.__defineGetter__('latitude', function() {\n        return self._latitude;\n      });\n      this.__defineGetter__('longitude', function() {\n        return self._longitude;\n      });\n      this.__defineSetter__('latitude', function(val) {\n        AV.GeoPoint._validate(val, self.longitude);\n        self._latitude = val;\n      });\n      this.__defineSetter__('longitude', function(val) {\n        AV.GeoPoint._validate(self.latitude, val);\n        self._longitude = val;\n      });\n    }\n  };\n\n  /**\n   * @lends AV.GeoPoint.prototype\n   * @property {float} latitude North-south portion of the coordinate, in range\n   *   [-90, 90].  Throws an exception if set out of range in a modern browser.\n   * @property {float} longitude East-west portion of the coordinate, in range\n   *   [-180, 180].  Throws if set out of range in a modern browser.\n   */\n\n  /**\n   * Throws an exception if the given lat-long is out of bounds.\n   * @private\n   */\n  AV.GeoPoint._validate = function(latitude, longitude) {\n    if (latitude < -90.0) {\n      throw new Error('AV.GeoPoint latitude ' + latitude + ' < -90.0.');\n    }\n    if (latitude > 90.0) {\n      throw new Error('AV.GeoPoint latitude ' + latitude + ' > 90.0.');\n    }\n    if (longitude < -180.0) {\n      throw new Error('AV.GeoPoint longitude ' + longitude + ' < -180.0.');\n    }\n    if (longitude > 180.0) {\n      throw new Error('AV.GeoPoint longitude ' + longitude + ' > 180.0.');\n    }\n  };\n\n  /**\n   * Creates a GeoPoint with the user's current location, if available.\n   * @return {Promise.<AV.GeoPoint>}\n   */\n  AV.GeoPoint.current = () =>\n    new Promise((resolve, reject) => {\n      navigator.geolocation.getCurrentPosition(function(location) {\n        resolve(\n          new AV.GeoPoint({\n            latitude: location.coords.latitude,\n            longitude: location.coords.longitude,\n          })\n        );\n      }, reject);\n    });\n\n  _.extend(\n    AV.GeoPoint.prototype,\n    /** @lends AV.GeoPoint.prototype */ {\n      /**\n       * Returns a JSON representation of the GeoPoint, suitable for AV.\n       * @return {Object}\n       */\n      toJSON: function() {\n        AV.GeoPoint._validate(this.latitude, this.longitude);\n        return {\n          __type: 'GeoPoint',\n          latitude: this.latitude,\n          longitude: this.longitude,\n        };\n      },\n\n      /**\n       * Returns the distance from this GeoPoint to another in radians.\n       * @param {AV.GeoPoint} point the other AV.GeoPoint.\n       * @return {Number}\n       */\n      radiansTo: function(point) {\n        var d2r = Math.PI / 180.0;\n        var lat1rad = this.latitude * d2r;\n        var long1rad = this.longitude * d2r;\n        var lat2rad = point.latitude * d2r;\n        var long2rad = point.longitude * d2r;\n        var deltaLat = lat1rad - lat2rad;\n        var deltaLong = long1rad - long2rad;\n        var sinDeltaLatDiv2 = Math.sin(deltaLat / 2);\n        var sinDeltaLongDiv2 = Math.sin(deltaLong / 2);\n        // Square of half the straight line chord distance between both points.\n        var a =\n          sinDeltaLatDiv2 * sinDeltaLatDiv2 +\n          Math.cos(lat1rad) *\n            Math.cos(lat2rad) *\n            sinDeltaLongDiv2 *\n            sinDeltaLongDiv2;\n        a = Math.min(1.0, a);\n        return 2 * Math.asin(Math.sqrt(a));\n      },\n\n      /**\n       * Returns the distance from this GeoPoint to another in kilometers.\n       * @param {AV.GeoPoint} point the other AV.GeoPoint.\n       * @return {Number}\n       */\n      kilometersTo: function(point) {\n        return this.radiansTo(point) * 6371.0;\n      },\n\n      /**\n       * Returns the distance from this GeoPoint to another in miles.\n       * @param {AV.GeoPoint} point the other AV.GeoPoint.\n       * @return {Number}\n       */\n      milesTo: function(point) {\n        return this.radiansTo(point) * 3958.8;\n      },\n    }\n  );\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/geopoint.js","var _ = require('underscore');\n\nmodule.exports = function(AV) {\n  var PUBLIC_KEY = '*';\n\n  /**\n   * Creates a new ACL.\n   * If no argument is given, the ACL has no permissions for anyone.\n   * If the argument is a AV.User, the ACL will have read and write\n   *   permission for only that user.\n   * If the argument is any other JSON object, that object will be interpretted\n   *   as a serialized ACL created with toJSON().\n   * @see AV.Object#setACL\n   * @class\n   *\n   * <p>An ACL, or Access Control List can be added to any\n   * <code>AV.Object</code> to restrict access to only a subset of users\n   * of your application.</p>\n   */\n  AV.ACL = function(arg1) {\n    var self = this;\n    self.permissionsById = {};\n    if (_.isObject(arg1)) {\n      if (arg1 instanceof AV.User) {\n        self.setReadAccess(arg1, true);\n        self.setWriteAccess(arg1, true);\n      } else {\n        if (_.isFunction(arg1)) {\n          throw new Error(\n            'AV.ACL() called with a function.  Did you forget ()?'\n          );\n        }\n        AV._objectEach(arg1, function(accessList, userId) {\n          if (!_.isString(userId)) {\n            throw new Error('Tried to create an ACL with an invalid userId.');\n          }\n          self.permissionsById[userId] = {};\n          AV._objectEach(accessList, function(allowed, permission) {\n            if (permission !== 'read' && permission !== 'write') {\n              throw new Error(\n                'Tried to create an ACL with an invalid permission type.'\n              );\n            }\n            if (!_.isBoolean(allowed)) {\n              throw new Error(\n                'Tried to create an ACL with an invalid permission value.'\n              );\n            }\n            self.permissionsById[userId][permission] = allowed;\n          });\n        });\n      }\n    }\n  };\n\n  /**\n   * Returns a JSON-encoded version of the ACL.\n   * @return {Object}\n   */\n  AV.ACL.prototype.toJSON = function() {\n    return _.clone(this.permissionsById);\n  };\n\n  AV.ACL.prototype._setAccess = function(accessType, userId, allowed) {\n    if (userId instanceof AV.User) {\n      userId = userId.id;\n    } else if (userId instanceof AV.Role) {\n      userId = 'role:' + userId.getName();\n    }\n    if (!_.isString(userId)) {\n      throw new Error('userId must be a string.');\n    }\n    if (!_.isBoolean(allowed)) {\n      throw new Error('allowed must be either true or false.');\n    }\n    var permissions = this.permissionsById[userId];\n    if (!permissions) {\n      if (!allowed) {\n        // The user already doesn't have this permission, so no action needed.\n        return;\n      } else {\n        permissions = {};\n        this.permissionsById[userId] = permissions;\n      }\n    }\n\n    if (allowed) {\n      this.permissionsById[userId][accessType] = true;\n    } else {\n      delete permissions[accessType];\n      if (_.isEmpty(permissions)) {\n        delete this.permissionsById[userId];\n      }\n    }\n  };\n\n  AV.ACL.prototype._getAccess = function(accessType, userId) {\n    if (userId instanceof AV.User) {\n      userId = userId.id;\n    } else if (userId instanceof AV.Role) {\n      userId = 'role:' + userId.getName();\n    }\n    var permissions = this.permissionsById[userId];\n    if (!permissions) {\n      return false;\n    }\n    return permissions[accessType] ? true : false;\n  };\n\n  /**\n   * Set whether the given user is allowed to read this object.\n   * @param userId An instance of AV.User or its objectId.\n   * @param {Boolean} allowed Whether that user should have read access.\n   */\n  AV.ACL.prototype.setReadAccess = function(userId, allowed) {\n    this._setAccess('read', userId, allowed);\n  };\n\n  /**\n   * Get whether the given user id is *explicitly* allowed to read this object.\n   * Even if this returns false, the user may still be able to access it if\n   * getPublicReadAccess returns true or a role that the user belongs to has\n   * write access.\n   * @param userId An instance of AV.User or its objectId, or a AV.Role.\n   * @return {Boolean}\n   */\n  AV.ACL.prototype.getReadAccess = function(userId) {\n    return this._getAccess('read', userId);\n  };\n\n  /**\n   * Set whether the given user id is allowed to write this object.\n   * @param userId An instance of AV.User or its objectId, or a AV.Role..\n   * @param {Boolean} allowed Whether that user should have write access.\n   */\n  AV.ACL.prototype.setWriteAccess = function(userId, allowed) {\n    this._setAccess('write', userId, allowed);\n  };\n\n  /**\n   * Get whether the given user id is *explicitly* allowed to write this object.\n   * Even if this returns false, the user may still be able to write it if\n   * getPublicWriteAccess returns true or a role that the user belongs to has\n   * write access.\n   * @param userId An instance of AV.User or its objectId, or a AV.Role.\n   * @return {Boolean}\n   */\n  AV.ACL.prototype.getWriteAccess = function(userId) {\n    return this._getAccess('write', userId);\n  };\n\n  /**\n   * Set whether the public is allowed to read this object.\n   * @param {Boolean} allowed\n   */\n  AV.ACL.prototype.setPublicReadAccess = function(allowed) {\n    this.setReadAccess(PUBLIC_KEY, allowed);\n  };\n\n  /**\n   * Get whether the public is allowed to read this object.\n   * @return {Boolean}\n   */\n  AV.ACL.prototype.getPublicReadAccess = function() {\n    return this.getReadAccess(PUBLIC_KEY);\n  };\n\n  /**\n   * Set whether the public is allowed to write this object.\n   * @param {Boolean} allowed\n   */\n  AV.ACL.prototype.setPublicWriteAccess = function(allowed) {\n    this.setWriteAccess(PUBLIC_KEY, allowed);\n  };\n\n  /**\n   * Get whether the public is allowed to write this object.\n   * @return {Boolean}\n   */\n  AV.ACL.prototype.getPublicWriteAccess = function() {\n    return this.getWriteAccess(PUBLIC_KEY);\n  };\n\n  /**\n   * Get whether users belonging to the given role are allowed\n   * to read this object. Even if this returns false, the role may\n   * still be able to write it if a parent role has read access.\n   *\n   * @param role The name of the role, or a AV.Role object.\n   * @return {Boolean} true if the role has read access. false otherwise.\n   * @throws {String} If role is neither a AV.Role nor a String.\n   */\n  AV.ACL.prototype.getRoleReadAccess = function(role) {\n    if (role instanceof AV.Role) {\n      // Normalize to the String name\n      role = role.getName();\n    }\n    if (_.isString(role)) {\n      return this.getReadAccess('role:' + role);\n    }\n    throw new Error('role must be a AV.Role or a String');\n  };\n\n  /**\n   * Get whether users belonging to the given role are allowed\n   * to write this object. Even if this returns false, the role may\n   * still be able to write it if a parent role has write access.\n   *\n   * @param role The name of the role, or a AV.Role object.\n   * @return {Boolean} true if the role has write access. false otherwise.\n   * @throws {String} If role is neither a AV.Role nor a String.\n   */\n  AV.ACL.prototype.getRoleWriteAccess = function(role) {\n    if (role instanceof AV.Role) {\n      // Normalize to the String name\n      role = role.getName();\n    }\n    if (_.isString(role)) {\n      return this.getWriteAccess('role:' + role);\n    }\n    throw new Error('role must be a AV.Role or a String');\n  };\n\n  /**\n   * Set whether users belonging to the given role are allowed\n   * to read this object.\n   *\n   * @param role The name of the role, or a AV.Role object.\n   * @param {Boolean} allowed Whether the given role can read this object.\n   * @throws {String} If role is neither a AV.Role nor a String.\n   */\n  AV.ACL.prototype.setRoleReadAccess = function(role, allowed) {\n    if (role instanceof AV.Role) {\n      // Normalize to the String name\n      role = role.getName();\n    }\n    if (_.isString(role)) {\n      this.setReadAccess('role:' + role, allowed);\n      return;\n    }\n    throw new Error('role must be a AV.Role or a String');\n  };\n\n  /**\n   * Set whether users belonging to the given role are allowed\n   * to write this object.\n   *\n   * @param role The name of the role, or a AV.Role object.\n   * @param {Boolean} allowed Whether the given role can write this object.\n   * @throws {String} If role is neither a AV.Role nor a String.\n   */\n  AV.ACL.prototype.setRoleWriteAccess = function(role, allowed) {\n    if (role instanceof AV.Role) {\n      // Normalize to the String name\n      role = role.getName();\n    }\n    if (_.isString(role)) {\n      this.setWriteAccess('role:' + role, allowed);\n      return;\n    }\n    throw new Error('role must be a AV.Role or a String');\n  };\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/acl.js","var _ = require('underscore');\n\nmodule.exports = function(AV) {\n  /**\n   * @private\n   * @class\n   * A AV.Op is an atomic operation that can be applied to a field in a\n   * AV.Object. For example, calling <code>object.set(\"foo\", \"bar\")</code>\n   * is an example of a AV.Op.Set. Calling <code>object.unset(\"foo\")</code>\n   * is a AV.Op.Unset. These operations are stored in a AV.Object and\n   * sent to the server as part of <code>object.save()</code> operations.\n   * Instances of AV.Op should be immutable.\n   *\n   * You should not create subclasses of AV.Op or instantiate AV.Op\n   * directly.\n   */\n  AV.Op = function() {\n    this._initialize.apply(this, arguments);\n  };\n\n  _.extend(\n    AV.Op.prototype,\n    /** @lends AV.Op.prototype */ {\n      _initialize: function() {},\n    }\n  );\n\n  _.extend(AV.Op, {\n    /**\n     * To create a new Op, call AV.Op._extend();\n     * @private\n     */\n    _extend: AV._extend,\n\n    // A map of __op string to decoder function.\n    _opDecoderMap: {},\n\n    /**\n     * Registers a function to convert a json object with an __op field into an\n     * instance of a subclass of AV.Op.\n     * @private\n     */\n    _registerDecoder: function(opName, decoder) {\n      AV.Op._opDecoderMap[opName] = decoder;\n    },\n\n    /**\n     * Converts a json object into an instance of a subclass of AV.Op.\n     * @private\n     */\n    _decode: function(json) {\n      var decoder = AV.Op._opDecoderMap[json.__op];\n      if (decoder) {\n        return decoder(json);\n      } else {\n        return undefined;\n      }\n    },\n  });\n\n  /*\n   * Add a handler for Batch ops.\n   */\n  AV.Op._registerDecoder('Batch', function(json) {\n    var op = null;\n    AV._arrayEach(json.ops, function(nextOp) {\n      nextOp = AV.Op._decode(nextOp);\n      op = nextOp._mergeWithPrevious(op);\n    });\n    return op;\n  });\n\n  /**\n   * @private\n   * @class\n   * A Set operation indicates that either the field was changed using\n   * AV.Object.set, or it is a mutable container that was detected as being\n   * changed.\n   */\n  AV.Op.Set = AV.Op._extend(\n    /** @lends AV.Op.Set.prototype */ {\n      _initialize: function(value) {\n        this._value = value;\n      },\n\n      /**\n       * Returns the new value of this field after the set.\n       */\n      value: function() {\n        return this._value;\n      },\n\n      /**\n       * Returns a JSON version of the operation suitable for sending to AV.\n       * @return {Object}\n       */\n      toJSON: function() {\n        return AV._encode(this.value());\n      },\n\n      _mergeWithPrevious: function(previous) {\n        return this;\n      },\n\n      _estimate: function(oldValue) {\n        return this.value();\n      },\n    }\n  );\n\n  /**\n   * A sentinel value that is returned by AV.Op.Unset._estimate to\n   * indicate the field should be deleted. Basically, if you find _UNSET as a\n   * value in your object, you should remove that key.\n   */\n  AV.Op._UNSET = {};\n\n  /**\n   * @private\n   * @class\n   * An Unset operation indicates that this field has been deleted from the\n   * object.\n   */\n  AV.Op.Unset = AV.Op._extend(\n    /** @lends AV.Op.Unset.prototype */ {\n      /**\n       * Returns a JSON version of the operation suitable for sending to AV.\n       * @return {Object}\n       */\n      toJSON: function() {\n        return { __op: 'Delete' };\n      },\n\n      _mergeWithPrevious: function(previous) {\n        return this;\n      },\n\n      _estimate: function(oldValue) {\n        return AV.Op._UNSET;\n      },\n    }\n  );\n\n  AV.Op._registerDecoder('Delete', function(json) {\n    return new AV.Op.Unset();\n  });\n\n  /**\n   * @private\n   * @class\n   * An Increment is an atomic operation where the numeric value for the field\n   * will be increased by a given amount.\n   */\n  AV.Op.Increment = AV.Op._extend(\n    /** @lends AV.Op.Increment.prototype */ {\n      _initialize: function(amount) {\n        this._amount = amount;\n      },\n\n      /**\n       * Returns the amount to increment by.\n       * @return {Number} the amount to increment by.\n       */\n      amount: function() {\n        return this._amount;\n      },\n\n      /**\n       * Returns a JSON version of the operation suitable for sending to AV.\n       * @return {Object}\n       */\n      toJSON: function() {\n        return { __op: 'Increment', amount: this._amount };\n      },\n\n      _mergeWithPrevious: function(previous) {\n        if (!previous) {\n          return this;\n        } else if (previous instanceof AV.Op.Unset) {\n          return new AV.Op.Set(this.amount());\n        } else if (previous instanceof AV.Op.Set) {\n          return new AV.Op.Set(previous.value() + this.amount());\n        } else if (previous instanceof AV.Op.Increment) {\n          return new AV.Op.Increment(this.amount() + previous.amount());\n        } else {\n          throw new Error('Op is invalid after previous op.');\n        }\n      },\n\n      _estimate: function(oldValue) {\n        if (!oldValue) {\n          return this.amount();\n        }\n        return oldValue + this.amount();\n      },\n    }\n  );\n\n  AV.Op._registerDecoder('Increment', function(json) {\n    return new AV.Op.Increment(json.amount);\n  });\n\n  /**\n   * @private\n   * @class\n   * BitAnd is an atomic operation where the given value will be bit and to the\n   * value than is stored in this field.\n   */\n  AV.Op.BitAnd = AV.Op._extend(\n    /** @lends AV.Op.BitAnd.prototype */ {\n      _initialize(value) {\n        this._value = value;\n      },\n\n      value() {\n        return this._value;\n      },\n\n      /**\n       * Returns a JSON version of the operation suitable for sending to AV.\n       * @return {Object}\n       */\n      toJSON() {\n        return { __op: 'BitAnd', value: this.value() };\n      },\n\n      _mergeWithPrevious(previous) {\n        if (!previous) {\n          return this;\n        } else if (previous instanceof AV.Op.Unset) {\n          return new AV.Op.Set(0);\n        } else if (previous instanceof AV.Op.Set) {\n          return new AV.Op.Set(previous.value() & this.value());\n        } else {\n          throw new Error('Op is invalid after previous op.');\n        }\n      },\n\n      _estimate(oldValue) {\n        return oldValue & this.value();\n      },\n    }\n  );\n\n  AV.Op._registerDecoder('BitAnd', function(json) {\n    return new AV.Op.BitAnd(json.value);\n  });\n\n  /**\n   * @private\n   * @class\n   * BitOr is an atomic operation where the given value will be bit and to the\n   * value than is stored in this field.\n   */\n  AV.Op.BitOr = AV.Op._extend(\n    /** @lends AV.Op.BitOr.prototype */ {\n      _initialize(value) {\n        this._value = value;\n      },\n\n      value() {\n        return this._value;\n      },\n\n      /**\n       * Returns a JSON version of the operation suitable for sending to AV.\n       * @return {Object}\n       */\n      toJSON() {\n        return { __op: 'BitOr', value: this.value() };\n      },\n\n      _mergeWithPrevious(previous) {\n        if (!previous) {\n          return this;\n        } else if (previous instanceof AV.Op.Unset) {\n          return new AV.Op.Set(this.value());\n        } else if (previous instanceof AV.Op.Set) {\n          return new AV.Op.Set(previous.value() | this.value());\n        } else {\n          throw new Error('Op is invalid after previous op.');\n        }\n      },\n\n      _estimate(oldValue) {\n        return oldValue | this.value();\n      },\n    }\n  );\n\n  AV.Op._registerDecoder('BitOr', function(json) {\n    return new AV.Op.BitOr(json.value);\n  });\n\n  /**\n   * @private\n   * @class\n   * BitXor is an atomic operation where the given value will be bit and to the\n   * value than is stored in this field.\n   */\n  AV.Op.BitXor = AV.Op._extend(\n    /** @lends AV.Op.BitXor.prototype */ {\n      _initialize(value) {\n        this._value = value;\n      },\n\n      value() {\n        return this._value;\n      },\n\n      /**\n       * Returns a JSON version of the operation suitable for sending to AV.\n       * @return {Object}\n       */\n      toJSON() {\n        return { __op: 'BitXor', value: this.value() };\n      },\n\n      _mergeWithPrevious(previous) {\n        if (!previous) {\n          return this;\n        } else if (previous instanceof AV.Op.Unset) {\n          return new AV.Op.Set(this.value());\n        } else if (previous instanceof AV.Op.Set) {\n          return new AV.Op.Set(previous.value() ^ this.value());\n        } else {\n          throw new Error('Op is invalid after previous op.');\n        }\n      },\n\n      _estimate(oldValue) {\n        return oldValue ^ this.value();\n      },\n    }\n  );\n\n  AV.Op._registerDecoder('BitXor', function(json) {\n    return new AV.Op.BitXor(json.value);\n  });\n\n  /**\n   * @private\n   * @class\n   * Add is an atomic operation where the given objects will be appended to the\n   * array that is stored in this field.\n   */\n  AV.Op.Add = AV.Op._extend(\n    /** @lends AV.Op.Add.prototype */ {\n      _initialize: function(objects) {\n        this._objects = objects;\n      },\n\n      /**\n       * Returns the objects to be added to the array.\n       * @return {Array} The objects to be added to the array.\n       */\n      objects: function() {\n        return this._objects;\n      },\n\n      /**\n       * Returns a JSON version of the operation suitable for sending to AV.\n       * @return {Object}\n       */\n      toJSON: function() {\n        return { __op: 'Add', objects: AV._encode(this.objects()) };\n      },\n\n      _mergeWithPrevious: function(previous) {\n        if (!previous) {\n          return this;\n        } else if (previous instanceof AV.Op.Unset) {\n          return new AV.Op.Set(this.objects());\n        } else if (previous instanceof AV.Op.Set) {\n          return new AV.Op.Set(this._estimate(previous.value()));\n        } else if (previous instanceof AV.Op.Add) {\n          return new AV.Op.Add(previous.objects().concat(this.objects()));\n        } else {\n          throw new Error('Op is invalid after previous op.');\n        }\n      },\n\n      _estimate: function(oldValue) {\n        if (!oldValue) {\n          return _.clone(this.objects());\n        } else {\n          return oldValue.concat(this.objects());\n        }\n      },\n    }\n  );\n\n  AV.Op._registerDecoder('Add', function(json) {\n    return new AV.Op.Add(AV._decode(json.objects));\n  });\n\n  /**\n   * @private\n   * @class\n   * AddUnique is an atomic operation where the given items will be appended to\n   * the array that is stored in this field only if they were not already\n   * present in the array.\n   */\n  AV.Op.AddUnique = AV.Op._extend(\n    /** @lends AV.Op.AddUnique.prototype */ {\n      _initialize: function(objects) {\n        this._objects = _.uniq(objects);\n      },\n\n      /**\n       * Returns the objects to be added to the array.\n       * @return {Array} The objects to be added to the array.\n       */\n      objects: function() {\n        return this._objects;\n      },\n\n      /**\n       * Returns a JSON version of the operation suitable for sending to AV.\n       * @return {Object}\n       */\n      toJSON: function() {\n        return { __op: 'AddUnique', objects: AV._encode(this.objects()) };\n      },\n\n      _mergeWithPrevious: function(previous) {\n        if (!previous) {\n          return this;\n        } else if (previous instanceof AV.Op.Unset) {\n          return new AV.Op.Set(this.objects());\n        } else if (previous instanceof AV.Op.Set) {\n          return new AV.Op.Set(this._estimate(previous.value()));\n        } else if (previous instanceof AV.Op.AddUnique) {\n          return new AV.Op.AddUnique(this._estimate(previous.objects()));\n        } else {\n          throw new Error('Op is invalid after previous op.');\n        }\n      },\n\n      _estimate: function(oldValue) {\n        if (!oldValue) {\n          return _.clone(this.objects());\n        } else {\n          // We can't just take the _.uniq(_.union(...)) of oldValue and\n          // this.objects, because the uniqueness may not apply to oldValue\n          // (especially if the oldValue was set via .set())\n          var newValue = _.clone(oldValue);\n          AV._arrayEach(this.objects(), function(obj) {\n            if (obj instanceof AV.Object && obj.id) {\n              var matchingObj = _.find(newValue, function(anObj) {\n                return anObj instanceof AV.Object && anObj.id === obj.id;\n              });\n              if (!matchingObj) {\n                newValue.push(obj);\n              } else {\n                var index = _.indexOf(newValue, matchingObj);\n                newValue[index] = obj;\n              }\n            } else if (!_.contains(newValue, obj)) {\n              newValue.push(obj);\n            }\n          });\n          return newValue;\n        }\n      },\n    }\n  );\n\n  AV.Op._registerDecoder('AddUnique', function(json) {\n    return new AV.Op.AddUnique(AV._decode(json.objects));\n  });\n\n  /**\n   * @private\n   * @class\n   * Remove is an atomic operation where the given objects will be removed from\n   * the array that is stored in this field.\n   */\n  AV.Op.Remove = AV.Op._extend(\n    /** @lends AV.Op.Remove.prototype */ {\n      _initialize: function(objects) {\n        this._objects = _.uniq(objects);\n      },\n\n      /**\n       * Returns the objects to be removed from the array.\n       * @return {Array} The objects to be removed from the array.\n       */\n      objects: function() {\n        return this._objects;\n      },\n\n      /**\n       * Returns a JSON version of the operation suitable for sending to AV.\n       * @return {Object}\n       */\n      toJSON: function() {\n        return { __op: 'Remove', objects: AV._encode(this.objects()) };\n      },\n\n      _mergeWithPrevious: function(previous) {\n        if (!previous) {\n          return this;\n        } else if (previous instanceof AV.Op.Unset) {\n          return previous;\n        } else if (previous instanceof AV.Op.Set) {\n          return new AV.Op.Set(this._estimate(previous.value()));\n        } else if (previous instanceof AV.Op.Remove) {\n          return new AV.Op.Remove(_.union(previous.objects(), this.objects()));\n        } else {\n          throw new Error('Op is invalid after previous op.');\n        }\n      },\n\n      _estimate: function(oldValue) {\n        if (!oldValue) {\n          return [];\n        } else {\n          var newValue = _.difference(oldValue, this.objects());\n          // If there are saved AV Objects being removed, also remove them.\n          AV._arrayEach(this.objects(), function(obj) {\n            if (obj instanceof AV.Object && obj.id) {\n              newValue = _.reject(newValue, function(other) {\n                return other instanceof AV.Object && other.id === obj.id;\n              });\n            }\n          });\n          return newValue;\n        }\n      },\n    }\n  );\n\n  AV.Op._registerDecoder('Remove', function(json) {\n    return new AV.Op.Remove(AV._decode(json.objects));\n  });\n\n  /**\n   * @private\n   * @class\n   * A Relation operation indicates that the field is an instance of\n   * AV.Relation, and objects are being added to, or removed from, that\n   * relation.\n   */\n  AV.Op.Relation = AV.Op._extend(\n    /** @lends AV.Op.Relation.prototype */ {\n      _initialize: function(adds, removes) {\n        this._targetClassName = null;\n\n        var self = this;\n\n        var pointerToId = function(object) {\n          if (object instanceof AV.Object) {\n            if (!object.id) {\n              throw new Error(\n                \"You can't add an unsaved AV.Object to a relation.\"\n              );\n            }\n            if (!self._targetClassName) {\n              self._targetClassName = object.className;\n            }\n            if (self._targetClassName !== object.className) {\n              throw new Error(\n                'Tried to create a AV.Relation with 2 different types: ' +\n                  self._targetClassName +\n                  ' and ' +\n                  object.className +\n                  '.'\n              );\n            }\n            return object.id;\n          }\n          return object;\n        };\n\n        this.relationsToAdd = _.uniq(_.map(adds, pointerToId));\n        this.relationsToRemove = _.uniq(_.map(removes, pointerToId));\n      },\n\n      /**\n       * Returns an array of unfetched AV.Object that are being added to the\n       * relation.\n       * @return {Array}\n       */\n      added: function() {\n        var self = this;\n        return _.map(this.relationsToAdd, function(objectId) {\n          var object = AV.Object._create(self._targetClassName);\n          object.id = objectId;\n          return object;\n        });\n      },\n\n      /**\n       * Returns an array of unfetched AV.Object that are being removed from\n       * the relation.\n       * @return {Array}\n       */\n      removed: function() {\n        var self = this;\n        return _.map(this.relationsToRemove, function(objectId) {\n          var object = AV.Object._create(self._targetClassName);\n          object.id = objectId;\n          return object;\n        });\n      },\n\n      /**\n       * Returns a JSON version of the operation suitable for sending to AV.\n       * @return {Object}\n       */\n      toJSON: function() {\n        var adds = null;\n        var removes = null;\n        var self = this;\n        var idToPointer = function(id) {\n          return {\n            __type: 'Pointer',\n            className: self._targetClassName,\n            objectId: id,\n          };\n        };\n        var pointers = null;\n        if (this.relationsToAdd.length > 0) {\n          pointers = _.map(this.relationsToAdd, idToPointer);\n          adds = { __op: 'AddRelation', objects: pointers };\n        }\n\n        if (this.relationsToRemove.length > 0) {\n          pointers = _.map(this.relationsToRemove, idToPointer);\n          removes = { __op: 'RemoveRelation', objects: pointers };\n        }\n\n        if (adds && removes) {\n          return { __op: 'Batch', ops: [adds, removes] };\n        }\n\n        return adds || removes || {};\n      },\n\n      _mergeWithPrevious: function(previous) {\n        if (!previous) {\n          return this;\n        } else if (previous instanceof AV.Op.Unset) {\n          throw new Error(\"You can't modify a relation after deleting it.\");\n        } else if (previous instanceof AV.Op.Relation) {\n          if (\n            previous._targetClassName &&\n            previous._targetClassName !== this._targetClassName\n          ) {\n            throw new Error(\n              'Related object must be of class ' +\n                previous._targetClassName +\n                ', but ' +\n                this._targetClassName +\n                ' was passed in.'\n            );\n          }\n          var newAdd = _.union(\n            _.difference(previous.relationsToAdd, this.relationsToRemove),\n            this.relationsToAdd\n          );\n          var newRemove = _.union(\n            _.difference(previous.relationsToRemove, this.relationsToAdd),\n            this.relationsToRemove\n          );\n\n          var newRelation = new AV.Op.Relation(newAdd, newRemove);\n          newRelation._targetClassName = this._targetClassName;\n          return newRelation;\n        } else {\n          throw new Error('Op is invalid after previous op.');\n        }\n      },\n\n      _estimate: function(oldValue, object, key) {\n        if (!oldValue) {\n          var relation = new AV.Relation(object, key);\n          relation.targetClassName = this._targetClassName;\n        } else if (oldValue instanceof AV.Relation) {\n          if (this._targetClassName) {\n            if (oldValue.targetClassName) {\n              if (oldValue.targetClassName !== this._targetClassName) {\n                throw new Error(\n                  'Related object must be a ' +\n                    oldValue.targetClassName +\n                    ', but a ' +\n                    this._targetClassName +\n                    ' was passed in.'\n                );\n              }\n            } else {\n              oldValue.targetClassName = this._targetClassName;\n            }\n          }\n          return oldValue;\n        } else {\n          throw new Error('Op is invalid after previous op.');\n        }\n      },\n    }\n  );\n\n  AV.Op._registerDecoder('AddRelation', function(json) {\n    return new AV.Op.Relation(AV._decode(json.objects), []);\n  });\n  AV.Op._registerDecoder('RemoveRelation', function(json) {\n    return new AV.Op.Relation([], AV._decode(json.objects));\n  });\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/op.js","var _ = require('underscore');\n\nmodule.exports = function(AV) {\n  /**\n   * Creates a new Relation for the given parent object and key. This\n   * constructor should rarely be used directly, but rather created by\n   * {@link AV.Object#relation}.\n   * @param {AV.Object} parent The parent of this relation.\n   * @param {String} key The key for this relation on the parent.\n   * @see AV.Object#relation\n   * @class\n   *\n   * <p>\n   * A class that is used to access all of the children of a many-to-many\n   * relationship.  Each instance of AV.Relation is associated with a\n   * particular parent object and key.\n   * </p>\n   */\n  AV.Relation = function(parent, key) {\n    if (!_.isString(key)) {\n      throw new TypeError('key must be a string');\n    }\n    this.parent = parent;\n    this.key = key;\n    this.targetClassName = null;\n  };\n\n  /**\n   * Creates a query that can be used to query the parent objects in this relation.\n   * @param {String} parentClass The parent class or name.\n   * @param {String} relationKey The relation field key in parent.\n   * @param {AV.Object} child The child object.\n   * @return {AV.Query}\n   */\n  AV.Relation.reverseQuery = function(parentClass, relationKey, child) {\n    var query = new AV.Query(parentClass);\n    query.equalTo(relationKey, child._toPointer());\n    return query;\n  };\n\n  _.extend(\n    AV.Relation.prototype,\n    /** @lends AV.Relation.prototype */ {\n      /**\n       * Makes sure that this relation has the right parent and key.\n       * @private\n       */\n      _ensureParentAndKey: function(parent, key) {\n        this.parent = this.parent || parent;\n        this.key = this.key || key;\n        if (this.parent !== parent) {\n          throw new Error(\n            'Internal Error. Relation retrieved from two different Objects.'\n          );\n        }\n        if (this.key !== key) {\n          throw new Error(\n            'Internal Error. Relation retrieved from two different keys.'\n          );\n        }\n      },\n\n      /**\n       * Adds a AV.Object or an array of AV.Objects to the relation.\n       * @param {AV.Object|AV.Object[]} objects The item or items to add.\n       */\n      add: function(objects) {\n        if (!_.isArray(objects)) {\n          objects = [objects];\n        }\n\n        var change = new AV.Op.Relation(objects, []);\n        this.parent.set(this.key, change);\n        this.targetClassName = change._targetClassName;\n      },\n\n      /**\n       * Removes a AV.Object or an array of AV.Objects from this relation.\n       * @param {AV.Object|AV.Object[]} objects The item or items to remove.\n       */\n      remove: function(objects) {\n        if (!_.isArray(objects)) {\n          objects = [objects];\n        }\n\n        var change = new AV.Op.Relation([], objects);\n        this.parent.set(this.key, change);\n        this.targetClassName = change._targetClassName;\n      },\n\n      /**\n       * Returns a JSON version of the object suitable for saving to disk.\n       * @return {Object}\n       */\n      toJSON: function() {\n        return { __type: 'Relation', className: this.targetClassName };\n      },\n\n      /**\n       * Returns a AV.Query that is limited to objects in this\n       * relation.\n       * @return {AV.Query}\n       */\n      query: function() {\n        var targetClass;\n        var query;\n        if (!this.targetClassName) {\n          targetClass = AV.Object._getSubclass(this.parent.className);\n          query = new AV.Query(targetClass);\n          query._defaultParams.redirectClassNameForKey = this.key;\n        } else {\n          targetClass = AV.Object._getSubclass(this.targetClassName);\n          query = new AV.Query(targetClass);\n        }\n        query._addCondition('$relatedTo', 'object', this.parent._toPointer());\n        query._addCondition('$relatedTo', 'key', this.key);\n\n        return query;\n      },\n    }\n  );\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/relation.js","const _ = require('underscore');\nconst cos = require('./uploader/cos');\nconst qiniu = require('./uploader/qiniu');\nconst s3 = require('./uploader/s3');\nconst AVError = require('./error');\nconst AVRequest = require('./request')._request;\nconst { tap, transformFetchOptions } = require('./utils');\nconst debug = require('debug')('leancloud:file');\nconst parseBase64 = require('./utils/parse-base64');\n\nmodule.exports = function(AV) {\n  // port from browserify path module\n  // since react-native packager won't shim node modules.\n  const extname = path => {\n    if (!_.isString(path)) return '';\n    return path.match(\n      /^(\\/?|)([\\s\\S]*?)((?:\\.{1,2}|[^\\/]+?|)(\\.[^.\\/]*|))(?:[\\/]*)$/\n    )[4];\n  };\n\n  const b64Digit = number => {\n    if (number < 26) {\n      return String.fromCharCode(65 + number);\n    }\n    if (number < 52) {\n      return String.fromCharCode(97 + (number - 26));\n    }\n    if (number < 62) {\n      return String.fromCharCode(48 + (number - 52));\n    }\n    if (number === 62) {\n      return '+';\n    }\n    if (number === 63) {\n      return '/';\n    }\n    throw new Error('Tried to encode large digit ' + number + ' in base64.');\n  };\n\n  var encodeBase64 = function(array) {\n    var chunks = [];\n    chunks.length = Math.ceil(array.length / 3);\n    _.times(chunks.length, function(i) {\n      var b1 = array[i * 3];\n      var b2 = array[i * 3 + 1] || 0;\n      var b3 = array[i * 3 + 2] || 0;\n\n      var has2 = i * 3 + 1 < array.length;\n      var has3 = i * 3 + 2 < array.length;\n\n      chunks[i] = [\n        b64Digit((b1 >> 2) & 0x3f),\n        b64Digit(((b1 << 4) & 0x30) | ((b2 >> 4) & 0x0f)),\n        has2 ? b64Digit(((b2 << 2) & 0x3c) | ((b3 >> 6) & 0x03)) : '=',\n        has3 ? b64Digit(b3 & 0x3f) : '=',\n      ].join('');\n    });\n    return chunks.join('');\n  };\n\n  /**\n   * An AV.File is a local representation of a file that is saved to the AV\n   * cloud.\n   * @param name {String} The file's name. This will change to a unique value\n   *     once the file has finished saving.\n   * @param data {Array} The data for the file, as either:\n   *     1. an Array of byte value Numbers, or\n   *     2. an Object like { base64: \"...\" } with a base64-encoded String.\n   *     3. a Blob(File) selected with a file upload control in a browser.\n   *     4. an Object like { blob: {uri: \"...\"} } that mimics Blob\n   *        in some non-browser environments such as React Native.\n   *     5. a Buffer in Node.js runtime.\n   *     6. a Stream in Node.js runtime.\n   *\n   *        For example:<pre>\n   * var fileUploadControl = $(\"#profilePhotoFileUpload\")[0];\n   * if (fileUploadControl.files.length > 0) {\n   *   var file = fileUploadControl.files[0];\n   *   var name = \"photo.jpg\";\n   *   var file = new AV.File(name, file);\n   *   file.save().then(function() {\n   *     // The file has been saved to AV.\n   *   }, function(error) {\n   *     // The file either could not be read, or could not be saved to AV.\n   *   });\n   * }</pre>\n   *\n   * @class\n   * @param [mimeType] {String} Content-Type header to use for the file. If\n   *     this is omitted, the content type will be inferred from the name's\n   *     extension.\n   */\n  AV.File = function(name, data, mimeType) {\n    this.attributes = {\n      name,\n      url: '',\n      metaData: {},\n      //  base64 String\n      base64: '',\n    };\n\n    if (_.isString(data)) {\n      throw new TypeError(\n        'Creating an AV.File from a String is not yet supported.'\n      );\n    }\n    if (_.isArray(data)) {\n      this.attributes.metaData.size = data.length;\n      data = { base64: encodeBase64(data) };\n    }\n\n    this._extName = '';\n    this._data = data;\n    this._uploadHeaders = {};\n\n    if (data && data.blob && typeof data.blob.uri === 'string') {\n      this._extName = extname(data.blob.uri);\n    }\n\n    if (typeof Blob !== 'undefined' && data instanceof Blob) {\n      if (data.size) {\n        this.attributes.metaData.size = data.size;\n      }\n      if (data.name) {\n        this._extName = extname(data.name);\n      }\n    }\n\n\n    let owner;\n    if (data && data.owner) {\n      owner = data.owner;\n    } else if (!AV._config.disableCurrentUser) {\n      try {\n        owner = AV.User.current();\n      } catch (error) {\n        if ('SYNC_API_NOT_AVAILABLE' !== error.code) {\n          throw error;\n        }\n      }\n    }\n\n    this.attributes.metaData.owner = owner ? owner.id : 'unknown';\n\n    this.set('mime_type', mimeType);\n  };\n\n  /**\n   * Creates a fresh AV.File object with exists url for saving to AVOS Cloud.\n   * @param {String} name the file name\n   * @param {String} url the file url.\n   * @param {Object} [metaData] the file metadata object.\n   * @param {String} [type] Content-Type header to use for the file. If\n   *     this is omitted, the content type will be inferred from the name's\n   *     extension.\n   * @return {AV.File} the file object\n   */\n  AV.File.withURL = function(name, url, metaData, type) {\n    if (!name || !url) {\n      throw new Error('Please provide file name and url');\n    }\n    var file = new AV.File(name, null, type);\n    //copy metaData properties to file.\n    if (metaData) {\n      for (var prop in metaData) {\n        if (!file.attributes.metaData[prop])\n          file.attributes.metaData[prop] = metaData[prop];\n      }\n    }\n    file.attributes.url = url;\n    //Mark the file is from external source.\n    file.attributes.metaData.__source = 'external';\n    file.attributes.metaData.size = 0;\n    return file;\n  };\n\n  /**\n   * Creates a file object with exists objectId.\n   * @param {String} objectId The objectId string\n   * @return {AV.File} the file object\n   */\n  AV.File.createWithoutData = function(objectId) {\n    if (!objectId) {\n      throw new TypeError('The objectId must be provided');\n    }\n    var file = new AV.File();\n    file.id = objectId;\n    return file;\n  };\n\n  _.extend(\n    AV.File.prototype,\n    /** @lends AV.File.prototype */ {\n      className: '_File',\n\n      _toFullJSON(seenObjects, full = true) {\n        var json = _.clone(this.attributes);\n        AV._objectEach(json, function(val, key) {\n          json[key] = AV._encode(val, seenObjects, undefined, full);\n        });\n        AV._objectEach(this._operations, function(val, key) {\n          json[key] = val;\n        });\n\n        if (_.has(this, 'id')) {\n          json.objectId = this.id;\n        }\n        ['createdAt', 'updatedAt'].forEach(key => {\n          if (_.has(this, key)) {\n            const val = this[key];\n            json[key] = _.isDate(val) ? val.toJSON() : val;\n          }\n        });\n        if (full) {\n          json.__type = 'File';\n        }\n        return json;\n      },\n\n      /**\n       * Returns a JSON version of the file with meta data.\n       * Inverse to {@link AV.parseJSON}\n       * @since 3.0.0\n       * @return {Object}\n       */\n      toFullJSON(seenObjects = []) {\n        return this._toFullJSON(seenObjects);\n      },\n\n      /**\n       * Returns a JSON version of the object.\n       * @return {Object}\n       */\n      toJSON(key, holder, seenObjects = [this]) {\n        return this._toFullJSON(seenObjects, false);\n      },\n\n      /**\n       * Gets a Pointer referencing this file.\n       * @private\n       */\n      _toPointer() {\n        return {\n          __type: 'Pointer',\n          className: this.className,\n          objectId: this.id,\n        };\n      },\n\n      /**\n       * Returns the ACL for this file.\n       * @returns {AV.ACL} An instance of AV.ACL.\n       */\n      getACL() {\n        return this._acl;\n      },\n\n      /**\n       * Sets the ACL to be used for this file.\n       * @param {AV.ACL} acl An instance of AV.ACL.\n       */\n      setACL(acl) {\n        if (!(acl instanceof AV.ACL)) {\n          return new AVError(AVError.OTHER_CAUSE, 'ACL must be a AV.ACL.');\n        }\n        this._acl = acl;\n        return this;\n      },\n\n      /**\n       * Gets the name of the file. Before save is called, this is the filename\n       * given by the user. After save is called, that name gets prefixed with a\n       * unique identifier.\n       */\n      name() {\n        return this.get('name');\n      },\n\n      /**\n       * Gets the url of the file. It is only available after you save the file or\n       * after you get the file from a AV.Object.\n       * @return {String}\n       */\n      url() {\n        return this.get('url');\n      },\n\n      /**\n       * Gets the attributs of the file object.\n       * @param {String} The attribute name which want to get.\n       * @returns {Any}\n       */\n      get(attrName) {\n        switch (attrName) {\n          case 'objectId':\n            return this.id;\n          case 'url':\n          case 'name':\n          case 'mime_type':\n          case 'metaData':\n          case 'createdAt':\n          case 'updatedAt':\n            return this.attributes[attrName];\n          default:\n            return this.attributes.metaData[attrName];\n        }\n      },\n\n      /**\n       * Set the metaData of the file object.\n       * @param {Object} Object is an key value Object for setting metaData.\n       * @param {String} attr is an optional metadata key.\n       * @param {Object} value is an optional metadata value.\n       * @returns {String|Number|Array|Object}\n       */\n      set(...args) {\n        const set = (attrName, value) => {\n          switch (attrName) {\n            case 'name':\n            case 'url':\n            case 'mime_type':\n            case 'base64':\n            case 'metaData':\n              this.attributes[attrName] = value;\n              break;\n            default:\n              // File  AVObject metaData \n              this.attributes.metaData[attrName] = value;\n              break;\n          }\n        };\n\n        switch (args.length) {\n          case 1:\n            //  Object\n            for (var k in args[0]) {\n              set(k, args[0][k]);\n            }\n            break;\n          case 2:\n            set(args[0], args[1]);\n            break;\n        }\n        return this;\n      },\n\n      /**\n       * Set a header for the upload request.\n       * For more infomation, go to https://url.leanapp.cn/avfile-upload-headers\n       *\n       * @param {String} key header key\n       * @param {String} value header value\n       * @return {AV.File} this\n       */\n      setUploadHeader(key, value) {\n        this._uploadHeaders[key] = value;\n        return this;\n      },\n\n      /**\n       * <p>Returns the file's metadata JSON object if no arguments is given.Returns the\n       * metadata value if a key is given.Set metadata value if key and value are both given.</p>\n       * <p><pre>\n       *  var metadata = file.metaData(); //Get metadata JSON object.\n       *  var size = file.metaData('size');  // Get the size metadata value.\n       *  file.metaData('format', 'jpeg'); //set metadata attribute and value.\n       *</pre></p>\n       * @return {Object} The file's metadata JSON object.\n       * @param {String} attr an optional metadata key.\n       * @param {Object} value an optional metadata value.\n       **/\n      metaData(attr, value) {\n        if (attr && value) {\n          this.attributes.metaData[attr] = value;\n          return this;\n        } else if (attr && !value) {\n          return this.attributes.metaData[attr];\n        } else {\n          return this.attributes.metaData;\n        }\n      },\n\n      /**\n       * URL\n       * @return {String} URL\n       * @param {Number} width \n       * @param {Number} heigth \n       * @param {Number} quality 1-100100\n       * @param {Number} scaleToFit true\n       * @param {String} fmt pngjpeg,gif\n       */\n\n      thumbnailURL(\n        width,\n        height,\n        quality = 100,\n        scaleToFit = true,\n        fmt = 'png'\n      ) {\n        const url = this.attributes.url;\n        if (!url) {\n          throw new Error('Invalid url.');\n        }\n        if (!width || !height || width <= 0 || height <= 0) {\n          throw new Error('Invalid width or height value.');\n        }\n        if (quality <= 0 || quality > 100) {\n          throw new Error('Invalid quality value.');\n        }\n        const mode = scaleToFit ? 2 : 1;\n        return (\n          url +\n          '?imageView/' +\n          mode +\n          '/w/' +\n          width +\n          '/h/' +\n          height +\n          '/q/' +\n          quality +\n          '/format/' +\n          fmt\n        );\n      },\n\n      /**\n       * Returns the file's size.\n       * @return {Number} The file's size in bytes.\n       **/\n      size() {\n        return this.metaData().size;\n      },\n\n      /**\n       * Returns the file's owner.\n       * @return {String} The file's owner id.\n       */\n      ownerId() {\n        return this.metaData().owner;\n      },\n\n      /**\n       * Destroy the file.\n       * @param {AuthOptions} options\n       * @return {Promise} A promise that is fulfilled when the destroy\n       *     completes.\n       */\n      destroy(options) {\n        if (!this.id) {\n          return Promise.reject(new Error('The file id does not eixst.'));\n        }\n        var request = AVRequest(\n          'files',\n          null,\n          this.id,\n          'DELETE',\n          null,\n          options\n        );\n        return request;\n      },\n\n      /**\n       * Request Qiniu upload token\n       * @param {string} type\n       * @return {Promise} Resolved with the response\n       * @private\n       */\n      _fileToken(type, authOptions) {\n        let name = this.attributes.name;\n\n        let extName = extname(name);\n        if (!extName && this._extName) {\n          name += this._extName;\n          extName = this._extName;\n        }\n        const data = {\n          name,\n          keep_file_name: authOptions.keepFileName,\n          key: authOptions.key,\n          ACL: this._acl,\n          mime_type: type,\n          metaData: this.attributes.metaData,\n        };\n        return AVRequest('fileTokens', null, null, 'POST', data, authOptions);\n      },\n\n      /**\n       * @callback UploadProgressCallback\n       * @param {XMLHttpRequestProgressEvent} event - The progress event with 'loaded' and 'total' attributes\n       */\n      /**\n       * Saves the file to the AV cloud.\n       * @param {AuthOptions} [options] AuthOptions plus:\n       * @param {UploadProgressCallback} [options.onprogress]  Node.js  {@link UploadProgressCallback}\n       * @param {boolean} [options.keepFileName = false] \n       * @param {string} [options.key]  key masterKey\n       * @return {Promise} Promise that is resolved when the save finishes.\n       */\n      save(options = {}) {\n        if (this.id) {\n          throw new Error('File is already saved.');\n        }\n        if (!this._previousSave) {\n          if (this._data) {\n            let mimeType = this.get('mime_type');\n            this._previousSave = this._fileToken(mimeType, options).then(\n              uploadInfo => {\n                if (uploadInfo.mime_type) {\n                  mimeType = uploadInfo.mime_type;\n                  this.set('mime_type', mimeType);\n                }\n                this._token = uploadInfo.token;\n                return Promise.resolve()\n                  .then(() => {\n                    const data = this._data;\n                    if (data && data.base64) {\n                      return parseBase64(data.base64, mimeType);\n                    }\n                    if (data && data.blob) {\n                      if (!data.blob.type && mimeType) {\n                        data.blob.type = mimeType;\n                      }\n                      if (!data.blob.name) {\n                        data.blob.name = this.get('name');\n                      }\n                      return data.blob;\n                    }\n                    if (typeof Blob !== 'undefined' && data instanceof Blob) {\n                      return data;\n                    }\n                    throw new TypeError('malformed file data');\n                  })\n                  .then(data => {\n                    const _options = _.extend({}, options);\n                    // filter out download progress events\n                    if (options.onprogress) {\n                      _options.onprogress = event => {\n                        if (event.direction === 'download') return;\n                        return options.onprogress(event);\n                      };\n                    }\n                    switch (uploadInfo.provider) {\n                      case 's3':\n                        return s3(uploadInfo, data, this, _options);\n                      case 'qcloud':\n                        return cos(uploadInfo, data, this, _options);\n                      case 'qiniu':\n                      default:\n                        return qiniu(uploadInfo, data, this, _options);\n                    }\n                  })\n                  .then(tap(() => this._callback(true)), error => {\n                    this._callback(false);\n                    throw error;\n                  });\n              }\n            );\n          } else if (\n            this.attributes.url &&\n            this.attributes.metaData.__source === 'external'\n          ) {\n            // external link file.\n            const data = {\n              name: this.attributes.name,\n              ACL: this._acl,\n              metaData: this.attributes.metaData,\n              mime_type: this.mimeType,\n              url: this.attributes.url,\n            };\n            this._previousSave = AVRequest(\n              'files',\n              null,\n              null,\n              'post',\n              data,\n              options\n            ).then(response => {\n              this.id = response.objectId;\n              return this;\n            });\n          }\n        }\n        return this._previousSave;\n      },\n\n      _callback(success) {\n        AVRequest('fileCallback', null, null, 'post', {\n          token: this._token,\n          result: success,\n        }).catch(debug);\n        delete this._token;\n        delete this._data;\n      },\n\n      /**\n       * fetch the file from server. If the server's representation of the\n       * model differs from its current attributes, they will be overriden,\n       * @param {Object} fetchOptions Optional options to set 'keys',\n       *      'include' and 'includeACL' option.\n       * @param {AuthOptions} options\n       * @return {Promise} A promise that is fulfilled when the fetch\n       *     completes.\n       */\n      fetch(fetchOptions, options) {\n        if (!this.id) {\n          throw new Error('Cannot fetch unsaved file');\n        }\n        var request = AVRequest(\n          'files',\n          null,\n          this.id,\n          'GET',\n          transformFetchOptions(fetchOptions),\n          options\n        );\n        return request.then(this._finishFetch.bind(this));\n      },\n      _finishFetch(response) {\n        var value = AV.Object.prototype.parse(response);\n        value.attributes = {\n          name: value.name,\n          url: value.url,\n          mime_type: value.mime_type,\n          bucket: value.bucket,\n        };\n        value.attributes.metaData = value.metaData || {};\n        value.id = value.objectId;\n        // clean\n        delete value.objectId;\n        delete value.metaData;\n        delete value.url;\n        delete value.name;\n        delete value.mime_type;\n        delete value.bucket;\n        _.extend(this, value);\n        return this;\n      },\n    }\n  );\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/file.js","const { getAdapter } = require('../adapter');\nconst debug = require('debug')('cos');\n\nmodule.exports = function(uploadInfo, data, file, saveOptions = {}) {\n  const url =\n    uploadInfo.upload_url + '?sign=' + encodeURIComponent(uploadInfo.token);\n  const fileFormData = {\n    field: 'fileContent',\n    data,\n    name: file.attributes.name,\n  };\n  const options = {\n    headers: file._uploadHeaders,\n    data: {\n      op: 'upload',\n    },\n    onprogress: saveOptions.onprogress,\n  };\n  debug('url: %s, file: %o, options: %o', url, fileFormData, options);\n  const upload = getAdapter('upload');\n  return upload(url, fileFormData, options).then(\n    response => {\n      debug(response.status, response.data);\n      if (response.ok === false) {\n        const error = new Error(response.status);\n        error.response = response;\n        throw error;\n      }\n      file.attributes.url = uploadInfo.url;\n      file._bucket = uploadInfo.bucket;\n      file.id = uploadInfo.objectId;\n      return file;\n    },\n    error => {\n      const { response } = error;\n      if (response) {\n        debug(response.status, response.data);\n        error.statusCode = response.status;\n        error.response = response.data;\n      }\n      throw error;\n    }\n  );\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/uploader/cos.js","const { getAdapter } = require('../adapter');\nconst debug = require('debug')('leancloud:qiniu');\n\nmodule.exports = function(uploadInfo, data, file, saveOptions = {}) {\n  // Get the uptoken to upload files to qiniu.\n  const uptoken = uploadInfo.token;\n  const url = uploadInfo.upload_url || 'https://upload.qiniup.com';\n  const fileFormData = {\n    field: 'file',\n    data,\n    name: file.attributes.name,\n  };\n  const options = {\n    headers: file._uploadHeaders,\n    data: {\n      name: file.attributes.name,\n      key: uploadInfo.key,\n      token: uptoken,\n    },\n    onprogress: saveOptions.onprogress,\n  };\n  debug('url: %s, file: %o, options: %o', url, fileFormData, options);\n  const upload = getAdapter('upload');\n  return upload(url, fileFormData, options).then(\n    response => {\n      debug(response.status, response.data);\n      if (response.ok === false) {\n        let message = response.status;\n        if (response.data) {\n          if (response.data.error) {\n            message = response.data.error;\n          } else {\n            message = JSON.stringify(response.data);\n          }\n        }\n        const error = new Error(message);\n        error.response = response;\n        throw error;\n      }\n      file.attributes.url = uploadInfo.url;\n      file._bucket = uploadInfo.bucket;\n      file.id = uploadInfo.objectId;\n      return file;\n    },\n    error => {\n      const { response } = error;\n      if (response) {\n        debug(response.status, response.data);\n        error.statusCode = response.status;\n        error.response = response.data;\n      }\n      throw error;\n    }\n  );\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/uploader/qiniu.js","const _ = require('underscore');\nconst ajax = require('../utils/ajax');\n\nmodule.exports = function upload(uploadInfo, data, file, saveOptions = {}) {\n\n  return ajax({\n    url: uploadInfo.upload_url,\n    method: 'PUT',\n    data,\n    headers: _.extend(\n      {\n        'Content-Type': file.get('mime_type'),\n        'Cache-Control': 'public, max-age=31536000',\n      },\n      file._uploadHeaders\n    ),\n    onprogress: saveOptions.onprogress,\n  }).then(() => {\n    file.attributes.url = uploadInfo.url;\n    file._bucket = uploadInfo.bucket;\n    file.id = uploadInfo.objectId;\n    return file;\n  });\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/uploader/s3.js","(function(){\r\n  var crypt = require('crypt'),\r\n      utf8 = require('charenc').utf8,\r\n      isBuffer = require('is-buffer'),\r\n      bin = require('charenc').bin,\r\n\r\n  // The core\r\n  md5 = function (message, options) {\r\n    // Convert to byte array\r\n    if (message.constructor == String)\r\n      if (options && options.encoding === 'binary')\r\n        message = bin.stringToBytes(message);\r\n      else\r\n        message = utf8.stringToBytes(message);\r\n    else if (isBuffer(message))\r\n      message = Array.prototype.slice.call(message, 0);\r\n    else if (!Array.isArray(message))\r\n      message = message.toString();\r\n    // else, assume byte array already\r\n\r\n    var m = crypt.bytesToWords(message),\r\n        l = message.length * 8,\r\n        a =  1732584193,\r\n        b = -271733879,\r\n        c = -1732584194,\r\n        d =  271733878;\r\n\r\n    // Swap endian\r\n    for (var i = 0; i < m.length; i++) {\r\n      m[i] = ((m[i] <<  8) | (m[i] >>> 24)) & 0x00FF00FF |\r\n             ((m[i] << 24) | (m[i] >>>  8)) & 0xFF00FF00;\r\n    }\r\n\r\n    // Padding\r\n    m[l >>> 5] |= 0x80 << (l % 32);\r\n    m[(((l + 64) >>> 9) << 4) + 14] = l;\r\n\r\n    // Method shortcuts\r\n    var FF = md5._ff,\r\n        GG = md5._gg,\r\n        HH = md5._hh,\r\n        II = md5._ii;\r\n\r\n    for (var i = 0; i < m.length; i += 16) {\r\n\r\n      var aa = a,\r\n          bb = b,\r\n          cc = c,\r\n          dd = d;\r\n\r\n      a = FF(a, b, c, d, m[i+ 0],  7, -680876936);\r\n      d = FF(d, a, b, c, m[i+ 1], 12, -389564586);\r\n      c = FF(c, d, a, b, m[i+ 2], 17,  606105819);\r\n      b = FF(b, c, d, a, m[i+ 3], 22, -1044525330);\r\n      a = FF(a, b, c, d, m[i+ 4],  7, -176418897);\r\n      d = FF(d, a, b, c, m[i+ 5], 12,  1200080426);\r\n      c = FF(c, d, a, b, m[i+ 6], 17, -1473231341);\r\n      b = FF(b, c, d, a, m[i+ 7], 22, -45705983);\r\n      a = FF(a, b, c, d, m[i+ 8],  7,  1770035416);\r\n      d = FF(d, a, b, c, m[i+ 9], 12, -1958414417);\r\n      c = FF(c, d, a, b, m[i+10], 17, -42063);\r\n      b = FF(b, c, d, a, m[i+11], 22, -1990404162);\r\n      a = FF(a, b, c, d, m[i+12],  7,  1804603682);\r\n      d = FF(d, a, b, c, m[i+13], 12, -40341101);\r\n      c = FF(c, d, a, b, m[i+14], 17, -1502002290);\r\n      b = FF(b, c, d, a, m[i+15], 22,  1236535329);\r\n\r\n      a = GG(a, b, c, d, m[i+ 1],  5, -165796510);\r\n      d = GG(d, a, b, c, m[i+ 6],  9, -1069501632);\r\n      c = GG(c, d, a, b, m[i+11], 14,  643717713);\r\n      b = GG(b, c, d, a, m[i+ 0], 20, -373897302);\r\n      a = GG(a, b, c, d, m[i+ 5],  5, -701558691);\r\n      d = GG(d, a, b, c, m[i+10],  9,  38016083);\r\n      c = GG(c, d, a, b, m[i+15], 14, -660478335);\r\n      b = GG(b, c, d, a, m[i+ 4], 20, -405537848);\r\n      a = GG(a, b, c, d, m[i+ 9],  5,  568446438);\r\n      d = GG(d, a, b, c, m[i+14],  9, -1019803690);\r\n      c = GG(c, d, a, b, m[i+ 3], 14, -187363961);\r\n      b = GG(b, c, d, a, m[i+ 8], 20,  1163531501);\r\n      a = GG(a, b, c, d, m[i+13],  5, -1444681467);\r\n      d = GG(d, a, b, c, m[i+ 2],  9, -51403784);\r\n      c = GG(c, d, a, b, m[i+ 7], 14,  1735328473);\r\n      b = GG(b, c, d, a, m[i+12], 20, -1926607734);\r\n\r\n      a = HH(a, b, c, d, m[i+ 5],  4, -378558);\r\n      d = HH(d, a, b, c, m[i+ 8], 11, -2022574463);\r\n      c = HH(c, d, a, b, m[i+11], 16,  1839030562);\r\n      b = HH(b, c, d, a, m[i+14], 23, -35309556);\r\n      a = HH(a, b, c, d, m[i+ 1],  4, -1530992060);\r\n      d = HH(d, a, b, c, m[i+ 4], 11,  1272893353);\r\n      c = HH(c, d, a, b, m[i+ 7], 16, -155497632);\r\n      b = HH(b, c, d, a, m[i+10], 23, -1094730640);\r\n      a = HH(a, b, c, d, m[i+13],  4,  681279174);\r\n      d = HH(d, a, b, c, m[i+ 0], 11, -358537222);\r\n      c = HH(c, d, a, b, m[i+ 3], 16, -722521979);\r\n      b = HH(b, c, d, a, m[i+ 6], 23,  76029189);\r\n      a = HH(a, b, c, d, m[i+ 9],  4, -640364487);\r\n      d = HH(d, a, b, c, m[i+12], 11, -421815835);\r\n      c = HH(c, d, a, b, m[i+15], 16,  530742520);\r\n      b = HH(b, c, d, a, m[i+ 2], 23, -995338651);\r\n\r\n      a = II(a, b, c, d, m[i+ 0],  6, -198630844);\r\n      d = II(d, a, b, c, m[i+ 7], 10,  1126891415);\r\n      c = II(c, d, a, b, m[i+14], 15, -1416354905);\r\n      b = II(b, c, d, a, m[i+ 5], 21, -57434055);\r\n      a = II(a, b, c, d, m[i+12],  6,  1700485571);\r\n      d = II(d, a, b, c, m[i+ 3], 10, -1894986606);\r\n      c = II(c, d, a, b, m[i+10], 15, -1051523);\r\n      b = II(b, c, d, a, m[i+ 1], 21, -2054922799);\r\n      a = II(a, b, c, d, m[i+ 8],  6,  1873313359);\r\n      d = II(d, a, b, c, m[i+15], 10, -30611744);\r\n      c = II(c, d, a, b, m[i+ 6], 15, -1560198380);\r\n      b = II(b, c, d, a, m[i+13], 21,  1309151649);\r\n      a = II(a, b, c, d, m[i+ 4],  6, -145523070);\r\n      d = II(d, a, b, c, m[i+11], 10, -1120210379);\r\n      c = II(c, d, a, b, m[i+ 2], 15,  718787259);\r\n      b = II(b, c, d, a, m[i+ 9], 21, -343485551);\r\n\r\n      a = (a + aa) >>> 0;\r\n      b = (b + bb) >>> 0;\r\n      c = (c + cc) >>> 0;\r\n      d = (d + dd) >>> 0;\r\n    }\r\n\r\n    return crypt.endian([a, b, c, d]);\r\n  };\r\n\r\n  // Auxiliary functions\r\n  md5._ff  = function (a, b, c, d, x, s, t) {\r\n    var n = a + (b & c | ~b & d) + (x >>> 0) + t;\r\n    return ((n << s) | (n >>> (32 - s))) + b;\r\n  };\r\n  md5._gg  = function (a, b, c, d, x, s, t) {\r\n    var n = a + (b & d | c & ~d) + (x >>> 0) + t;\r\n    return ((n << s) | (n >>> (32 - s))) + b;\r\n  };\r\n  md5._hh  = function (a, b, c, d, x, s, t) {\r\n    var n = a + (b ^ c ^ d) + (x >>> 0) + t;\r\n    return ((n << s) | (n >>> (32 - s))) + b;\r\n  };\r\n  md5._ii  = function (a, b, c, d, x, s, t) {\r\n    var n = a + (c ^ (b | ~d)) + (x >>> 0) + t;\r\n    return ((n << s) | (n >>> (32 - s))) + b;\r\n  };\r\n\r\n  // Package private blocksize\r\n  md5._blocksize = 16;\r\n  md5._digestsize = 16;\r\n\r\n  module.exports = function (message, options) {\r\n    if (message === undefined || message === null)\r\n      throw new Error('Illegal argument ' + message);\r\n\r\n    var digestbytes = crypt.wordsToBytes(md5(message, options));\r\n    return options && options.asBytes ? digestbytes :\r\n        options && options.asString ? bin.bytesToString(digestbytes) :\r\n        crypt.bytesToHex(digestbytes);\r\n  };\r\n\r\n})();\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/md5/md5.js\n// module id = 135\n// module chunks = 0 1","(function() {\n  var base64map\n      = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/',\n\n  crypt = {\n    // Bit-wise rotation left\n    rotl: function(n, b) {\n      return (n << b) | (n >>> (32 - b));\n    },\n\n    // Bit-wise rotation right\n    rotr: function(n, b) {\n      return (n << (32 - b)) | (n >>> b);\n    },\n\n    // Swap big-endian to little-endian and vice versa\n    endian: function(n) {\n      // If number given, swap endian\n      if (n.constructor == Number) {\n        return crypt.rotl(n, 8) & 0x00FF00FF | crypt.rotl(n, 24) & 0xFF00FF00;\n      }\n\n      // Else, assume array and swap all items\n      for (var i = 0; i < n.length; i++)\n        n[i] = crypt.endian(n[i]);\n      return n;\n    },\n\n    // Generate an array of any length of random bytes\n    randomBytes: function(n) {\n      for (var bytes = []; n > 0; n--)\n        bytes.push(Math.floor(Math.random() * 256));\n      return bytes;\n    },\n\n    // Convert a byte array to big-endian 32-bit words\n    bytesToWords: function(bytes) {\n      for (var words = [], i = 0, b = 0; i < bytes.length; i++, b += 8)\n        words[b >>> 5] |= bytes[i] << (24 - b % 32);\n      return words;\n    },\n\n    // Convert big-endian 32-bit words to a byte array\n    wordsToBytes: function(words) {\n      for (var bytes = [], b = 0; b < words.length * 32; b += 8)\n        bytes.push((words[b >>> 5] >>> (24 - b % 32)) & 0xFF);\n      return bytes;\n    },\n\n    // Convert a byte array to a hex string\n    bytesToHex: function(bytes) {\n      for (var hex = [], i = 0; i < bytes.length; i++) {\n        hex.push((bytes[i] >>> 4).toString(16));\n        hex.push((bytes[i] & 0xF).toString(16));\n      }\n      return hex.join('');\n    },\n\n    // Convert a hex string to a byte array\n    hexToBytes: function(hex) {\n      for (var bytes = [], c = 0; c < hex.length; c += 2)\n        bytes.push(parseInt(hex.substr(c, 2), 16));\n      return bytes;\n    },\n\n    // Convert a byte array to a base-64 string\n    bytesToBase64: function(bytes) {\n      for (var base64 = [], i = 0; i < bytes.length; i += 3) {\n        var triplet = (bytes[i] << 16) | (bytes[i + 1] << 8) | bytes[i + 2];\n        for (var j = 0; j < 4; j++)\n          if (i * 8 + j * 6 <= bytes.length * 8)\n            base64.push(base64map.charAt((triplet >>> 6 * (3 - j)) & 0x3F));\n          else\n            base64.push('=');\n      }\n      return base64.join('');\n    },\n\n    // Convert a base-64 string to a byte array\n    base64ToBytes: function(base64) {\n      // Remove non-base-64 characters\n      base64 = base64.replace(/[^A-Z0-9+\\/]/ig, '');\n\n      for (var bytes = [], i = 0, imod4 = 0; i < base64.length;\n          imod4 = ++i % 4) {\n        if (imod4 == 0) continue;\n        bytes.push(((base64map.indexOf(base64.charAt(i - 1))\n            & (Math.pow(2, -2 * imod4 + 8) - 1)) << (imod4 * 2))\n            | (base64map.indexOf(base64.charAt(i)) >>> (6 - imod4 * 2)));\n      }\n      return bytes;\n    }\n  };\n\n  module.exports = crypt;\n})();\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/crypt/crypt.js\n// module id = 136\n// module chunks = 0 1","/*!\n * Determine if an object is a Buffer\n *\n * @author   Feross Aboukhadijeh <https://feross.org>\n * @license  MIT\n */\n\n// The _isBuffer check is for Safari 5-7 support, because it's missing\n// Object.prototype.constructor. Remove this eventually\nmodule.exports = function (obj) {\n  return obj != null && (isBuffer(obj) || isSlowBuffer(obj) || !!obj._isBuffer)\n}\n\nfunction isBuffer (obj) {\n  return !!obj.constructor && typeof obj.constructor.isBuffer === 'function' && obj.constructor.isBuffer(obj)\n}\n\n// For Node v0.10 support. Remove this eventually.\nfunction isSlowBuffer (obj) {\n  return typeof obj.readFloatLE === 'function' && typeof obj.slice === 'function' && isBuffer(obj.slice(0, 0))\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/is-buffer/index.js\n// module id = 137\n// module chunks = 0 1","var dataURItoBlob = function(dataURI, type) {\n  var byteString;\n\n  //  base64 dataURL\n  if (dataURI.indexOf('base64') < 0) {\n    byteString = atob(dataURI);\n  } else if (dataURI.split(',')[0].indexOf('base64') >= 0) {\n    type =\n      type ||\n      dataURI\n        .split(',')[0]\n        .split(':')[1]\n        .split(';')[0];\n    byteString = atob(dataURI.split(',')[1]);\n  } else {\n    byteString = unescape(dataURI.split(',')[1]);\n  }\n  var ia = new Uint8Array(byteString.length);\n  for (var i = 0; i < byteString.length; i++) {\n    ia[i] = byteString.charCodeAt(i);\n  }\n  return new Blob([ia], { type });\n};\n\nmodule.exports = dataURItoBlob;\n\n\n\n// WEBPACK FOOTER //\n// ./src/utils/parse-base64-browser.js","const _ = require('underscore');\nconst AVError = require('./error');\nconst { _request } = require('./request');\nconst {\n  isNullOrUndefined,\n  ensureArray,\n  transformFetchOptions,\n  setValue,\n  findValue,\n  isPlainObject,\n  continueWhile,\n} = require('./utils');\n\nconst recursiveToPointer = value => {\n  if (_.isArray(value)) return value.map(recursiveToPointer);\n  if (isPlainObject(value)) return _.mapObject(value, recursiveToPointer);\n  if (_.isObject(value) && value._toPointer) return value._toPointer();\n  return value;\n};\n\nconst RESERVED_KEYS = ['objectId', 'createdAt', 'updatedAt'];\nconst checkReservedKey = key => {\n  if (RESERVED_KEYS.indexOf(key) !== -1) {\n    throw new Error(`key[${key}] is reserved`);\n  }\n};\n\nconst handleBatchResults = results => {\n  const firstError = _.find(results, result => result instanceof Error);\n  if (!firstError) {\n    return results;\n  }\n  const error = new AVError(firstError.code, firstError.message);\n  error.results = results;\n  throw error;\n};\n\n// Helper function to get a value from a Backbone object as a property\n// or as a function.\nfunction getValue(object, prop) {\n  if (!(object && object[prop])) {\n    return null;\n  }\n  return _.isFunction(object[prop]) ? object[prop]() : object[prop];\n}\n\n// AV.Object is analogous to the Java AVObject.\n// It also implements the same interface as a Backbone model.\n\nmodule.exports = function(AV) {\n  /**\n   * Creates a new model with defined attributes. A client id (cid) is\n   * automatically generated and assigned for you.\n   *\n   * <p>You won't normally call this method directly.  It is recommended that\n   * you use a subclass of <code>AV.Object</code> instead, created by calling\n   * <code>extend</code>.</p>\n   *\n   * <p>However, if you don't want to use a subclass, or aren't sure which\n   * subclass is appropriate, you can use this form:<pre>\n   *     var object = new AV.Object(\"ClassName\");\n   * </pre>\n   * That is basically equivalent to:<pre>\n   *     var MyClass = AV.Object.extend(\"ClassName\");\n   *     var object = new MyClass();\n   * </pre></p>\n   *\n   * @param {Object} attributes The initial set of data to store in the object.\n   * @param {Object} options A set of Backbone-like options for creating the\n   *     object.  The only option currently supported is \"collection\".\n   * @see AV.Object.extend\n   *\n   * @class\n   *\n   * <p>The fundamental unit of AV data, which implements the Backbone Model\n   * interface.</p>\n   */\n  AV.Object = function(attributes, options) {\n    // Allow new AV.Object(\"ClassName\") as a shortcut to _create.\n    if (_.isString(attributes)) {\n      return AV.Object._create.apply(this, arguments);\n    }\n\n    attributes = attributes || {};\n    if (options && options.parse) {\n      attributes = this.parse(attributes);\n      attributes = this._mergeMagicFields(attributes);\n    }\n    var defaults = getValue(this, 'defaults');\n    if (defaults) {\n      attributes = _.extend({}, defaults, attributes);\n    }\n    if (options && options.collection) {\n      this.collection = options.collection;\n    }\n\n    this._serverData = {}; // The last known data for this object from cloud.\n    this._opSetQueue = [{}]; // List of sets of changes to the data.\n    this._flags = {};\n    this.attributes = {}; // The best estimate of this's current data.\n\n    this._hashedJSON = {}; // Hash of values of containers at last save.\n    this._escapedAttributes = {};\n    this.cid = _.uniqueId('c');\n    this.changed = {};\n    this._silent = {};\n    this._pending = {};\n    this.set(attributes, { silent: true });\n    this.changed = {};\n    this._silent = {};\n    this._pending = {};\n    this._hasData = true;\n    this._previousAttributes = _.clone(this.attributes);\n    this.initialize.apply(this, arguments);\n  };\n\n  /**\n   * @lends AV.Object.prototype\n   * @property {String} id The objectId of the AV Object.\n   */\n\n  /**\n   * Saves the given list of AV.Object.\n   * If any error is encountered, stops and calls the error handler.\n   *\n   * @example\n   * AV.Object.saveAll([object1, object2, ...]).then(function(list) {\n   *   // All the objects were saved.\n   * }, function(error) {\n   *   // An error occurred while saving one of the objects.\n   * });\n   *\n   * @param {Array} list A list of <code>AV.Object</code>.\n   */\n  AV.Object.saveAll = function(list, options) {\n    return AV.Object._deepSaveAsync(list, null, options);\n  };\n\n  /**\n   * Fetch the given list of AV.Object.\n   *\n   * @param {AV.Object[]} objects A list of <code>AV.Object</code>\n   * @param {AuthOptions} options\n   * @return {Promise.<AV.Object[]>} The given list of <code>AV.Object</code>, updated\n   */\n\n  AV.Object.fetchAll = (objects, options) =>\n    Promise.resolve()\n      .then(() =>\n        _request(\n          'batch',\n          null,\n          null,\n          'POST',\n          {\n            requests: _.map(objects, object => {\n              if (!object.className)\n                throw new Error('object must have className to fetch');\n              if (!object.id) throw new Error('object must have id to fetch');\n              if (object.dirty())\n                throw new Error('object is modified but not saved');\n              return {\n                method: 'GET',\n                path: `/1.1/classes/${object.className}/${object.id}`,\n              };\n            }),\n          },\n          options\n        )\n      )\n      .then(function(response) {\n        const results = _.map(objects, function(object, i) {\n          if (response[i].success) {\n            const fetchedAttrs = object.parse(response[i].success);\n            object._cleanupUnsetKeys(fetchedAttrs);\n            object._finishFetch(fetchedAttrs);\n            return object;\n          }\n          if (response[i].success === null) {\n            return new AVError(AVError.OBJECT_NOT_FOUND, 'Object not found.');\n          }\n          return new AVError(response[i].error.code, response[i].error.error);\n        });\n        return handleBatchResults(results);\n      });\n\n  // Attach all inheritable methods to the AV.Object prototype.\n  _.extend(\n    AV.Object.prototype,\n    AV.Events,\n    /** @lends AV.Object.prototype */ {\n      _fetchWhenSave: false,\n\n      /**\n       * Initialize is an empty function by default. Override it with your own\n       * initialization logic.\n       */\n      initialize: function() {},\n\n      /**\n       * Set whether to enable fetchWhenSave option when updating object.\n       * When set true, SDK would fetch the latest object after saving.\n       * Default is false.\n       *\n       * @deprecated use AV.Object#save with options.fetchWhenSave instead\n       * @param {boolean} enable  true to enable fetchWhenSave option.\n       */\n      fetchWhenSave: function(enable) {\n        console.warn(\n          'AV.Object#fetchWhenSave is deprecated, use AV.Object#save with options.fetchWhenSave instead.'\n        );\n        if (!_.isBoolean(enable)) {\n          throw new Error('Expect boolean value for fetchWhenSave');\n        }\n        this._fetchWhenSave = enable;\n      },\n\n      /**\n       * Returns the object's objectId.\n       * @return {String} the objectId.\n       */\n      getObjectId: function() {\n        return this.id;\n      },\n\n      /**\n       * Returns the object's createdAt attribute.\n       * @return {Date}\n       */\n      getCreatedAt: function() {\n        return this.createdAt;\n      },\n\n      /**\n       * Returns the object's updatedAt attribute.\n       * @return {Date}\n       */\n      getUpdatedAt: function() {\n        return this.updatedAt;\n      },\n\n      /**\n       * Returns a JSON version of the object.\n       * @return {Object}\n       */\n      toJSON: function(key, holder, seenObjects = []) {\n        return this._toFullJSON(seenObjects, false);\n      },\n\n      /**\n       * Returns a JSON version of the object with meta data.\n       * Inverse to {@link AV.parseJSON}\n       * @since 3.0.0\n       * @return {Object}\n       */\n      toFullJSON(seenObjects = []) {\n        return this._toFullJSON(seenObjects);\n      },\n\n      _toFullJSON: function(seenObjects, full = true) {\n        var json = _.clone(this.attributes);\n        if (_.isArray(seenObjects)) {\n          var newSeenObjects = seenObjects.concat(this);\n        }\n        AV._objectEach(json, function(val, key) {\n          json[key] = AV._encode(val, newSeenObjects, undefined, full);\n        });\n        AV._objectEach(this._operations, function(val, key) {\n          json[key] = val;\n        });\n\n        if (_.has(this, 'id')) {\n          json.objectId = this.id;\n        }\n        ['createdAt', 'updatedAt'].forEach(key => {\n          if (_.has(this, key)) {\n            const val = this[key];\n            json[key] = _.isDate(val) ? val.toJSON() : val;\n          }\n        });\n        if (full) {\n          json.__type = 'Object';\n          if (_.isArray(seenObjects) && seenObjects.length)\n            json.__type = 'Pointer';\n          json.className = this.className;\n        }\n        return json;\n      },\n\n      /**\n       * Updates _hashedJSON to reflect the current state of this object.\n       * Adds any changed hash values to the set of pending changes.\n       * @private\n       */\n      _refreshCache: function() {\n        var self = this;\n        if (self._refreshingCache) {\n          return;\n        }\n        self._refreshingCache = true;\n        AV._objectEach(this.attributes, function(value, key) {\n          if (value instanceof AV.Object) {\n            value._refreshCache();\n          } else if (_.isObject(value)) {\n            if (self._resetCacheForKey(key)) {\n              self.set(key, new AV.Op.Set(value), { silent: true });\n            }\n          }\n        });\n        delete self._refreshingCache;\n      },\n\n      /**\n       * Returns true if this object has been modified since its last\n       * save/refresh.  If an attribute is specified, it returns true only if that\n       * particular attribute has been modified since the last save/refresh.\n       * @param {String} attr An attribute name (optional).\n       * @return {Boolean}\n       */\n      dirty: function(attr) {\n        this._refreshCache();\n\n        var currentChanges = _.last(this._opSetQueue);\n\n        if (attr) {\n          return currentChanges[attr] ? true : false;\n        }\n        if (!this.id) {\n          return true;\n        }\n        if (_.keys(currentChanges).length > 0) {\n          return true;\n        }\n        return false;\n      },\n\n      /**\n       * Returns the keys of the modified attribute since its last save/refresh.\n       * @return {String[]}\n       */\n      dirtyKeys: function() {\n        this._refreshCache();\n        var currentChanges = _.last(this._opSetQueue);\n        return _.keys(currentChanges);\n      },\n\n      /**\n       * Gets a Pointer referencing this Object.\n       * @private\n       */\n      _toPointer: function() {\n        // if (!this.id) {\n        //   throw new Error(\"Can't serialize an unsaved AV.Object\");\n        // }\n        return {\n          __type: 'Pointer',\n          className: this.className,\n          objectId: this.id,\n        };\n      },\n\n      /**\n       * Gets the value of an attribute.\n       * @param {String} attr The string name of an attribute.\n       */\n      get: function(attr) {\n        switch (attr) {\n          case 'objectId':\n            return this.id;\n          case 'createdAt':\n          case 'updatedAt':\n            return this[attr];\n          default:\n            return this.attributes[attr];\n        }\n      },\n\n      /**\n       * Gets a relation on the given class for the attribute.\n       * @param {String} attr The attribute to get the relation for.\n       * @return {AV.Relation}\n       */\n      relation: function(attr) {\n        var value = this.get(attr);\n        if (value) {\n          if (!(value instanceof AV.Relation)) {\n            throw new Error('Called relation() on non-relation field ' + attr);\n          }\n          value._ensureParentAndKey(this, attr);\n          return value;\n        } else {\n          return new AV.Relation(this, attr);\n        }\n      },\n\n      /**\n       * Gets the HTML-escaped value of an attribute.\n       */\n      escape: function(attr) {\n        var html = this._escapedAttributes[attr];\n        if (html) {\n          return html;\n        }\n        var val = this.attributes[attr];\n        var escaped;\n        if (isNullOrUndefined(val)) {\n          escaped = '';\n        } else {\n          escaped = _.escape(val.toString());\n        }\n        this._escapedAttributes[attr] = escaped;\n        return escaped;\n      },\n\n      /**\n       * Returns <code>true</code> if the attribute contains a value that is not\n       * null or undefined.\n       * @param {String} attr The string name of the attribute.\n       * @return {Boolean}\n       */\n      has: function(attr) {\n        return !isNullOrUndefined(this.attributes[attr]);\n      },\n\n      /**\n       * Pulls \"special\" fields like objectId, createdAt, etc. out of attrs\n       * and puts them on \"this\" directly.  Removes them from attrs.\n       * @param attrs - A dictionary with the data for this AV.Object.\n       * @private\n       */\n      _mergeMagicFields: function(attrs) {\n        // Check for changes of magic fields.\n        var model = this;\n        var specialFields = ['objectId', 'createdAt', 'updatedAt'];\n        AV._arrayEach(specialFields, function(attr) {\n          if (attrs[attr]) {\n            if (attr === 'objectId') {\n              model.id = attrs[attr];\n            } else if (\n              (attr === 'createdAt' || attr === 'updatedAt') &&\n              !_.isDate(attrs[attr])\n            ) {\n              model[attr] = AV._parseDate(attrs[attr]);\n            } else {\n              model[attr] = attrs[attr];\n            }\n            delete attrs[attr];\n          }\n        });\n        return attrs;\n      },\n\n      /**\n       * Returns the json to be sent to the server.\n       * @private\n       */\n      _startSave: function() {\n        this._opSetQueue.push({});\n      },\n\n      /**\n       * Called when a save fails because of an error. Any changes that were part\n       * of the save need to be merged with changes made after the save. This\n       * might throw an exception is you do conflicting operations. For example,\n       * if you do:\n       *   object.set(\"foo\", \"bar\");\n       *   object.set(\"invalid field name\", \"baz\");\n       *   object.save();\n       *   object.increment(\"foo\");\n       * then this will throw when the save fails and the client tries to merge\n       * \"bar\" with the +1.\n       * @private\n       */\n      _cancelSave: function() {\n        var failedChanges = _.first(this._opSetQueue);\n        this._opSetQueue = _.rest(this._opSetQueue);\n        var nextChanges = _.first(this._opSetQueue);\n        AV._objectEach(failedChanges, function(op, key) {\n          var op1 = failedChanges[key];\n          var op2 = nextChanges[key];\n          if (op1 && op2) {\n            nextChanges[key] = op2._mergeWithPrevious(op1);\n          } else if (op1) {\n            nextChanges[key] = op1;\n          }\n        });\n        this._saving = this._saving - 1;\n      },\n\n      /**\n       * Called when a save completes successfully. This merges the changes that\n       * were saved into the known server data, and overrides it with any data\n       * sent directly from the server.\n       * @private\n       */\n      _finishSave: function(serverData) {\n        // Grab a copy of any object referenced by this object. These instances\n        // may have already been fetched, and we don't want to lose their data.\n        // Note that doing it like this means we will unify separate copies of the\n        // same object, but that's a risk we have to take.\n        var fetchedObjects = {};\n        AV._traverse(this.attributes, function(object) {\n          if (object instanceof AV.Object && object.id && object._hasData) {\n            fetchedObjects[object.id] = object;\n          }\n        });\n\n        var savedChanges = _.first(this._opSetQueue);\n        this._opSetQueue = _.rest(this._opSetQueue);\n        this._applyOpSet(savedChanges, this._serverData);\n        this._mergeMagicFields(serverData);\n        var self = this;\n        AV._objectEach(serverData, function(value, key) {\n          self._serverData[key] = AV._decode(value, key);\n\n          // Look for any objects that might have become unfetched and fix them\n          // by replacing their values with the previously observed values.\n          var fetched = AV._traverse(self._serverData[key], function(object) {\n            if (object instanceof AV.Object && fetchedObjects[object.id]) {\n              return fetchedObjects[object.id];\n            }\n          });\n          if (fetched) {\n            self._serverData[key] = fetched;\n          }\n        });\n        this._rebuildAllEstimatedData();\n        const opSetQueue = this._opSetQueue.map(_.clone);\n        this._refreshCache();\n        this._opSetQueue = opSetQueue;\n        this._saving = this._saving - 1;\n      },\n\n      /**\n       * Called when a fetch or login is complete to set the known server data to\n       * the given object.\n       * @private\n       */\n      _finishFetch: function(serverData, hasData) {\n        // Clear out any changes the user might have made previously.\n        this._opSetQueue = [{}];\n\n        // Bring in all the new server data.\n        this._mergeMagicFields(serverData);\n        var self = this;\n        AV._objectEach(serverData, function(value, key) {\n          self._serverData[key] = AV._decode(value, key);\n        });\n\n        // Refresh the attributes.\n        this._rebuildAllEstimatedData();\n\n        // Clear out the cache of mutable containers.\n        this._refreshCache();\n        this._opSetQueue = [{}];\n\n        this._hasData = hasData;\n      },\n\n      /**\n       * Applies the set of AV.Op in opSet to the object target.\n       * @private\n       */\n      _applyOpSet: function(opSet, target) {\n        var self = this;\n        AV._objectEach(opSet, function(change, key) {\n          const [value, actualTarget, actualKey] = findValue(target, key);\n          setValue(target, key, change._estimate(value, self, key));\n          if (actualTarget && actualTarget[actualKey] === AV.Op._UNSET) {\n            delete actualTarget[actualKey];\n          }\n        });\n      },\n\n      /**\n       * Replaces the cached value for key with the current value.\n       * Returns true if the new value is different than the old value.\n       * @private\n       */\n      _resetCacheForKey: function(key) {\n        var value = this.attributes[key];\n        if (\n          _.isObject(value) &&\n          !(value instanceof AV.Object) &&\n          !(value instanceof AV.File)\n        ) {\n          var json = JSON.stringify(recursiveToPointer(value));\n          if (this._hashedJSON[key] !== json) {\n            var wasSet = !!this._hashedJSON[key];\n            this._hashedJSON[key] = json;\n            return wasSet;\n          }\n        }\n        return false;\n      },\n\n      /**\n       * Populates attributes[key] by starting with the last known data from the\n       * server, and applying all of the local changes that have been made to that\n       * key since then.\n       * @private\n       */\n      _rebuildEstimatedDataForKey: function(key) {\n        var self = this;\n        delete this.attributes[key];\n        if (this._serverData[key]) {\n          this.attributes[key] = this._serverData[key];\n        }\n        AV._arrayEach(this._opSetQueue, function(opSet) {\n          var op = opSet[key];\n          if (op) {\n            const [value, actualTarget, actualKey, firstKey] = findValue(\n              self.attributes,\n              key\n            );\n            setValue(self.attributes, key, op._estimate(value, self, key));\n            if (actualTarget && actualTarget[actualKey] === AV.Op._UNSET) {\n              delete actualTarget[actualKey];\n            }\n            self._resetCacheForKey(firstKey);\n          }\n        });\n      },\n\n      /**\n       * Populates attributes by starting with the last known data from the\n       * server, and applying all of the local changes that have been made since\n       * then.\n       * @private\n       */\n      _rebuildAllEstimatedData: function() {\n        var self = this;\n\n        var previousAttributes = _.clone(this.attributes);\n\n        this.attributes = _.clone(this._serverData);\n        AV._arrayEach(this._opSetQueue, function(opSet) {\n          self._applyOpSet(opSet, self.attributes);\n          AV._objectEach(opSet, function(op, key) {\n            self._resetCacheForKey(key);\n          });\n        });\n\n        // Trigger change events for anything that changed because of the fetch.\n        AV._objectEach(previousAttributes, function(oldValue, key) {\n          if (self.attributes[key] !== oldValue) {\n            self.trigger('change:' + key, self, self.attributes[key], {});\n          }\n        });\n        AV._objectEach(this.attributes, function(newValue, key) {\n          if (!_.has(previousAttributes, key)) {\n            self.trigger('change:' + key, self, newValue, {});\n          }\n        });\n      },\n\n      /**\n       * Sets a hash of model attributes on the object, firing\n       * <code>\"change\"</code> unless you choose to silence it.\n       *\n       * <p>You can call it with an object containing keys and values, or with one\n       * key and value.  For example:</p>\n       *\n       * @example\n       * gameTurn.set({\n       *   player: player1,\n       *   diceRoll: 2\n       * });\n       *\n       * game.set(\"currentPlayer\", player2);\n       *\n       * game.set(\"finished\", true);\n       *\n       * @param {String} key The key to set.\n       * @param {Any} value The value to give it.\n       * @param {Object} [options]\n       * @param {Boolean} [options.silent]\n       * @return {AV.Object} self if succeeded, throws if the value is not valid.\n       * @see AV.Object#validate\n       */\n      set: function(key, value, options) {\n        var attrs;\n        if (_.isObject(key) || isNullOrUndefined(key)) {\n          attrs = _.mapObject(key, function(v, k) {\n            checkReservedKey(k);\n            return AV._decode(v, k);\n          });\n          options = value;\n        } else {\n          attrs = {};\n          checkReservedKey(key);\n          attrs[key] = AV._decode(value, key);\n        }\n\n        // Extract attributes and options.\n        options = options || {};\n        if (!attrs) {\n          return this;\n        }\n        if (attrs instanceof AV.Object) {\n          attrs = attrs.attributes;\n        }\n\n        // If the unset option is used, every attribute should be a Unset.\n        if (options.unset) {\n          AV._objectEach(attrs, function(unused_value, key) {\n            attrs[key] = new AV.Op.Unset();\n          });\n        }\n\n        // Apply all the attributes to get the estimated values.\n        var dataToValidate = _.clone(attrs);\n        var self = this;\n        AV._objectEach(dataToValidate, function(value, key) {\n          if (value instanceof AV.Op) {\n            dataToValidate[key] = value._estimate(\n              self.attributes[key],\n              self,\n              key\n            );\n            if (dataToValidate[key] === AV.Op._UNSET) {\n              delete dataToValidate[key];\n            }\n          }\n        });\n\n        // Run validation.\n        this._validate(attrs, options);\n\n        options.changes = {};\n        var escaped = this._escapedAttributes;\n\n        // Update attributes.\n        AV._arrayEach(_.keys(attrs), function(attr) {\n          var val = attrs[attr];\n\n          // If this is a relation object we need to set the parent correctly,\n          // since the location where it was parsed does not have access to\n          // this object.\n          if (val instanceof AV.Relation) {\n            val.parent = self;\n          }\n\n          if (!(val instanceof AV.Op)) {\n            val = new AV.Op.Set(val);\n          }\n\n          // See if this change will actually have any effect.\n          var isRealChange = true;\n          if (\n            val instanceof AV.Op.Set &&\n            _.isEqual(self.attributes[attr], val.value)\n          ) {\n            isRealChange = false;\n          }\n\n          if (isRealChange) {\n            delete escaped[attr];\n            if (options.silent) {\n              self._silent[attr] = true;\n            } else {\n              options.changes[attr] = true;\n            }\n          }\n\n          var currentChanges = _.last(self._opSetQueue);\n          currentChanges[attr] = val._mergeWithPrevious(currentChanges[attr]);\n          self._rebuildEstimatedDataForKey(attr);\n\n          if (isRealChange) {\n            self.changed[attr] = self.attributes[attr];\n            if (!options.silent) {\n              self._pending[attr] = true;\n            }\n          } else {\n            delete self.changed[attr];\n            delete self._pending[attr];\n          }\n        });\n\n        if (!options.silent) {\n          this.change(options);\n        }\n        return this;\n      },\n\n      /**\n       * Remove an attribute from the model, firing <code>\"change\"</code> unless\n       * you choose to silence it. This is a noop if the attribute doesn't\n       * exist.\n       * @param key {String} The key.\n       */\n      unset: function(attr, options) {\n        options = options || {};\n        options.unset = true;\n        return this.set(attr, null, options);\n      },\n\n      /**\n       * Atomically increments the value of the given attribute the next time the\n       * object is saved. If no amount is specified, 1 is used by default.\n       *\n       * @param key {String} The key.\n       * @param amount {Number} The amount to increment by.\n       */\n      increment: function(attr, amount) {\n        if (_.isUndefined(amount) || _.isNull(amount)) {\n          amount = 1;\n        }\n        return this.set(attr, new AV.Op.Increment(amount));\n      },\n\n      /**\n       * Atomically add an object to the end of the array associated with a given\n       * key.\n       * @param key {String} The key.\n       * @param item {} The item to add.\n       */\n      add: function(attr, item) {\n        return this.set(attr, new AV.Op.Add(ensureArray(item)));\n      },\n\n      /**\n       * Atomically add an object to the array associated with a given key, only\n       * if it is not already present in the array. The position of the insert is\n       * not guaranteed.\n       *\n       * @param key {String} The key.\n       * @param item {} The object to add.\n       */\n      addUnique: function(attr, item) {\n        return this.set(attr, new AV.Op.AddUnique(ensureArray(item)));\n      },\n\n      /**\n       * Atomically remove all instances of an object from the array associated\n       * with a given key.\n       *\n       * @param key {String} The key.\n       * @param item {} The object to remove.\n       */\n      remove: function(attr, item) {\n        return this.set(attr, new AV.Op.Remove(ensureArray(item)));\n      },\n\n      /**\n       * Atomically apply a \"bit and\" operation on the value associated with a\n       * given key.\n       *\n       * @param key {String} The key.\n       * @param value {Number} The value to apply.\n       */\n      bitAnd(attr, value) {\n        return this.set(attr, new AV.Op.BitAnd(value));\n      },\n\n      /**\n       * Atomically apply a \"bit or\" operation on the value associated with a\n       * given key.\n       *\n       * @param key {String} The key.\n       * @param value {Number} The value to apply.\n       */\n      bitOr(attr, value) {\n        return this.set(attr, new AV.Op.BitOr(value));\n      },\n\n      /**\n       * Atomically apply a \"bit xor\" operation on the value associated with a\n       * given key.\n       *\n       * @param key {String} The key.\n       * @param value {Number} The value to apply.\n       */\n      bitXor(attr, value) {\n        return this.set(attr, new AV.Op.BitXor(value));\n      },\n\n      /**\n       * Returns an instance of a subclass of AV.Op describing what kind of\n       * modification has been performed on this field since the last time it was\n       * saved. For example, after calling object.increment(\"x\"), calling\n       * object.op(\"x\") would return an instance of AV.Op.Increment.\n       *\n       * @param key {String} The key.\n       * @returns {AV.Op} The operation, or undefined if none.\n       */\n      op: function(attr) {\n        return _.last(this._opSetQueue)[attr];\n      },\n\n      /**\n       * Clear all attributes on the model, firing <code>\"change\"</code> unless\n       * you choose to silence it.\n       */\n      clear: function(options) {\n        options = options || {};\n        options.unset = true;\n        var keysToClear = _.extend(this.attributes, this._operations);\n        return this.set(keysToClear, options);\n      },\n\n      /**\n       * Clears any (or specific) changes to the model made since the last save.\n       * @param {string|string[]} [keys] specify keys to revert.\n       */\n      revert(keys) {\n        const lastOp = _.last(this._opSetQueue);\n        const _keys = ensureArray(keys || _.keys(lastOp));\n        _keys.forEach(key => {\n          delete lastOp[key];\n        });\n        this._rebuildAllEstimatedData();\n        return this;\n      },\n\n      /**\n       * Returns a JSON-encoded set of operations to be sent with the next save\n       * request.\n       * @private\n       */\n      _getSaveJSON: function() {\n        var json = _.clone(_.first(this._opSetQueue));\n        AV._objectEach(json, function(op, key) {\n          json[key] = op.toJSON();\n        });\n        return json;\n      },\n\n      /**\n       * Returns true if this object can be serialized for saving.\n       * @private\n       */\n      _canBeSerialized: function() {\n        return AV.Object._canBeSerializedAsValue(this.attributes);\n      },\n\n      /**\n       * Fetch the model from the server. If the server's representation of the\n       * model differs from its current attributes, they will be overriden,\n       * triggering a <code>\"change\"</code> event.\n       * @param {Object} fetchOptions Optional options to set 'keys',\n       *      'include' and 'includeACL' option.\n       * @param {AuthOptions} options\n       * @return {Promise} A promise that is fulfilled when the fetch\n       *     completes.\n       */\n      fetch: function(fetchOptions = {}, options) {\n        if (!this.id) {\n          throw new Error('Cannot fetch unsaved object');\n        }\n        var self = this;\n        var request = _request(\n          'classes',\n          this.className,\n          this.id,\n          'GET',\n          transformFetchOptions(fetchOptions),\n          options\n        );\n        return request.then(function(response) {\n          const fetchedAttrs = self.parse(response);\n          self._cleanupUnsetKeys(\n            fetchedAttrs,\n            fetchOptions.keys\n              ? ensureArray(fetchOptions.keys)\n                  .join(',')\n                  .split(',')\n              : undefined\n          );\n          self._finishFetch(fetchedAttrs, true);\n          return self;\n        });\n      },\n\n      _cleanupUnsetKeys(fetchedAttrs, fetchedKeys = _.keys(this._serverData)) {\n        _.forEach(fetchedKeys, key => {\n          if (fetchedAttrs[key] === undefined) delete this._serverData[key];\n        });\n      },\n\n      /**\n       * Set a hash of model attributes, and save the model to the server.\n       * updatedAt will be updated when the request returns.\n       * You can either call it as:<pre>\n       *   object.save();</pre>\n       * or<pre>\n       *   object.save(null, options);</pre>\n       * or<pre>\n       *   object.save(attrs, options);</pre>\n       * or<pre>\n       *   object.save(key, value, options);</pre>\n       *\n       * @example\n       * gameTurn.save({\n       *   player: \"Jake Cutter\",\n       *   diceRoll: 2\n       * }).then(function(gameTurnAgain) {\n       *   // The save was successful.\n       * }, function(error) {\n       *   // The save failed.  Error is an instance of AVError.\n       * });\n       *\n       * @param {AuthOptions} options AuthOptions plus:\n       * @param {Boolean} options.fetchWhenSave fetch and update object after save succeeded\n       * @param {AV.Query} options.query Save object only when it matches the query\n       * @return {Promise} A promise that is fulfilled when the save\n       *     completes.\n       * @see AVError\n       */\n      save: function(arg1, arg2, arg3) {\n        var attrs, current, options;\n        if (_.isObject(arg1) || isNullOrUndefined(arg1)) {\n          attrs = arg1;\n          options = arg2;\n        } else {\n          attrs = {};\n          attrs[arg1] = arg2;\n          options = arg3;\n        }\n\n        options = _.clone(options) || {};\n        if (options.wait) {\n          current = _.clone(this.attributes);\n        }\n\n        var setOptions = _.clone(options) || {};\n        if (setOptions.wait) {\n          setOptions.silent = true;\n        }\n        if (attrs) {\n          this.set(attrs, setOptions);\n        }\n\n        var model = this;\n\n        var unsavedChildren = [];\n        var unsavedFiles = [];\n        AV.Object._findUnsavedChildren(model, unsavedChildren, unsavedFiles);\n        if (unsavedChildren.length + unsavedFiles.length > 1) {\n          return AV.Object._deepSaveAsync(this, model, options);\n        }\n\n        this._startSave();\n        this._saving = (this._saving || 0) + 1;\n\n        this._allPreviousSaves = this._allPreviousSaves || Promise.resolve();\n        this._allPreviousSaves = this._allPreviousSaves\n          .catch(e => {})\n          .then(function() {\n            var method = model.id ? 'PUT' : 'POST';\n\n            var json = model._getSaveJSON();\n            var query = {};\n\n            if (model._fetchWhenSave || options.fetchWhenSave) {\n              query['new'] = 'true';\n            }\n            // user login option\n            if (options._failOnNotExist) {\n              query.failOnNotExist = 'true';\n            }\n\n            if (options.query) {\n              var queryParams;\n              if (typeof options.query._getParams === 'function') {\n                queryParams = options.query._getParams();\n                if (queryParams) {\n                  query.where = queryParams.where;\n                }\n              }\n              if (!query.where) {\n                var error = new Error('options.query is not an AV.Query');\n                throw error;\n              }\n            }\n\n            _.extend(json, model._flags);\n\n            var route = 'classes';\n            var className = model.className;\n            if (model.className === '_User' && !model.id) {\n              // Special-case user sign-up.\n              route = 'users';\n              className = null;\n            }\n            //hook makeRequest in options.\n            var makeRequest = options._makeRequest || _request;\n            var requestPromise = makeRequest(\n              route,\n              className,\n              model.id,\n              method,\n              json,\n              options,\n              query\n            );\n\n            requestPromise = requestPromise.then(\n              function(resp) {\n                var serverAttrs = model.parse(resp);\n                if (options.wait) {\n                  serverAttrs = _.extend(attrs || {}, serverAttrs);\n                }\n                model._finishSave(serverAttrs);\n                if (options.wait) {\n                  model.set(current, setOptions);\n                }\n                return model;\n              },\n              function(error) {\n                model._cancelSave();\n                throw error;\n              }\n            );\n\n            return requestPromise;\n          });\n        return this._allPreviousSaves;\n      },\n\n      /**\n       * Destroy this model on the server if it was already persisted.\n       * Optimistically removes the model from its collection, if it has one.\n       * @param {AuthOptions} options AuthOptions plus:\n       * @param {Boolean} [options.wait] wait for the server to respond\n       * before removal.\n       *\n       * @return {Promise} A promise that is fulfilled when the destroy\n       *     completes.\n       */\n      destroy: function(options) {\n        options = options || {};\n        var model = this;\n\n        var triggerDestroy = function() {\n          model.trigger('destroy', model, model.collection, options);\n        };\n\n        if (!this.id) {\n          return triggerDestroy();\n        }\n\n        if (!options.wait) {\n          triggerDestroy();\n        }\n\n        var request = _request(\n          'classes',\n          this.className,\n          this.id,\n          'DELETE',\n          this._flags,\n          options\n        );\n        return request.then(function() {\n          if (options.wait) {\n            triggerDestroy();\n          }\n          return model;\n        });\n      },\n\n      /**\n       * Converts a response into the hash of attributes to be set on the model.\n       * @ignore\n       */\n      parse: function(resp) {\n        var output = _.clone(resp);\n        ['createdAt', 'updatedAt'].forEach(function(key) {\n          if (output[key]) {\n            output[key] = AV._parseDate(output[key]);\n          }\n        });\n        if (output.createdAt && !output.updatedAt) {\n          output.updatedAt = output.createdAt;\n        }\n        return output;\n      },\n\n      /**\n       * Creates a new model with identical attributes to this one.\n       * @return {AV.Object}\n       */\n      clone: function() {\n        return new this.constructor(this.attributes);\n      },\n\n      /**\n       * Returns true if this object has never been saved to AV.\n       * @return {Boolean}\n       */\n      isNew: function() {\n        return !this.id;\n      },\n\n      /**\n       * Call this method to manually fire a `\"change\"` event for this model and\n       * a `\"change:attribute\"` event for each changed attribute.\n       * Calling this will cause all objects observing the model to update.\n       */\n      change: function(options) {\n        options = options || {};\n        var changing = this._changing;\n        this._changing = true;\n\n        // Silent changes become pending changes.\n        var self = this;\n        AV._objectEach(this._silent, function(attr) {\n          self._pending[attr] = true;\n        });\n\n        // Silent changes are triggered.\n        var changes = _.extend({}, options.changes, this._silent);\n        this._silent = {};\n        AV._objectEach(changes, function(unused_value, attr) {\n          self.trigger('change:' + attr, self, self.get(attr), options);\n        });\n        if (changing) {\n          return this;\n        }\n\n        // This is to get around lint not letting us make a function in a loop.\n        var deleteChanged = function(value, attr) {\n          if (!self._pending[attr] && !self._silent[attr]) {\n            delete self.changed[attr];\n          }\n        };\n\n        // Continue firing `\"change\"` events while there are pending changes.\n        while (!_.isEmpty(this._pending)) {\n          this._pending = {};\n          this.trigger('change', this, options);\n          // Pending and silent changes still remain.\n          AV._objectEach(this.changed, deleteChanged);\n          self._previousAttributes = _.clone(this.attributes);\n        }\n\n        this._changing = false;\n        return this;\n      },\n\n      /**\n       * Gets the previous value of an attribute, recorded at the time the last\n       * <code>\"change\"</code> event was fired.\n       * @param {String} attr Name of the attribute to get.\n       */\n      previous: function(attr) {\n        if (!arguments.length || !this._previousAttributes) {\n          return null;\n        }\n        return this._previousAttributes[attr];\n      },\n\n      /**\n       * Gets all of the attributes of the model at the time of the previous\n       * <code>\"change\"</code> event.\n       * @return {Object}\n       */\n      previousAttributes: function() {\n        return _.clone(this._previousAttributes);\n      },\n\n      /**\n       * Checks if the model is currently in a valid state. It's only possible to\n       * get into an *invalid* state if you're using silent changes.\n       * @return {Boolean}\n       */\n      isValid: function() {\n        try {\n          this.validate(this.attributes);\n        } catch (error) {\n          return false;\n        }\n        return true;\n      },\n\n      /**\n       * You should not call this function directly unless you subclass\n       * <code>AV.Object</code>, in which case you can override this method\n       * to provide additional validation on <code>set</code> and\n       * <code>save</code>.  Your implementation should throw an Error if\n       * the attrs is invalid\n       *\n       * @param {Object} attrs The current data to validate.\n       * @see AV.Object#set\n       */\n      validate: function(attrs) {\n        if (_.has(attrs, 'ACL') && !(attrs.ACL instanceof AV.ACL)) {\n          throw new AVError(AVError.OTHER_CAUSE, 'ACL must be a AV.ACL.');\n        }\n      },\n\n      /**\n       * Run validation against a set of incoming attributes, returning `true`\n       * if all is well. If a specific `error` callback has been passed,\n       * call that instead of firing the general `\"error\"` event.\n       * @private\n       */\n      _validate: function(attrs, options) {\n        if (options.silent || !this.validate) {\n          return;\n        }\n        attrs = _.extend({}, this.attributes, attrs);\n        this.validate(attrs);\n      },\n\n      /**\n       * Returns the ACL for this object.\n       * @returns {AV.ACL} An instance of AV.ACL.\n       * @see AV.Object#get\n       */\n      getACL: function() {\n        return this.get('ACL');\n      },\n\n      /**\n       * Sets the ACL to be used for this object.\n       * @param {AV.ACL} acl An instance of AV.ACL.\n       * @param {Object} options Optional Backbone-like options object to be\n       *     passed in to set.\n       * @return {AV.Object} self\n       * @see AV.Object#set\n       */\n      setACL: function(acl, options) {\n        return this.set('ACL', acl, options);\n      },\n\n      disableBeforeHook: function() {\n        this.ignoreHook('beforeSave');\n        this.ignoreHook('beforeUpdate');\n        this.ignoreHook('beforeDelete');\n      },\n\n      disableAfterHook: function() {\n        this.ignoreHook('afterSave');\n        this.ignoreHook('afterUpdate');\n        this.ignoreHook('afterDelete');\n      },\n\n      ignoreHook: function(hookName) {\n        if (\n          !_.contains(\n            [\n              'beforeSave',\n              'afterSave',\n              'beforeUpdate',\n              'afterUpdate',\n              'beforeDelete',\n              'afterDelete',\n            ],\n            hookName\n          )\n        ) {\n          throw new Error('Unsupported hookName: ' + hookName);\n        }\n\n        if (!AV.hookKey) {\n          throw new Error('ignoreHook required hookKey');\n        }\n\n        if (!this._flags.__ignore_hooks) {\n          this._flags.__ignore_hooks = [];\n        }\n\n        this._flags.__ignore_hooks.push(hookName);\n      },\n    }\n  );\n\n  /**\n   * Creates an instance of a subclass of AV.Object for the give classname\n   * and id.\n   * @param  {String|Function} class the className or a subclass of AV.Object.\n   * @param {String} id The object id of this model.\n   * @return {AV.Object} A new subclass instance of AV.Object.\n   */\n  AV.Object.createWithoutData = (klass, id, hasData) => {\n    let _klass;\n    if (_.isString(klass)) {\n      _klass = AV.Object._getSubclass(klass);\n    } else if (klass.prototype && klass.prototype instanceof AV.Object) {\n      _klass = klass;\n    } else {\n      throw new Error('class must be a string or a subclass of AV.Object.');\n    }\n    if (!id) {\n      throw new TypeError('The objectId must be provided');\n    }\n    const object = new _klass();\n    object.id = id;\n    object._hasData = hasData;\n    return object;\n  };\n  /**\n   * Delete objects in batch.\n   * @param {AV.Object[]} objects The <code>AV.Object</code> array to be deleted.\n   * @param {AuthOptions} options\n   * @return {Promise} A promise that is fulfilled when the save\n   *     completes.\n   */\n  AV.Object.destroyAll = function(objects, options = {}) {\n    if (!objects || objects.length === 0) {\n      return Promise.resolve();\n    }\n    const objectsByClassNameAndFlags = _.groupBy(objects, object =>\n      JSON.stringify({\n        className: object.className,\n        flags: object._flags,\n      })\n    );\n    const body = {\n      requests: _.map(objectsByClassNameAndFlags, objects => {\n        const ids = _.map(objects, 'id').join(',');\n        return {\n          method: 'DELETE',\n          path: `/1.1/classes/${objects[0].className}/${ids}`,\n          body: objects[0]._flags,\n        };\n      }),\n    };\n    return _request('batch', null, null, 'POST', body, options).then(\n      response => {\n        const firstError = _.find(response, result => !result.success);\n        if (firstError)\n          throw new AVError(firstError.error.code, firstError.error.error);\n        return undefined;\n      }\n    );\n  };\n\n  /**\n   * Returns the appropriate subclass for making new instances of the given\n   * className string.\n   * @private\n   */\n  AV.Object._getSubclass = function(className) {\n    if (!_.isString(className)) {\n      throw new Error('AV.Object._getSubclass requires a string argument.');\n    }\n    var ObjectClass = AV.Object._classMap[className];\n    if (!ObjectClass) {\n      ObjectClass = AV.Object.extend(className);\n      AV.Object._classMap[className] = ObjectClass;\n    }\n    return ObjectClass;\n  };\n\n  /**\n   * Creates an instance of a subclass of AV.Object for the given classname.\n   * @private\n   */\n  AV.Object._create = function(className, attributes, options) {\n    var ObjectClass = AV.Object._getSubclass(className);\n    return new ObjectClass(attributes, options);\n  };\n\n  // Set up a map of className to class so that we can create new instances of\n  // AV Objects from JSON automatically.\n  AV.Object._classMap = {};\n\n  AV.Object._extend = AV._extend;\n\n  /**\n   * Creates a new model with defined attributes,\n   * It's the same with\n   * <pre>\n   *   new AV.Object(attributes, options);\n   *  </pre>\n   * @param {Object} attributes The initial set of data to store in the object.\n   * @param {Object} options A set of Backbone-like options for creating the\n   *     object.  The only option currently supported is \"collection\".\n   * @return {AV.Object}\n   * @since v0.4.4\n   * @see AV.Object\n   * @see AV.Object.extend\n   */\n  AV.Object['new'] = function(attributes, options) {\n    return new AV.Object(attributes, options);\n  };\n\n  /**\n   * Creates a new subclass of AV.Object for the given AV class name.\n   *\n   * <p>Every extension of a AV class will inherit from the most recent\n   * previous extension of that class. When a AV.Object is automatically\n   * created by parsing JSON, it will use the most recent extension of that\n   * class.</p>\n   *\n   * @example\n   * var MyClass = AV.Object.extend(\"MyClass\", {\n   *     // Instance properties\n   * }, {\n   *     // Class properties\n   * });\n   *\n   * @param {String} className The name of the AV class backing this model.\n   * @param {Object} protoProps Instance properties to add to instances of the\n   *     class returned from this method.\n   * @param {Object} classProps Class properties to add the class returned from\n   *     this method.\n   * @return {Class} A new subclass of AV.Object.\n   */\n  AV.Object.extend = function(className, protoProps, classProps) {\n    // Handle the case with only two args.\n    if (!_.isString(className)) {\n      if (className && _.has(className, 'className')) {\n        return AV.Object.extend(className.className, className, protoProps);\n      } else {\n        throw new Error(\n          \"AV.Object.extend's first argument should be the className.\"\n        );\n      }\n    }\n\n    // If someone tries to subclass \"User\", coerce it to the right type.\n    if (className === 'User') {\n      className = '_User';\n    }\n\n    var NewClassObject = null;\n    if (_.has(AV.Object._classMap, className)) {\n      var OldClassObject = AV.Object._classMap[className];\n      // This new subclass has been told to extend both from \"this\" and from\n      // OldClassObject. This is multiple inheritance, which isn't supported.\n      // For now, let's just pick one.\n      if (protoProps || classProps) {\n        NewClassObject = OldClassObject._extend(protoProps, classProps);\n      } else {\n        return OldClassObject;\n      }\n    } else {\n      protoProps = protoProps || {};\n      protoProps._className = className;\n      NewClassObject = this._extend(protoProps, classProps);\n    }\n    // Extending a subclass should reuse the classname automatically.\n    NewClassObject.extend = function(arg0) {\n      if (_.isString(arg0) || (arg0 && _.has(arg0, 'className'))) {\n        return AV.Object.extend.apply(NewClassObject, arguments);\n      }\n      var newArguments = [className].concat(_.toArray(arguments));\n      return AV.Object.extend.apply(NewClassObject, newArguments);\n    };\n    // Add the query property descriptor.\n    Object.defineProperty(\n      NewClassObject,\n      'query',\n      Object.getOwnPropertyDescriptor(AV.Object, 'query')\n    );\n    NewClassObject['new'] = function(attributes, options) {\n      return new NewClassObject(attributes, options);\n    };\n    AV.Object._classMap[className] = NewClassObject;\n    return NewClassObject;\n  };\n\n  // ES6 class syntax support\n  Object.defineProperty(AV.Object.prototype, 'className', {\n    get: function() {\n      const className =\n        this._className ||\n        this.constructor._LCClassName ||\n        this.constructor.name;\n      // If someone tries to subclass \"User\", coerce it to the right type.\n      if (className === 'User') {\n        return '_User';\n      }\n      return className;\n    },\n  });\n\n  /**\n   * Register a class.\n   * If a subclass of <code>AV.Object</code> is defined with your own implement\n   * rather then <code>AV.Object.extend</code>, the subclass must be registered.\n   * @param {Function} klass A subclass of <code>AV.Object</code>\n   * @param {String} [name] Specify the name of the class. Useful when the class might be uglified.\n   * @example\n   * class Person extend AV.Object {}\n   * AV.Object.register(Person);\n   */\n  AV.Object.register = (klass, name) => {\n    if (!(klass.prototype instanceof AV.Object)) {\n      throw new Error('registered class is not a subclass of AV.Object');\n    }\n    const className = name || klass.name;\n    if (!className.length) {\n      throw new Error('registered class must be named');\n    }\n    if (name) {\n      klass._LCClassName = name;\n    }\n    AV.Object._classMap[className] = klass;\n  };\n\n  /**\n   * Get a new Query of the current class\n   * @name query\n   * @memberof AV.Object\n   * @type AV.Query\n   * @readonly\n   * @since v3.1.0\n   * @example\n   * const Post = AV.Object.extend('Post');\n   * Post.query.equalTo('author', 'leancloud').find().then();\n   */\n  Object.defineProperty(AV.Object, 'query', {\n    get() {\n      return new AV.Query(this.prototype.className);\n    },\n  });\n\n  AV.Object._findUnsavedChildren = function(objects, children, files) {\n    AV._traverse(objects, function(object) {\n      if (object instanceof AV.Object) {\n        if (object.dirty()) {\n          children.push(object);\n        }\n        return;\n      }\n\n      if (object instanceof AV.File) {\n        if (!object.id) {\n          files.push(object);\n        }\n        return;\n      }\n    });\n  };\n\n  AV.Object._canBeSerializedAsValue = function(object) {\n    var canBeSerializedAsValue = true;\n\n    if (object instanceof AV.Object || object instanceof AV.File) {\n      canBeSerializedAsValue = !!object.id;\n    } else if (_.isArray(object)) {\n      AV._arrayEach(object, function(child) {\n        if (!AV.Object._canBeSerializedAsValue(child)) {\n          canBeSerializedAsValue = false;\n        }\n      });\n    } else if (_.isObject(object)) {\n      AV._objectEach(object, function(child) {\n        if (!AV.Object._canBeSerializedAsValue(child)) {\n          canBeSerializedAsValue = false;\n        }\n      });\n    }\n\n    return canBeSerializedAsValue;\n  };\n\n  AV.Object._deepSaveAsync = function(object, model, options) {\n    var unsavedChildren = [];\n    var unsavedFiles = [];\n    AV.Object._findUnsavedChildren(object, unsavedChildren, unsavedFiles);\n\n    var promise = Promise.resolve();\n    _.each(unsavedFiles, function(file) {\n      promise = promise.then(function() {\n        return file.save();\n      });\n    });\n\n    var objects = _.uniq(unsavedChildren);\n    var remaining = _.uniq(objects);\n\n    return promise\n      .then(function() {\n        return continueWhile(\n          function() {\n            return remaining.length > 0;\n          },\n          function() {\n            // Gather up all the objects that can be saved in this batch.\n            var batch = [];\n            var newRemaining = [];\n            AV._arrayEach(remaining, function(object) {\n              if (object._canBeSerialized()) {\n                batch.push(object);\n              } else {\n                newRemaining.push(object);\n              }\n            });\n            remaining = newRemaining;\n\n            // If we can't save any objects, there must be a circular reference.\n            if (batch.length === 0) {\n              return Promise.reject(\n                new AVError(\n                  AVError.OTHER_CAUSE,\n                  'Tried to save a batch with a cycle.'\n                )\n              );\n            }\n\n            // Reserve a spot in every object's save queue.\n            var readyToStart = Promise.resolve(\n              _.map(batch, function(object) {\n                return object._allPreviousSaves || Promise.resolve();\n              })\n            );\n\n            // Save a single batch, whether previous saves succeeded or failed.\n            const bathSavePromise = readyToStart.then(() =>\n              _request(\n                'batch',\n                null,\n                null,\n                'POST',\n                {\n                  requests: _.map(batch, function(object) {\n                    var method = object.id ? 'PUT' : 'POST';\n\n                    var json = object._getSaveJSON();\n\n                    _.extend(json, object._flags);\n\n                    var route = 'classes';\n                    var className = object.className;\n                    var path = `/${route}/${className}`;\n                    if (object.className === '_User' && !object.id) {\n                      // Special-case user sign-up.\n                      path = '/users';\n                    }\n\n                    var path = `/1.1${path}`;\n                    if (object.id) {\n                      path = path + '/' + object.id;\n                    }\n\n                    object._startSave();\n\n                    return {\n                      method: method,\n                      path: path,\n                      body: json,\n                    };\n                  }),\n                },\n                options\n              ).then(function(response) {\n                const results = _.map(batch, function(object, i) {\n                  if (response[i].success) {\n                    object._finishSave(object.parse(response[i].success));\n                    return object;\n                  }\n                  object._cancelSave();\n                  return new AVError(\n                    response[i].error.code,\n                    response[i].error.error\n                  );\n                });\n                return handleBatchResults(results);\n              })\n            );\n            AV._arrayEach(batch, function(object) {\n              object._allPreviousSaves = bathSavePromise;\n            });\n            return bathSavePromise;\n          }\n        );\n      })\n      .then(function() {\n        return object;\n      });\n  };\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/object.js","module.exports = { \"default\": require(\"core-js/library/fn/object/get-own-property-descriptor\"), __esModule: true };\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/babel-runtime/core-js/object/get-own-property-descriptor.js\n// module id = 140\n// module chunks = 0 1","require('../../modules/es6.object.get-own-property-descriptor');\nvar $Object = require('../../modules/_core').Object;\nmodule.exports = function getOwnPropertyDescriptor(it, key) {\n  return $Object.getOwnPropertyDescriptor(it, key);\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/fn/object/get-own-property-descriptor.js\n// module id = 141\n// module chunks = 0 1","// 19.1.2.6 Object.getOwnPropertyDescriptor(O, P)\nvar toIObject = require('./_to-iobject');\nvar $getOwnPropertyDescriptor = require('./_object-gopd').f;\n\nrequire('./_object-sap')('getOwnPropertyDescriptor', function () {\n  return function getOwnPropertyDescriptor(it, key) {\n    return $getOwnPropertyDescriptor(toIObject(it), key);\n  };\n});\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/es6.object.get-own-property-descriptor.js\n// module id = 142\n// module chunks = 0 1","\"use strict\";\n\nexports.__esModule = true;\n\nvar _isIterable2 = require(\"../core-js/is-iterable\");\n\nvar _isIterable3 = _interopRequireDefault(_isIterable2);\n\nvar _getIterator2 = require(\"../core-js/get-iterator\");\n\nvar _getIterator3 = _interopRequireDefault(_getIterator2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = function () {\n  function sliceIterator(arr, i) {\n    var _arr = [];\n    var _n = true;\n    var _d = false;\n    var _e = undefined;\n\n    try {\n      for (var _i = (0, _getIterator3.default)(arr), _s; !(_n = (_s = _i.next()).done); _n = true) {\n        _arr.push(_s.value);\n\n        if (i && _arr.length === i) break;\n      }\n    } catch (err) {\n      _d = true;\n      _e = err;\n    } finally {\n      try {\n        if (!_n && _i[\"return\"]) _i[\"return\"]();\n      } finally {\n        if (_d) throw _e;\n      }\n    }\n\n    return _arr;\n  }\n\n  return function (arr, i) {\n    if (Array.isArray(arr)) {\n      return arr;\n    } else if ((0, _isIterable3.default)(Object(arr))) {\n      return sliceIterator(arr, i);\n    } else {\n      throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n    }\n  };\n}();\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/babel-runtime/helpers/slicedToArray.js\n// module id = 143\n// module chunks = 0 1","module.exports = { \"default\": require(\"core-js/library/fn/is-iterable\"), __esModule: true };\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/babel-runtime/core-js/is-iterable.js\n// module id = 144\n// module chunks = 0 1","require('../modules/web.dom.iterable');\nrequire('../modules/es6.string.iterator');\nmodule.exports = require('../modules/core.is-iterable');\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/fn/is-iterable.js\n// module id = 145\n// module chunks = 0 1","var classof = require('./_classof');\nvar ITERATOR = require('./_wks')('iterator');\nvar Iterators = require('./_iterators');\nmodule.exports = require('./_core').isIterable = function (it) {\n  var O = Object(it);\n  return O[ITERATOR] !== undefined\n    || '@@iterator' in O\n    // eslint-disable-next-line no-prototype-builtins\n    || Iterators.hasOwnProperty(classof(O));\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/core.is-iterable.js\n// module id = 146\n// module chunks = 0 1","module.exports = { \"default\": require(\"core-js/library/fn/get-iterator\"), __esModule: true };\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/babel-runtime/core-js/get-iterator.js\n// module id = 147\n// module chunks = 0 1","require('../modules/web.dom.iterable');\nrequire('../modules/es6.string.iterator');\nmodule.exports = require('../modules/core.get-iterator');\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/fn/get-iterator.js\n// module id = 148\n// module chunks = 0 1","var anObject = require('./_an-object');\nvar get = require('./core.get-iterator-method');\nmodule.exports = require('./_core').getIterator = function (it) {\n  var iterFn = get(it);\n  if (typeof iterFn != 'function') throw TypeError(it + ' is not iterable!');\n  return anObject(iterFn.call(it));\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/core.get-iterator.js\n// module id = 149\n// module chunks = 0 1","const _ = require('underscore');\nconst AVError = require('./error');\n\nmodule.exports = function(AV) {\n  AV.Role = AV.Object.extend(\n    '_Role',\n    /** @lends AV.Role.prototype */ {\n      // Instance Methods\n\n      /**\n       * Represents a Role on the AV server. Roles represent groupings of\n       * Users for the purposes of granting permissions (e.g. specifying an ACL\n       * for an Object). Roles are specified by their sets of child users and\n       * child roles, all of which are granted any permissions that the parent\n       * role has.\n       *\n       * <p>Roles must have a name (which cannot be changed after creation of the\n       * role), and must specify an ACL.</p>\n       * An AV.Role is a local representation of a role persisted to the AV\n       * cloud.\n       * @class AV.Role\n       * @param {String} name The name of the Role to create.\n       * @param {AV.ACL} acl The ACL for this role.\n       */\n      constructor: function(name, acl) {\n        if (_.isString(name)) {\n          AV.Object.prototype.constructor.call(this, null, null);\n          this.setName(name);\n        } else {\n          AV.Object.prototype.constructor.call(this, name, acl);\n        }\n        if (acl) {\n          if (!(acl instanceof AV.ACL)) {\n            throw new TypeError('acl must be an instance of AV.ACL');\n          } else {\n            this.setACL(acl);\n          }\n        }\n      },\n\n      /**\n       * Gets the name of the role.  You can alternatively call role.get(\"name\")\n       *\n       * @return {String} the name of the role.\n       */\n      getName: function() {\n        return this.get('name');\n      },\n\n      /**\n       * Sets the name for a role. This value must be set before the role has\n       * been saved to the server, and cannot be set once the role has been\n       * saved.\n       *\n       * <p>\n       *   A role's name can only contain alphanumeric characters, _, -, and\n       *   spaces.\n       * </p>\n       *\n       * <p>This is equivalent to calling role.set(\"name\", name)</p>\n       *\n       * @param {String} name The name of the role.\n       */\n      setName: function(name, options) {\n        return this.set('name', name, options);\n      },\n\n      /**\n       * Gets the AV.Relation for the AV.Users that are direct\n       * children of this role. These users are granted any privileges that this\n       * role has been granted (e.g. read or write access through ACLs). You can\n       * add or remove users from the role through this relation.\n       *\n       * <p>This is equivalent to calling role.relation(\"users\")</p>\n       *\n       * @return {AV.Relation} the relation for the users belonging to this\n       *     role.\n       */\n      getUsers: function() {\n        return this.relation('users');\n      },\n\n      /**\n       * Gets the AV.Relation for the AV.Roles that are direct\n       * children of this role. These roles' users are granted any privileges that\n       * this role has been granted (e.g. read or write access through ACLs). You\n       * can add or remove child roles from this role through this relation.\n       *\n       * <p>This is equivalent to calling role.relation(\"roles\")</p>\n       *\n       * @return {AV.Relation} the relation for the roles belonging to this\n       *     role.\n       */\n      getRoles: function() {\n        return this.relation('roles');\n      },\n\n      /**\n       * @ignore\n       */\n      validate: function(attrs, options) {\n        if ('name' in attrs && attrs.name !== this.getName()) {\n          var newName = attrs.name;\n          if (this.id && this.id !== attrs.objectId) {\n            // Check to see if the objectId being set matches this.id.\n            // This happens during a fetch -- the id is set before calling fetch.\n            // Let the name be set in this case.\n            return new AVError(\n              AVError.OTHER_CAUSE,\n              \"A role's name can only be set before it has been saved.\"\n            );\n          }\n          if (!_.isString(newName)) {\n            return new AVError(\n              AVError.OTHER_CAUSE,\n              \"A role's name must be a String.\"\n            );\n          }\n          if (!/^[0-9a-zA-Z\\-_ ]+$/.test(newName)) {\n            return new AVError(\n              AVError.OTHER_CAUSE,\n              \"A role's name can only contain alphanumeric characters, _,\" +\n                ' -, and spaces.'\n            );\n          }\n        }\n        if (AV.Object.prototype.validate) {\n          return AV.Object.prototype.validate.call(this, attrs, options);\n        }\n        return false;\n      },\n    }\n  );\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/role.js","const _ = require('underscore');\nconst uuid = require('uuid/v4');\nconst AVError = require('./error');\nconst { _request: AVRequest, request } = require('./request');\nconst { getAdapter } = require('./adapter');\n\nconst PLATFORM_ANONYMOUS = 'anonymous';\nconst PLATFORM_QQAPP = 'lc_qqapp';\n\nconst mergeUnionDataIntoAuthData = (defaultUnionIdPlatform = 'weixin') => (\n  authData,\n  unionId,\n  { unionIdPlatform = defaultUnionIdPlatform, asMainAccount = false } = {}\n) => {\n  if (typeof unionId !== 'string')\n    throw new AVError(AVError.OTHER_CAUSE, 'unionId is not a string');\n  if (typeof unionIdPlatform !== 'string')\n    throw new AVError(AVError.OTHER_CAUSE, 'unionIdPlatform is not a string');\n\n  return _.extend({}, authData, {\n    platform: unionIdPlatform,\n    unionid: unionId,\n    main_account: Boolean(asMainAccount),\n  });\n};\n\nmodule.exports = function(AV) {\n  /**\n   * @class\n   *\n   * <p>An AV.User object is a local representation of a user persisted to the\n   * LeanCloud server. This class is a subclass of an AV.Object, and retains the\n   * same functionality of an AV.Object, but also extends it with various\n   * user specific methods, like authentication, signing up, and validation of\n   * uniqueness.</p>\n   */\n  AV.User = AV.Object.extend(\n    '_User',\n    /** @lends AV.User.prototype */ {\n      // Instance Variables\n      _isCurrentUser: false,\n\n      // Instance Methods\n\n      /**\n       * Internal method to handle special fields in a _User response.\n       * @private\n       */\n      _mergeMagicFields: function(attrs) {\n        if (attrs.sessionToken) {\n          this._sessionToken = attrs.sessionToken;\n          delete attrs.sessionToken;\n        }\n        return AV.User.__super__._mergeMagicFields.call(this, attrs);\n      },\n\n      /**\n       * Removes null values from authData (which exist temporarily for\n       * unlinking)\n       * @private\n       */\n      _cleanupAuthData: function() {\n        if (!this.isCurrent()) {\n          return;\n        }\n        var authData = this.get('authData');\n        if (!authData) {\n          return;\n        }\n        AV._objectEach(this.get('authData'), function(value, key) {\n          if (!authData[key]) {\n            delete authData[key];\n          }\n        });\n      },\n\n      /**\n       * Synchronizes authData for all providers.\n       * @private\n       */\n      _synchronizeAllAuthData: function() {\n        var authData = this.get('authData');\n        if (!authData) {\n          return;\n        }\n\n        var self = this;\n        AV._objectEach(this.get('authData'), function(value, key) {\n          self._synchronizeAuthData(key);\n        });\n      },\n\n      /**\n       * Synchronizes auth data for a provider (e.g. puts the access token in the\n       * right place to be used by the Facebook SDK).\n       * @private\n       */\n      _synchronizeAuthData: function(provider) {\n        if (!this.isCurrent()) {\n          return;\n        }\n        var authType;\n        if (_.isString(provider)) {\n          authType = provider;\n          provider = AV.User._authProviders[authType];\n        } else {\n          authType = provider.getAuthType();\n        }\n        var authData = this.get('authData');\n        if (!authData || !provider) {\n          return;\n        }\n        var success = provider.restoreAuthentication(authData[authType]);\n        if (!success) {\n          this.dissociateAuthData(provider);\n        }\n      },\n\n      _handleSaveResult: function(makeCurrent) {\n        // Clean up and synchronize the authData object, removing any unset values\n        if (makeCurrent && !AV._config.disableCurrentUser) {\n          this._isCurrentUser = true;\n        }\n        this._cleanupAuthData();\n        this._synchronizeAllAuthData();\n        // Don't keep the password around.\n        delete this._serverData.password;\n        this._rebuildEstimatedDataForKey('password');\n        this._refreshCache();\n        if (\n          (makeCurrent || this.isCurrent()) &&\n          !AV._config.disableCurrentUser\n        ) {\n          // Some old version of leanengine-node-sdk will overwrite\n          // AV.User._saveCurrentUser which returns no Promise.\n          // So we need a Promise wrapper.\n          return Promise.resolve(AV.User._saveCurrentUser(this));\n        } else {\n          return Promise.resolve();\n        }\n      },\n\n      /**\n       * Unlike in the Android/iOS SDKs, logInWith is unnecessary, since you can\n       * call linkWith on the user (even if it doesn't exist yet on the server).\n       * @private\n       */\n      _linkWith: function(provider, data, { failOnNotExist = false } = {}) {\n        var authType;\n        if (_.isString(provider)) {\n          authType = provider;\n          provider = AV.User._authProviders[provider];\n        } else {\n          authType = provider.getAuthType();\n        }\n        if (data) {\n          return this.save(\n            { authData: { [authType]: data } },\n            {\n              fetchWhenSave: !!this.get('authData'),\n              _failOnNotExist: failOnNotExist,\n            }\n          ).then(function(model) {\n            return model._handleSaveResult(true).then(function() {\n              return model;\n            });\n          });\n        } else {\n          return provider\n            .authenticate()\n            .then(result => this._linkWith(provider, result));\n        }\n      },\n\n      /**\n       * Associate the user with a third party authData.\n       * @since 3.3.0\n       * @param {Object} authData The response json data returned from third party token, maybe like { openid: 'abc123', access_token: '123abc', expires_in: 1382686496 }\n       * @param {string} platform Available platform for sign up.\n       * @return {Promise<AV.User>} A promise that is fulfilled with the user when completed.\n       * @example user.associateWithAuthData({\n       *   openid: 'abc123',\n       *   access_token: '123abc',\n       *   expires_in: 1382686496\n       * }, 'weixin').then(function(user) {\n       *   //Access user here\n       * }).catch(function(error) {\n       *   //console.error(\"error: \", error);\n       * });\n       */\n      associateWithAuthData(authData, platform) {\n        return this._linkWith(platform, authData);\n      },\n\n      /**\n       * Associate the user with a third party authData and unionId.\n       * @since 3.5.0\n       * @param {Object} authData The response json data returned from third party token, maybe like { openid: 'abc123', access_token: '123abc', expires_in: 1382686496 }\n       * @param {string} platform Available platform for sign up.\n       * @param {string} unionId\n       * @param {Object} [unionLoginOptions]\n       * @param {string} [unionLoginOptions.unionIdPlatform = 'weixin'] unionId platform\n       * @param {boolean} [unionLoginOptions.asMainAccount = false] If true, the unionId will be associated with the user.\n       * @return {Promise<AV.User>} A promise that is fulfilled with the user when completed.\n       * @example user.associateWithAuthDataAndUnionId({\n       *   openid: 'abc123',\n       *   access_token: '123abc',\n       *   expires_in: 1382686496\n       * }, 'weixin', 'union123', {\n       *   unionIdPlatform: 'weixin',\n       *   asMainAccount: true,\n       * }).then(function(user) {\n       *   //Access user here\n       * }).catch(function(error) {\n       *   //console.error(\"error: \", error);\n       * });\n       */\n      associateWithAuthDataAndUnionId(\n        authData,\n        platform,\n        unionId,\n        unionOptions\n      ) {\n        return this._linkWith(\n          platform,\n          mergeUnionDataIntoAuthData()(authData, unionId, unionOptions)\n        );\n      },\n\n      /**\n       * Associate the user with the identity of the current mini-app.\n       * @since 4.6.0\n       * @param {Object} [authInfo]\n       * @param {Object} [option]\n       * @param {Boolean} [option.failOnNotExist] If true, the login request will fail when no user matches this authInfo.authData exists.\n       * @return {Promise<AV.User>}\n       */\n      associateWithMiniApp(authInfo, option) {\n        if (authInfo === undefined) {\n          const getAuthInfo = getAdapter('getAuthInfo');\n          return getAuthInfo().then(authInfo =>\n            this._linkWith(authInfo.provider, authInfo.authData, option)\n          );\n        }\n        return this._linkWith(authInfo.provider, authInfo.authData, option);\n      },\n\n      /**\n       *  QQ  QQ \n       *  QQ \n       *\n       * @deprecated Please use {@link AV.User#associateWithMiniApp}\n       * @since 4.2.0\n       * @param {Object} [options]\n       * @param {boolean} [options.preferUnionId = false]  UnionId UnionId \n       * @param {string} [options.unionIdPlatform = 'qq'] (only take effect when preferUnionId) unionId platform\n       * @param {boolean} [options.asMainAccount = true] (only take effect when preferUnionId) If true, the unionId will be associated with the user.\n       * @return {Promise<AV.User>}\n       */\n      associateWithQQApp({\n        preferUnionId = false,\n        unionIdPlatform = 'qq',\n        asMainAccount = true,\n      } = {}) {\n        const getAuthInfo = getAdapter('getAuthInfo');\n        return getAuthInfo({\n          preferUnionId,\n          asMainAccount,\n          platform: unionIdPlatform,\n        }).then(authInfo => {\n          authInfo.provider = PLATFORM_QQAPP;\n          return this.associateWithMiniApp(authInfo);\n        });\n      },\n\n      /**\n       * \n       * \n       *\n       * @deprecated Please use {@link AV.User#associateWithMiniApp}\n       * @since 3.13.0\n       * @param {Object} [options]\n       * @param {boolean} [options.preferUnionId = false]  {@link https://developers.weixin.qq.com/miniprogram/dev/framework/open-ability/union-id.html  UnionId }  UnionId \n       * @param {string} [options.unionIdPlatform = 'weixin'] (only take effect when preferUnionId) unionId platform\n       * @param {boolean} [options.asMainAccount = true] (only take effect when preferUnionId) If true, the unionId will be associated with the user.\n       * @return {Promise<AV.User>}\n       */\n      associateWithWeapp({\n        preferUnionId = false,\n        unionIdPlatform = 'weixin',\n        asMainAccount = true,\n      } = {}) {\n        const getAuthInfo = getAdapter('getAuthInfo');\n        return getAuthInfo({\n          preferUnionId,\n          asMainAccount,\n          platform: unionIdPlatform,\n        }).then(authInfo => this.associateWithMiniApp(authInfo));\n      },\n\n      /**\n       * @deprecated renamed to {@link AV.User#associateWithWeapp}\n       * @return {Promise<AV.User>}\n       */\n      linkWithWeapp(options) {\n        console.warn(\n          'DEPRECATED: User#linkWithWeapp  User#associateWithWeapp '\n        );\n        return this.associateWithWeapp(options);\n      },\n\n      /**\n       *  QQ  QQ  QQ \n       *  QQ \n       *\n       * @deprecated Please use {@link AV.User#associateWithMiniApp}\n       * @since 4.2.0\n       * @param {string} unionId\n       * @param {Object} [unionOptions]\n       * @param {string} [unionOptions.unionIdPlatform = 'qq'] unionId platform\n       * @param {boolean} [unionOptions.asMainAccount = false] If true, the unionId will be associated with the user.\n       * @return {Promise<AV.User>}\n       */\n      associateWithQQAppWithUnionId(\n        unionId,\n        { unionIdPlatform = 'qq', asMainAccount = false } = {}\n      ) {\n        const getAuthInfo = getAdapter('getAuthInfo');\n        return getAuthInfo({ platform: unionIdPlatform }).then(authInfo => {\n          authInfo = AV.User.mergeUnionId(authInfo, unionId, { asMainAccount });\n          authInfo.provider = PLATFORM_QQAPP;\n          return this.associateWithMiniApp(authInfo);\n        });\n      },\n\n      /**\n       * \n       * \n       *\n       * @deprecated Please use {@link AV.User#associateWithMiniApp}\n       * @since 3.13.0\n       * @param {string} unionId\n       * @param {Object} [unionOptions]\n       * @param {string} [unionOptions.unionIdPlatform = 'weixin'] unionId platform\n       * @param {boolean} [unionOptions.asMainAccount = false] If true, the unionId will be associated with the user.\n       * @return {Promise<AV.User>}\n       */\n      associateWithWeappWithUnionId(\n        unionId,\n        { unionIdPlatform = 'weixin', asMainAccount = false } = {}\n      ) {\n        const getAuthInfo = getAdapter('getAuthInfo');\n        return getAuthInfo({ platform: unionIdPlatform }).then(authInfo => {\n          authInfo = AV.User.mergeUnionId(authInfo, unionId, { asMainAccount });\n          return this.associateWithMiniApp(authInfo);\n        });\n      },\n\n      /**\n       * Unlinks a user from a service.\n       * @param {string} platform\n       * @return {Promise<AV.User>}\n       * @since 3.3.0\n       */\n      dissociateAuthData(provider) {\n        this.unset(`authData.${provider}`);\n        return this.save().then(model =>\n          model._handleSaveResult(true).then(() => model)\n        );\n      },\n\n      /**\n       * @private\n       * @deprecated\n       */\n      _unlinkFrom(provider) {\n        console.warn(\n          'DEPRECATED: User#_unlinkFrom  User#dissociateAuthData '\n        );\n        return this.dissociateAuthData(provider);\n      },\n\n      /**\n       * Checks whether a user is linked to a service.\n       * @private\n       */\n      _isLinked: function(provider) {\n        var authType;\n        if (_.isString(provider)) {\n          authType = provider;\n        } else {\n          authType = provider.getAuthType();\n        }\n        var authData = this.get('authData') || {};\n        return !!authData[authType];\n      },\n\n      /**\n       * Checks whether a user is anonymous.\n       * @since 3.9.0\n       * @return {boolean}\n       */\n      isAnonymous() {\n        return this._isLinked(PLATFORM_ANONYMOUS);\n      },\n\n      logOut: function() {\n        this._logOutWithAll();\n        this._isCurrentUser = false;\n      },\n\n      /**\n       * Deauthenticates all providers.\n       * @private\n       */\n      _logOutWithAll: function() {\n        var authData = this.get('authData');\n        if (!authData) {\n          return;\n        }\n        var self = this;\n        AV._objectEach(this.get('authData'), function(value, key) {\n          self._logOutWith(key);\n        });\n      },\n\n      /**\n       * Deauthenticates a single provider (e.g. removing access tokens from the\n       * Facebook SDK).\n       * @private\n       */\n      _logOutWith: function(provider) {\n        if (!this.isCurrent()) {\n          return;\n        }\n        if (_.isString(provider)) {\n          provider = AV.User._authProviders[provider];\n        }\n        if (provider && provider.deauthenticate) {\n          provider.deauthenticate();\n        }\n      },\n\n      /**\n       * Signs up a new user. You should call this instead of save for\n       * new AV.Users. This will create a new AV.User on the server, and\n       * also persist the session on disk so that you can access the user using\n       * <code>current</code>.\n       *\n       * <p>A username and password must be set before calling signUp.</p>\n       *\n       * @param {Object} attrs Extra fields to set on the new user, or null.\n       * @param {AuthOptions} options\n       * @return {Promise} A promise that is fulfilled when the signup\n       *     finishes.\n       * @see AV.User.signUp\n       */\n      signUp: function(attrs, options) {\n        var error;\n\n        var username = (attrs && attrs.username) || this.get('username');\n        if (!username || username === '') {\n          error = new AVError(\n            AVError.OTHER_CAUSE,\n            'Cannot sign up user with an empty name.'\n          );\n          throw error;\n        }\n\n        var password = (attrs && attrs.password) || this.get('password');\n        if (!password || password === '') {\n          error = new AVError(\n            AVError.OTHER_CAUSE,\n            'Cannot sign up user with an empty password.'\n          );\n          throw error;\n        }\n\n        return this.save(attrs, options).then(function(model) {\n          if (model.isAnonymous()) {\n            model.unset(`authData.${PLATFORM_ANONYMOUS}`);\n            model._opSetQueue = [{}];\n          }\n          return model._handleSaveResult(true).then(function() {\n            return model;\n          });\n        });\n      },\n\n      /**\n       * Signs up a new user with mobile phone and sms code.\n       * You should call this instead of save for\n       * new AV.Users. This will create a new AV.User on the server, and\n       * also persist the session on disk so that you can access the user using\n       * <code>current</code>.\n       *\n       * <p>A username and password must be set before calling signUp.</p>\n       *\n       * @param {Object} attrs Extra fields to set on the new user, or null.\n       * @param {AuthOptions} options\n       * @return {Promise} A promise that is fulfilled when the signup\n       *     finishes.\n       * @see AV.User.signUpOrlogInWithMobilePhone\n       * @see AV.Cloud.requestSmsCode\n       */\n      signUpOrlogInWithMobilePhone: function(attrs, options = {}) {\n        var error;\n\n        var mobilePhoneNumber =\n          (attrs && attrs.mobilePhoneNumber) || this.get('mobilePhoneNumber');\n        if (!mobilePhoneNumber || mobilePhoneNumber === '') {\n          error = new AVError(\n            AVError.OTHER_CAUSE,\n            'Cannot sign up or login user by mobilePhoneNumber ' +\n              'with an empty mobilePhoneNumber.'\n          );\n          throw error;\n        }\n\n        var smsCode = (attrs && attrs.smsCode) || this.get('smsCode');\n        if (!smsCode || smsCode === '') {\n          error = new AVError(\n            AVError.OTHER_CAUSE,\n            'Cannot sign up or login user by mobilePhoneNumber  ' +\n              'with an empty smsCode.'\n          );\n          throw error;\n        }\n\n        options._makeRequest = function(route, className, id, method, json) {\n          return AVRequest('usersByMobilePhone', null, null, 'POST', json);\n        };\n        return this.save(attrs, options).then(function(model) {\n          delete model.attributes.smsCode;\n          delete model._serverData.smsCode;\n          return model._handleSaveResult(true).then(function() {\n            return model;\n          });\n        });\n      },\n\n      /**\n       * The same with {@link AV.User.loginWithAuthData}, except that you can set attributes before login.\n       * @since 3.7.0\n       */\n      loginWithAuthData(authData, platform, options) {\n        return this._linkWith(platform, authData, options);\n      },\n\n      /**\n       * The same with {@link AV.User.loginWithAuthDataAndUnionId}, except that you can set attributes before login.\n       * @since 3.7.0\n       */\n      loginWithAuthDataAndUnionId(\n        authData,\n        platform,\n        unionId,\n        unionLoginOptions\n      ) {\n        return this.loginWithAuthData(\n          mergeUnionDataIntoAuthData()(authData, unionId, unionLoginOptions),\n          platform,\n          unionLoginOptions\n        );\n      },\n\n      /**\n       * The same with {@link AV.User.loginWithWeapp}, except that you can set attributes before login.\n       * @deprecated please use {@link AV.User#loginWithMiniApp}\n       * @since 3.7.0\n       * @param {Object} [options]\n       * @param {boolean} [options.failOnNotExist] If true, the login request will fail when no user matches this authData exists.\n       * @param {boolean} [options.preferUnionId]  {@link https://developers.weixin.qq.com/miniprogram/dev/framework/open-ability/union-id.html  UnionId }  UnionId since 3.13.0\n       * @param {string} [options.unionIdPlatform = 'weixin'] (only take effect when preferUnionId) unionId platform\n       * @param {boolean} [options.asMainAccount = true] (only take effect when preferUnionId) If true, the unionId will be associated with the user.\n       * @return {Promise<AV.User>}\n       */\n      loginWithWeapp({\n        preferUnionId = false,\n        unionIdPlatform = 'weixin',\n        asMainAccount = true,\n        failOnNotExist = false,\n      } = {}) {\n        const getAuthInfo = getAdapter('getAuthInfo');\n        return getAuthInfo({\n          preferUnionId,\n          asMainAccount,\n          platform: unionIdPlatform,\n        }).then(authInfo =>\n          this.loginWithMiniApp(authInfo, { failOnNotExist })\n        );\n      },\n\n      /**\n       * The same with {@link AV.User.loginWithWeappWithUnionId}, except that you can set attributes before login.\n       * @deprecated please use {@link AV.User#loginWithMiniApp}\n       * @since 3.13.0\n       */\n      loginWithWeappWithUnionId(\n        unionId,\n        {\n          unionIdPlatform = 'weixin',\n          asMainAccount = false,\n          failOnNotExist = false,\n        } = {}\n      ) {\n        const getAuthInfo = getAdapter('getAuthInfo');\n        return getAuthInfo({ platform: unionIdPlatform }).then(authInfo => {\n          authInfo = AV.User.mergeUnionId(authInfo, unionId, { asMainAccount });\n          return this.loginWithMiniApp(authInfo, { failOnNotExist });\n        });\n      },\n\n      /**\n       * The same with {@link AV.User.loginWithQQApp}, except that you can set attributes before login.\n       * @deprecated please use {@link AV.User#loginWithMiniApp}\n       * @since 4.2.0\n       * @param {Object} [options]\n       * @param {boolean} [options.failOnNotExist] If true, the login request will fail when no user matches this authData exists.\n       * @param {boolean} [options.preferUnionId]  UnionId UnionId \n       * @param {string} [options.unionIdPlatform = 'qq'] (only take effect when preferUnionId) unionId platform\n       * @param {boolean} [options.asMainAccount = true] (only take effect when preferUnionId) If true, the unionId will be associated with the user.\n       */\n      loginWithQQApp({\n        preferUnionId = false,\n        unionIdPlatform = 'qq',\n        asMainAccount = true,\n        failOnNotExist = false,\n      } = {}) {\n        const getAuthInfo = getAdapter('getAuthInfo');\n        return getAuthInfo({\n          preferUnionId,\n          asMainAccount,\n          platform: unionIdPlatform,\n        }).then(authInfo => {\n          authInfo.provider = PLATFORM_QQAPP;\n          return this.loginWithMiniApp(authInfo, { failOnNotExist });\n        });\n      },\n\n      /**\n       * The same with {@link AV.User.loginWithQQAppWithUnionId}, except that you can set attributes before login.\n       * @deprecated please use {@link AV.User#loginWithMiniApp}\n       * @since 4.2.0\n       */\n      loginWithQQAppWithUnionId(\n        unionId,\n        {\n          unionIdPlatform = 'qq',\n          asMainAccount = false,\n          failOnNotExist = false,\n        } = {}\n      ) {\n        const getAuthInfo = getAdapter('getAuthInfo');\n        return getAuthInfo({ platform: unionIdPlatform }).then(authInfo => {\n          authInfo = AV.User.mergeUnionId(authInfo, unionId, { asMainAccount });\n          authInfo.provider = PLATFORM_QQAPP;\n          return this.loginWithMiniApp(authInfo, { failOnNotExist });\n        });\n      },\n\n      /**\n       * The same with {@link AV.User.loginWithMiniApp}, except that you can set attributes before login.\n       * @since 4.6.0\n       */\n      loginWithMiniApp(authInfo, option) {\n        if (authInfo === undefined) {\n          const getAuthInfo = getAdapter('getAuthInfo');\n          return getAuthInfo().then(authInfo =>\n            this.loginWithAuthData(authInfo.authData, authInfo.provider, option)\n          );\n        }\n        return this.loginWithAuthData(\n          authInfo.authData,\n          authInfo.provider,\n          option\n        );\n      },\n\n      /**\n       * Logs in a AV.User. On success, this saves the session to localStorage,\n       * so you can retrieve the currently logged in user using\n       * <code>current</code>.\n       *\n       * <p>A username and password must be set before calling logIn.</p>\n       *\n       * @see AV.User.logIn\n       * @return {Promise} A promise that is fulfilled with the user when\n       *     the login is complete.\n       */\n      logIn: function() {\n        var model = this;\n        var request = AVRequest('login', null, null, 'POST', this.toJSON());\n        return request.then(function(resp) {\n          var serverAttrs = model.parse(resp);\n          model._finishFetch(serverAttrs);\n          return model._handleSaveResult(true).then(function() {\n            if (!serverAttrs.smsCode) delete model.attributes['smsCode'];\n            return model;\n          });\n        });\n      },\n      /**\n       * @see AV.Object#save\n       */\n      save: function(arg1, arg2, arg3) {\n        var attrs, options;\n        if (_.isObject(arg1) || _.isNull(arg1) || _.isUndefined(arg1)) {\n          attrs = arg1;\n          options = arg2;\n        } else {\n          attrs = {};\n          attrs[arg1] = arg2;\n          options = arg3;\n        }\n        options = options || {};\n\n        return AV.Object.prototype.save\n          .call(this, attrs, options)\n          .then(function(model) {\n            return model._handleSaveResult(false).then(function() {\n              return model;\n            });\n          });\n      },\n\n      /**\n       * Follow a user\n       * @since 0.3.0\n       * @param {Object | AV.User | String} options if an AV.User or string is given, it will be used as the target user.\n       * @param {AV.User | String} options.user The target user or user's objectId to follow.\n       * @param {Object} [options.attributes] key-value attributes dictionary to be used as\n       *  conditions of followerQuery/followeeQuery.\n       * @param {AuthOptions} [authOptions]\n       */\n      follow: function(options, authOptions) {\n        if (!this.id) {\n          throw new Error('Please signin.');\n        }\n        let user;\n        let attributes;\n        if (options.user) {\n          user = options.user;\n          attributes = options.attributes;\n        } else {\n          user = options;\n        }\n        var userObjectId = _.isString(user) ? user : user.id;\n        if (!userObjectId) {\n          throw new Error('Invalid target user.');\n        }\n        var route = 'users/' + this.id + '/friendship/' + userObjectId;\n        var request = AVRequest(\n          route,\n          null,\n          null,\n          'POST',\n          AV._encode(attributes),\n          authOptions\n        );\n        return request;\n      },\n\n      /**\n       * Unfollow a user.\n       * @since 0.3.0\n       * @param {Object | AV.User | String} options if an AV.User or string is given, it will be used as the target user.\n       * @param {AV.User | String} options.user The target user or user's objectId to unfollow.\n       * @param {AuthOptions} [authOptions]\n       */\n      unfollow: function(options, authOptions) {\n        if (!this.id) {\n          throw new Error('Please signin.');\n        }\n        let user;\n        if (options.user) {\n          user = options.user;\n        } else {\n          user = options;\n        }\n        var userObjectId = _.isString(user) ? user : user.id;\n        if (!userObjectId) {\n          throw new Error('Invalid target user.');\n        }\n        var route = 'users/' + this.id + '/friendship/' + userObjectId;\n        var request = AVRequest(route, null, null, 'DELETE', null, authOptions);\n        return request;\n      },\n\n      /**\n       * Get the user's followers and followees.\n       * @since 4.8.0\n       * @param {Object} [options]\n       * @param {Number} [options.skip]\n       * @param {Number} [options.limit]\n       * @param {AuthOptions} [authOptions]\n       */\n      getFollowersAndFollowees: function(options, authOptions) {\n        if (!this.id) {\n          throw new Error('Please signin.');\n        }\n        return request({\n          method: 'GET',\n          path: `/users/${this.id}/followersAndFollowees`,\n          query: {\n            skip: options && options.skip,\n            limit: options && options.limit,\n            include: 'follower,followee',\n            keys: 'follower,followee',\n          },\n          authOptions,\n        }).then(({ followers, followees }) => ({\n          followers: followers.map(({ follower }) => AV._decode(follower)),\n          followees: followees.map(({ followee }) => AV._decode(followee)),\n        }));\n      },\n\n      /**\n       *Create a follower query to query the user's followers.\n       * @since 0.3.0\n       * @see AV.User#followerQuery\n       */\n      followerQuery: function() {\n        return AV.User.followerQuery(this.id);\n      },\n\n      /**\n       *Create a followee query to query the user's followees.\n       * @since 0.3.0\n       * @see AV.User#followeeQuery\n       */\n      followeeQuery: function() {\n        return AV.User.followeeQuery(this.id);\n      },\n\n      /**\n       * @see AV.Object#fetch\n       */\n      fetch: function(fetchOptions, options) {\n        return AV.Object.prototype.fetch\n          .call(this, fetchOptions, options)\n          .then(function(model) {\n            return model._handleSaveResult(false).then(function() {\n              return model;\n            });\n          });\n      },\n\n      /**\n       * Update user's new password safely based on old password.\n       * @param {String} oldPassword the old password.\n       * @param {String} newPassword the new password.\n       * @param {AuthOptions} options\n       */\n      updatePassword: function(oldPassword, newPassword, options) {\n        var route = 'users/' + this.id + '/updatePassword';\n        var params = {\n          old_password: oldPassword,\n          new_password: newPassword,\n        };\n        var request = AVRequest(route, null, null, 'PUT', params, options);\n        return request.then(resp => {\n          this._finishFetch(this.parse(resp));\n          return this._handleSaveResult(true).then(() => resp);\n        });\n      },\n\n      /**\n       * Returns true if <code>current</code> would return this user.\n       * @see AV.User#current\n       */\n      isCurrent: function() {\n        return this._isCurrentUser;\n      },\n\n      /**\n       * Returns get(\"username\").\n       * @return {String}\n       * @see AV.Object#get\n       */\n      getUsername: function() {\n        return this.get('username');\n      },\n\n      /**\n       * Returns get(\"mobilePhoneNumber\").\n       * @return {String}\n       * @see AV.Object#get\n       */\n      getMobilePhoneNumber: function() {\n        return this.get('mobilePhoneNumber');\n      },\n\n      /**\n       * Calls set(\"mobilePhoneNumber\", phoneNumber, options) and returns the result.\n       * @param {String} mobilePhoneNumber\n       * @return {Boolean}\n       * @see AV.Object#set\n       */\n      setMobilePhoneNumber: function(phone, options) {\n        return this.set('mobilePhoneNumber', phone, options);\n      },\n\n      /**\n       * Calls set(\"username\", username, options) and returns the result.\n       * @param {String} username\n       * @return {Boolean}\n       * @see AV.Object#set\n       */\n      setUsername: function(username, options) {\n        return this.set('username', username, options);\n      },\n\n      /**\n       * Calls set(\"password\", password, options) and returns the result.\n       * @param {String} password\n       * @return {Boolean}\n       * @see AV.Object#set\n       */\n      setPassword: function(password, options) {\n        return this.set('password', password, options);\n      },\n\n      /**\n       * Returns get(\"email\").\n       * @return {String}\n       * @see AV.Object#get\n       */\n      getEmail: function() {\n        return this.get('email');\n      },\n\n      /**\n       * Calls set(\"email\", email, options) and returns the result.\n       * @param {String} email\n       * @param {AuthOptions} options\n       * @return {Boolean}\n       * @see AV.Object#set\n       */\n      setEmail: function(email, options) {\n        return this.set('email', email, options);\n      },\n\n      /**\n       * Checks whether this user is the current user and has been authenticated.\n       * @deprecated  currentUser.isAuthenticated().then()\n       *  user.id === currentUser.id\n       * @return (Boolean) whether this user is the current user and is logged in.\n       */\n      authenticated: function() {\n        console.warn(\n          'DEPRECATED:  currentUser.isAuthenticated().then() user.id === currentUser.id'\n        );\n        return (\n          !!this._sessionToken &&\n          (!AV._config.disableCurrentUser &&\n            AV.User.current() &&\n            AV.User.current().id === this.id)\n        );\n      },\n\n      /**\n       * Detects if current sessionToken is valid.\n       *\n       * @since 2.0.0\n       * @return Promise.<Boolean>\n       */\n      isAuthenticated() {\n        return Promise.resolve().then(\n          () =>\n            !!this._sessionToken &&\n            AV.User._fetchUserBySessionToken(this._sessionToken).then(\n              () => true,\n              error => {\n                if (error.code === 211) {\n                  return false;\n                }\n                throw error;\n              }\n            )\n        );\n      },\n\n      /**\n       * Get sessionToken of current user.\n       * @return {String} sessionToken\n       */\n      getSessionToken() {\n        return this._sessionToken;\n      },\n\n      /**\n       * Refresh sessionToken of current user.\n       * @since 2.1.0\n       * @param {AuthOptions} [options]\n       * @return {Promise.<AV.User>} user with refreshed sessionToken\n       */\n      refreshSessionToken(options) {\n        return AVRequest(\n          `users/${this.id}/refreshSessionToken`,\n          null,\n          null,\n          'PUT',\n          null,\n          options\n        ).then(response => {\n          this._finishFetch(response);\n          return this._handleSaveResult(true).then(() => this);\n        });\n      },\n\n      /**\n       * Get this user's Roles.\n       * @param {AuthOptions} [options]\n       * @return {Promise.<AV.Role[]>} A promise that is fulfilled with the roles when\n       *     the query is complete.\n       */\n      getRoles(options) {\n        return AV.Relation.reverseQuery('_Role', 'users', this).find(options);\n      },\n    },\n    /** @lends AV.User */ {\n      // Class Variables\n\n      // The currently logged-in user.\n      _currentUser: null,\n\n      // Whether currentUser is known to match the serialized version on disk.\n      // This is useful for saving a localstorage check if you try to load\n      // _currentUser frequently while there is none stored.\n      _currentUserMatchesDisk: false,\n\n      // The localStorage key suffix that the current user is stored under.\n      _CURRENT_USER_KEY: 'currentUser',\n\n      // The mapping of auth provider names to actual providers\n      _authProviders: {},\n\n      // Class Methods\n\n      /**\n       * Signs up a new user with a username (or email) and password.\n       * This will create a new AV.User on the server, and also persist the\n       * session in localStorage so that you can access the user using\n       * {@link #current}.\n       *\n       * @param {String} username The username (or email) to sign up with.\n       * @param {String} password The password to sign up with.\n       * @param {Object} [attrs] Extra fields to set on the new user.\n       * @param {AuthOptions} [options]\n       * @return {Promise} A promise that is fulfilled with the user when\n       *     the signup completes.\n       * @see AV.User#signUp\n       */\n      signUp: function(username, password, attrs, options) {\n        attrs = attrs || {};\n        attrs.username = username;\n        attrs.password = password;\n        var user = AV.Object._create('_User');\n        return user.signUp(attrs, options);\n      },\n\n      /**\n       * Logs in a user with a username (or email) and password. On success, this\n       * saves the session to disk, so you can retrieve the currently logged in\n       * user using <code>current</code>.\n       *\n       * @param {String} username The username (or email) to log in with.\n       * @param {String} password The password to log in with.\n       * @return {Promise} A promise that is fulfilled with the user when\n       *     the login completes.\n       * @see AV.User#logIn\n       */\n      logIn: function(username, password) {\n        var user = AV.Object._create('_User');\n        user._finishFetch({ username: username, password: password });\n        return user.logIn();\n      },\n\n      /**\n       * Logs in a user with a session token. On success, this saves the session\n       * to disk, so you can retrieve the currently logged in user using\n       * <code>current</code>.\n       *\n       * @param {String} sessionToken The sessionToken to log in with.\n       * @return {Promise} A promise that is fulfilled with the user when\n       *     the login completes.\n       */\n      become: function(sessionToken) {\n        return this._fetchUserBySessionToken(sessionToken).then(user =>\n          user._handleSaveResult(true).then(() => user)\n        );\n      },\n\n      _fetchUserBySessionToken: function(sessionToken) {\n        if (sessionToken === undefined) {\n          return Promise.reject(\n            new Error('The sessionToken cannot be undefined')\n          );\n        }\n\n        var user = AV.Object._create('_User');\n        return request({\n          method: 'GET',\n          path: '/users/me',\n          authOptions: {\n            sessionToken,\n          },\n        }).then(function(resp) {\n          var serverAttrs = user.parse(resp);\n          user._finishFetch(serverAttrs);\n          return user;\n        });\n      },\n\n      /**\n       * Logs in a user with a mobile phone number and sms code sent by\n       * AV.User.requestLoginSmsCode.On success, this\n       * saves the session to disk, so you can retrieve the currently logged in\n       * user using <code>current</code>.\n       *\n       * @param {String} mobilePhone The user's mobilePhoneNumber\n       * @param {String} smsCode The sms code sent by AV.User.requestLoginSmsCode\n       * @return {Promise} A promise that is fulfilled with the user when\n       *     the login completes.\n       * @see AV.User#logIn\n       */\n      logInWithMobilePhoneSmsCode: function(mobilePhone, smsCode) {\n        var user = AV.Object._create('_User');\n        user._finishFetch({ mobilePhoneNumber: mobilePhone, smsCode: smsCode });\n        return user.logIn();\n      },\n\n      /**\n       * Signs up or logs in a user with a mobilePhoneNumber and smsCode.\n       * On success, this saves the session to disk, so you can retrieve the currently\n       * logged in user using <code>current</code>.\n       *\n       * @param {String} mobilePhoneNumber The user's mobilePhoneNumber.\n       * @param {String} smsCode The sms code sent by AV.Cloud.requestSmsCode\n       * @param {Object} attributes  The user's other attributes such as username etc.\n       * @param {AuthOptions} options\n       * @return {Promise} A promise that is fulfilled with the user when\n       *     the login completes.\n       * @see AV.User#signUpOrlogInWithMobilePhone\n       * @see AV.Cloud.requestSmsCode\n       */\n      signUpOrlogInWithMobilePhone: function(\n        mobilePhoneNumber,\n        smsCode,\n        attrs,\n        options\n      ) {\n        attrs = attrs || {};\n        attrs.mobilePhoneNumber = mobilePhoneNumber;\n        attrs.smsCode = smsCode;\n        var user = AV.Object._create('_User');\n        return user.signUpOrlogInWithMobilePhone(attrs, options);\n      },\n\n      /**\n       * Logs in a user with a mobile phone number and password. On success, this\n       * saves the session to disk, so you can retrieve the currently logged in\n       * user using <code>current</code>.\n       *\n       * @param {String} mobilePhone The user's mobilePhoneNumber\n       * @param {String} password The password to log in with.\n       * @return {Promise} A promise that is fulfilled with the user when\n       *     the login completes.\n       * @see AV.User#logIn\n       */\n      logInWithMobilePhone: function(mobilePhone, password) {\n        var user = AV.Object._create('_User');\n        user._finishFetch({\n          mobilePhoneNumber: mobilePhone,\n          password: password,\n        });\n        return user.logIn();\n      },\n\n      /**\n       * Logs in a user with email and password.\n       *\n       * @since 3.13.0\n       * @param {String} email The user's email.\n       * @param {String} password The password to log in with.\n       * @return {Promise} A promise that is fulfilled with the user when\n       *     the login completes.\n       */\n      loginWithEmail(email, password) {\n        const user = AV.Object._create('_User');\n        user._finishFetch({\n          email,\n          password,\n        });\n        return user.logIn();\n      },\n\n      /**\n       * Signs up or logs in a user with a third party auth data(AccessToken).\n       * On success, this saves the session to disk, so you can retrieve the currently\n       * logged in user using <code>current</code>.\n       *\n       * @since 3.7.0\n       * @param {Object} authData The response json data returned from third party token, maybe like { openid: 'abc123', access_token: '123abc', expires_in: 1382686496 }\n       * @param {string} platform Available platform for sign up.\n       * @param {Object} [options]\n       * @param {boolean} [options.failOnNotExist] If true, the login request will fail when no user matches this authData exists.\n       * @return {Promise} A promise that is fulfilled with the user when\n       *     the login completes.\n       * @example AV.User.loginWithAuthData({\n       *   openid: 'abc123',\n       *   access_token: '123abc',\n       *   expires_in: 1382686496\n       * }, 'weixin').then(function(user) {\n       *   //Access user here\n       * }).catch(function(error) {\n       *   //console.error(\"error: \", error);\n       * });\n       * @see {@link https://leancloud.cn/docs/js_guide.html#}\n       */\n      loginWithAuthData(authData, platform, options) {\n        return AV.User._logInWith(platform, authData, options);\n      },\n\n      /**\n       * @deprecated renamed to {@link AV.User.loginWithAuthData}\n       */\n      signUpOrlogInWithAuthData(...param) {\n        console.warn(\n          'DEPRECATED: User.signUpOrlogInWithAuthData  User#loginWithAuthData '\n        );\n        return this.loginWithAuthData(...param);\n      },\n\n      /**\n       * Signs up or logs in a user with a third party authData and unionId.\n       * @since 3.7.0\n       * @param {Object} authData The response json data returned from third party token, maybe like { openid: 'abc123', access_token: '123abc', expires_in: 1382686496 }\n       * @param {string} platform Available platform for sign up.\n       * @param {string} unionId\n       * @param {Object} [unionLoginOptions]\n       * @param {string} [unionLoginOptions.unionIdPlatform = 'weixin'] unionId platform\n       * @param {boolean} [unionLoginOptions.asMainAccount = false] If true, the unionId will be associated with the user.\n       * @param {boolean} [unionLoginOptions.failOnNotExist] If true, the login request will fail when no user matches this authData exists.\n       * @return {Promise<AV.User>} A promise that is fulfilled with the user when completed.\n       * @example AV.User.loginWithAuthDataAndUnionId({\n       *   openid: 'abc123',\n       *   access_token: '123abc',\n       *   expires_in: 1382686496\n       * }, 'weixin', 'union123', {\n       *   unionIdPlatform: 'weixin',\n       *   asMainAccount: true,\n       * }).then(function(user) {\n       *   //Access user here\n       * }).catch(function(error) {\n       *   //console.error(\"error: \", error);\n       * });\n       */\n      loginWithAuthDataAndUnionId(\n        authData,\n        platform,\n        unionId,\n        unionLoginOptions\n      ) {\n        return this.loginWithAuthData(\n          mergeUnionDataIntoAuthData()(authData, unionId, unionLoginOptions),\n          platform,\n          unionLoginOptions\n        );\n      },\n\n      /**\n       * @deprecated renamed to {@link AV.User.loginWithAuthDataAndUnionId}\n       * @since 3.5.0\n       */\n      signUpOrlogInWithAuthDataAndUnionId(...param) {\n        console.warn(\n          'DEPRECATED: User.signUpOrlogInWithAuthDataAndUnionId  User#loginWithAuthDataAndUnionId '\n        );\n        return this.loginWithAuthDataAndUnionId(...param);\n      },\n\n      /**\n       * Merge unionId into authInfo.\n       * @since 4.6.0\n       * @param {Object} authInfo\n       * @param {String} unionId\n       * @param {Object} [unionIdOption]\n       * @param {Boolean} [unionIdOption.asMainAccount] If true, the unionId will be associated with the user.\n       */\n      mergeUnionId(authInfo, unionId, { asMainAccount = false } = {}) {\n        authInfo = JSON.parse(JSON.stringify(authInfo));\n        const { authData, platform } = authInfo;\n        authData.platform = platform;\n        authData.main_account = asMainAccount;\n        authData.unionid = unionId;\n        return authInfo;\n      },\n\n      /**\n       *  session  AV.User.current() \n       * \n       *\n       * @deprecated please use {@link AV.User.loginWithMiniApp}\n       * @since 2.0.0\n       * @param {Object} [options]\n       * @param {boolean} [options.preferUnionId]  {@link https://developers.weixin.qq.com/miniprogram/dev/framework/open-ability/union-id.html  UnionId }  UnionId since 3.13.0\n       * @param {string} [options.unionIdPlatform = 'weixin'] (only take effect when preferUnionId) unionId platform\n       * @param {boolean} [options.asMainAccount = true] (only take effect when preferUnionId) If true, the unionId will be associated with the user.\n       * @param {boolean} [options.failOnNotExist] If true, the login request will fail when no user matches this authData exists. (since v3.7.0)\n       * @return {Promise.<AV.User>}\n       */\n      loginWithWeapp({\n        preferUnionId = false,\n        unionIdPlatform = 'weixin',\n        asMainAccount = true,\n        failOnNotExist = false,\n      } = {}) {\n        const getAuthInfo = getAdapter('getAuthInfo');\n        return getAuthInfo({\n          preferUnionId,\n          asMainAccount,\n          platform: unionIdPlatform,\n        }).then(authInfo =>\n          this.loginWithMiniApp(authInfo, { failOnNotExist })\n        );\n      },\n\n      /**\n       * \n       * \n       *\n       * @deprecated please use {@link AV.User.loginWithMiniApp}\n       * @since 3.13.0\n       * @param {Object} [unionLoginOptions]\n       * @param {string} [unionLoginOptions.unionIdPlatform = 'weixin'] unionId platform\n       * @param {boolean} [unionLoginOptions.asMainAccount = false] If true, the unionId will be associated with the user.\n       * @param {boolean} [unionLoginOptions.failOnNotExist] If true, the login request will fail when no user matches this authData exists.       * @return {Promise.<AV.User>}\n       */\n      loginWithWeappWithUnionId(\n        unionId,\n        {\n          unionIdPlatform = 'weixin',\n          asMainAccount = false,\n          failOnNotExist = false,\n        } = {}\n      ) {\n        const getAuthInfo = getAdapter('getAuthInfo');\n        return getAuthInfo({ platform: unionIdPlatform }).then(authInfo => {\n          authInfo = AV.User.mergeUnionId(authInfo, unionId, { asMainAccount });\n          return this.loginWithMiniApp(authInfo, { failOnNotExist });\n        });\n      },\n\n      /**\n       *  QQ  QQ  session  AV.User.current() \n       *  QQ \n       *\n       * @deprecated please use {@link AV.User.loginWithMiniApp}\n       * @since 4.2.0\n       * @param {Object} [options]\n       * @param {boolean} [options.preferUnionId]  UnionId UnionId \n       * @param {string} [options.unionIdPlatform = 'qq'] (only take effect when preferUnionId) unionId platform\n       * @param {boolean} [options.asMainAccount = true] (only take effect when preferUnionId) If true, the unionId will be associated with the user.\n       * @param {boolean} [options.failOnNotExist] If true, the login request will fail when no user matches this authData exists. (since v3.7.0)\n       * @return {Promise.<AV.User>}\n       */\n      loginWithQQApp({\n        preferUnionId = false,\n        unionIdPlatform = 'qq',\n        asMainAccount = true,\n        failOnNotExist = false,\n      } = {}) {\n        const getAuthInfo = getAdapter('getAuthInfo');\n        return getAuthInfo({\n          preferUnionId,\n          asMainAccount,\n          platform: unionIdPlatform,\n        }).then(authInfo => {\n          authInfo.provider = PLATFORM_QQAPP;\n          return this.loginWithMiniApp(authInfo, { failOnNotExist });\n        });\n      },\n\n      /**\n       *  QQ  QQ \n       *  QQ \n       *\n       * @deprecated please use {@link AV.User.loginWithMiniApp}\n       * @since 4.2.0\n       * @param {Object} [unionLoginOptions]\n       * @param {string} [unionLoginOptions.unionIdPlatform = 'qq'] unionId platform\n       * @param {boolean} [unionLoginOptions.asMainAccount = false] If true, the unionId will be associated with the user.\n       * @param {boolean} [unionLoginOptions.failOnNotExist] If true, the login request will fail when no user matches this authData exists.\n       * @return {Promise.<AV.User>}\n       */\n      loginWithQQAppWithUnionId(\n        unionId,\n        {\n          unionIdPlatform = 'qq',\n          asMainAccount = false,\n          failOnNotExist = false,\n        } = {}\n      ) {\n        const getAuthInfo = getAdapter('getAuthInfo');\n        return getAuthInfo({ platform: unionIdPlatform }).then(authInfo => {\n          authInfo = AV.User.mergeUnionId(authInfo, unionId, { asMainAccount });\n          authInfo.provider = PLATFORM_QQAPP;\n          return this.loginWithMiniApp(authInfo, { failOnNotExist });\n        });\n      },\n\n      /**\n       * Register or login using the identity of the current mini-app.\n       * @param {Object} authInfo\n       * @param {Object} [option]\n       * @param {Boolean} [option.failOnNotExist] If true, the login request will fail when no user matches this authInfo.authData exists.\n       */\n      loginWithMiniApp(authInfo, option) {\n        if (authInfo === undefined) {\n          const getAuthInfo = getAdapter('getAuthInfo');\n          return getAuthInfo().then(authInfo =>\n            this.loginWithAuthData(authInfo.authData, authInfo.provider, option)\n          );\n        }\n        return this.loginWithAuthData(\n          authInfo.authData,\n          authInfo.provider,\n          option\n        );\n      },\n\n      /**\n       * Only use for DI in tests to produce deterministic IDs.\n       */\n      _genId() {\n        return uuid();\n      },\n\n      /**\n       * Creates an anonymous user.\n       *\n       * @since 3.9.0\n       * @return {Promise.<AV.User>}\n       */\n      loginAnonymously() {\n        return this.loginWithAuthData(\n          {\n            id: AV.User._genId(),\n          },\n          'anonymous'\n        );\n      },\n\n      associateWithAuthData(userObj, platform, authData) {\n        console.warn(\n          'DEPRECATED: User.associateWithAuthData  User#associateWithAuthData '\n        );\n        return userObj._linkWith(platform, authData);\n      },\n      /**\n       * Logs out the currently logged in user session. This will remove the\n       * session from disk, log out of linked services, and future calls to\n       * <code>current</code> will return <code>null</code>.\n       * @return {Promise}\n       */\n      logOut: function() {\n        if (AV._config.disableCurrentUser) {\n          console.warn(\n            'AV.User.current() was disabled in multi-user environment, call logOut() from user object instead https://leancloud.cn/docs/leanengine-node-sdk-upgrade-1.html'\n          );\n          return Promise.resolve(null);\n        }\n\n        if (AV.User._currentUser !== null) {\n          AV.User._currentUser._logOutWithAll();\n          AV.User._currentUser._isCurrentUser = false;\n        }\n        AV.User._currentUserMatchesDisk = true;\n        AV.User._currentUser = null;\n        return AV.localStorage\n          .removeItemAsync(AV._getAVPath(AV.User._CURRENT_USER_KEY))\n          .then(() => AV._refreshSubscriptionId());\n      },\n\n      /**\n       *Create a follower query for special user to query the user's followers.\n       * @param {String} userObjectId The user object id.\n       * @return {AV.FriendShipQuery}\n       * @since 0.3.0\n       */\n      followerQuery: function(userObjectId) {\n        if (!userObjectId || !_.isString(userObjectId)) {\n          throw new Error('Invalid user object id.');\n        }\n        var query = new AV.FriendShipQuery('_Follower');\n        query._friendshipTag = 'follower';\n        query.equalTo(\n          'user',\n          AV.Object.createWithoutData('_User', userObjectId)\n        );\n        return query;\n      },\n\n      /**\n       *Create a followee query for special user to query the user's followees.\n       * @param {String} userObjectId The user object id.\n       * @return {AV.FriendShipQuery}\n       * @since 0.3.0\n       */\n      followeeQuery: function(userObjectId) {\n        if (!userObjectId || !_.isString(userObjectId)) {\n          throw new Error('Invalid user object id.');\n        }\n        var query = new AV.FriendShipQuery('_Followee');\n        query._friendshipTag = 'followee';\n        query.equalTo(\n          'user',\n          AV.Object.createWithoutData('_User', userObjectId)\n        );\n        return query;\n      },\n\n      /**\n       * Requests a password reset email to be sent to the specified email address\n       * associated with the user account. This email allows the user to securely\n       * reset their password on the AV site.\n       *\n       * @param {String} email The email address associated with the user that\n       *     forgot their password.\n       * @return {Promise}\n       */\n      requestPasswordReset: function(email) {\n        var json = { email: email };\n        var request = AVRequest(\n          'requestPasswordReset',\n          null,\n          null,\n          'POST',\n          json\n        );\n        return request;\n      },\n\n      /**\n       * Requests a verify email to be sent to the specified email address\n       * associated with the user account. This email allows the user to securely\n       * verify their email address on the AV site.\n       *\n       * @param {String} email The email address associated with the user that\n       *     doesn't verify their email address.\n       * @return {Promise}\n       */\n      requestEmailVerify: function(email) {\n        var json = { email: email };\n        var request = AVRequest('requestEmailVerify', null, null, 'POST', json);\n        return request;\n      },\n\n      /**\n       * Requests a verify sms code to be sent to the specified mobile phone\n       * number associated with the user account. This sms code allows the user to\n       * verify their mobile phone number by calling AV.User.verifyMobilePhone\n       *\n       * @param {String} mobilePhoneNumber The mobile phone number associated with the\n       *                  user that doesn't verify their mobile phone number.\n       * @param {SMSAuthOptions} [options]\n       * @return {Promise}\n       */\n      requestMobilePhoneVerify: function(mobilePhoneNumber, options = {}) {\n        const data = {\n          mobilePhoneNumber,\n        };\n        if (options.validateToken) {\n          data.validate_token = options.validateToken;\n        }\n        var request = AVRequest(\n          'requestMobilePhoneVerify',\n          null,\n          null,\n          'POST',\n          data,\n          options\n        );\n        return request;\n      },\n\n      /**\n       * Requests a reset password sms code to be sent to the specified mobile phone\n       * number associated with the user account. This sms code allows the user to\n       * reset their account's password by calling AV.User.resetPasswordBySmsCode\n       *\n       * @param {String} mobilePhoneNumber The mobile phone number  associated with the\n       *                  user that doesn't verify their mobile phone number.\n       * @param {SMSAuthOptions} [options]\n       * @return {Promise}\n       */\n      requestPasswordResetBySmsCode: function(mobilePhoneNumber, options = {}) {\n        const data = {\n          mobilePhoneNumber,\n        };\n        if (options.validateToken) {\n          data.validate_token = options.validateToken;\n        }\n        var request = AVRequest(\n          'requestPasswordResetBySmsCode',\n          null,\n          null,\n          'POST',\n          data,\n          options\n        );\n        return request;\n      },\n\n      /**\n       * Requests a change mobile phone number sms code to be sent to the mobilePhoneNumber.\n       * This sms code allows current user to reset it's mobilePhoneNumber by\n       * calling {@link AV.User.changePhoneNumber}\n       * @since 4.7.0\n       * @param {String} mobilePhoneNumber\n       * @param {Number} [ttl] ttl of sms code (default is 6 minutes)\n       * @param {SMSAuthOptions} [options]\n       * @return {Promise}\n       */\n      requestChangePhoneNumber(mobilePhoneNumber, ttl, options) {\n        const data = { mobilePhoneNumber };\n        if (ttl) {\n          data.ttl = options.ttl;\n        }\n        if (options && options.validateToken) {\n          data.validate_token = options.validateToken;\n        }\n        return AVRequest(\n          'requestChangePhoneNumber',\n          null,\n          null,\n          'POST',\n          data,\n          options\n        );\n      },\n\n      /**\n       * Makes a call to reset user's account mobilePhoneNumber by sms code.\n       * The sms code is sent by {@link AV.User.requestChangePhoneNumber}\n       * @since 4.7.0\n       * @param {String} mobilePhoneNumber\n       * @param {String} code The sms code.\n       * @return {Promise}\n       */\n      changePhoneNumber(mobilePhoneNumber, code) {\n        const data = { mobilePhoneNumber, code };\n        return AVRequest('changePhoneNumber', null, null, 'POST', data);\n      },\n\n      /**\n       * Makes a call to reset user's account password by sms code and new password.\n       * The sms code is sent by AV.User.requestPasswordResetBySmsCode.\n       * @param {String} code The sms code sent by AV.User.Cloud.requestSmsCode\n       * @param {String} password The new password.\n       * @return {Promise} A promise that will be resolved with the result\n       * of the function.\n       */\n      resetPasswordBySmsCode: function(code, password) {\n        var json = { password: password };\n        var request = AVRequest(\n          'resetPasswordBySmsCode',\n          null,\n          code,\n          'PUT',\n          json\n        );\n        return request;\n      },\n\n      /**\n       * Makes a call to verify sms code that sent by AV.User.Cloud.requestSmsCode\n       * If verify successfully,the user mobilePhoneVerified attribute will be true.\n       * @param {String} code The sms code sent by AV.User.Cloud.requestSmsCode\n       * @return {Promise} A promise that will be resolved with the result\n       * of the function.\n       */\n      verifyMobilePhone: function(code) {\n        var request = AVRequest('verifyMobilePhone', null, code, 'POST', null);\n        return request;\n      },\n\n      /**\n       * Requests a logIn sms code to be sent to the specified mobile phone\n       * number associated with the user account. This sms code allows the user to\n       * login by AV.User.logInWithMobilePhoneSmsCode function.\n       *\n       * @param {String} mobilePhoneNumber The mobile phone number  associated with the\n       *           user that want to login by AV.User.logInWithMobilePhoneSmsCode\n       * @param {SMSAuthOptions} [options]\n       * @return {Promise}\n       */\n      requestLoginSmsCode: function(mobilePhoneNumber, options = {}) {\n        const data = {\n          mobilePhoneNumber,\n        };\n        if (options.validateToken) {\n          data.validate_token = options.validateToken;\n        }\n        var request = AVRequest(\n          'requestLoginSmsCode',\n          null,\n          null,\n          'POST',\n          data,\n          options\n        );\n        return request;\n      },\n\n      /**\n       * Retrieves the currently logged in AVUser with a valid session,\n       * either from memory or localStorage, if necessary.\n       * @return {Promise.<AV.User>} resolved with the currently logged in AV.User.\n       */\n      currentAsync: function() {\n        if (AV._config.disableCurrentUser) {\n          console.warn(\n            'AV.User.currentAsync() was disabled in multi-user environment, access user from request instead https://leancloud.cn/docs/leanengine-node-sdk-upgrade-1.html'\n          );\n          return Promise.resolve(null);\n        }\n\n        if (AV.User._currentUser) {\n          return Promise.resolve(AV.User._currentUser);\n        }\n\n        if (AV.User._currentUserMatchesDisk) {\n          return Promise.resolve(AV.User._currentUser);\n        }\n\n        return AV.localStorage\n          .getItemAsync(AV._getAVPath(AV.User._CURRENT_USER_KEY))\n          .then(function(userData) {\n            if (!userData) {\n              return null;\n            }\n\n            // Load the user from local storage.\n            AV.User._currentUserMatchesDisk = true;\n\n            AV.User._currentUser = AV.Object._create('_User');\n            AV.User._currentUser._isCurrentUser = true;\n\n            var json = JSON.parse(userData);\n            AV.User._currentUser.id = json._id;\n            delete json._id;\n            AV.User._currentUser._sessionToken = json._sessionToken;\n            delete json._sessionToken;\n            AV.User._currentUser._finishFetch(json);\n            //AV.User._currentUser.set(json);\n\n            AV.User._currentUser._synchronizeAllAuthData();\n            AV.User._currentUser._refreshCache();\n            AV.User._currentUser._opSetQueue = [{}];\n            return AV.User._currentUser;\n          });\n      },\n\n      /**\n       * Retrieves the currently logged in AVUser with a valid session,\n       * either from memory or localStorage, if necessary.\n       * @return {AV.User} The currently logged in AV.User.\n       */\n      current: function() {\n        if (AV._config.disableCurrentUser) {\n          console.warn(\n            'AV.User.current() was disabled in multi-user environment, access user from request instead https://leancloud.cn/docs/leanengine-node-sdk-upgrade-1.html'\n          );\n          return null;\n        }\n\n        if (AV.localStorage.async) {\n          const error = new Error(\n            'Synchronous API User.current() is not available in this runtime. Use User.currentAsync() instead.'\n          );\n          error.code = 'SYNC_API_NOT_AVAILABLE';\n          throw error;\n        }\n\n        if (AV.User._currentUser) {\n          return AV.User._currentUser;\n        }\n\n        if (AV.User._currentUserMatchesDisk) {\n          return AV.User._currentUser;\n        }\n\n        // Load the user from local storage.\n        AV.User._currentUserMatchesDisk = true;\n\n        var userData = AV.localStorage.getItem(\n          AV._getAVPath(AV.User._CURRENT_USER_KEY)\n        );\n        if (!userData) {\n          return null;\n        }\n        AV.User._currentUser = AV.Object._create('_User');\n        AV.User._currentUser._isCurrentUser = true;\n\n        var json = JSON.parse(userData);\n        AV.User._currentUser.id = json._id;\n        delete json._id;\n        AV.User._currentUser._sessionToken = json._sessionToken;\n        delete json._sessionToken;\n        AV.User._currentUser._finishFetch(json);\n        //AV.User._currentUser.set(json);\n\n        AV.User._currentUser._synchronizeAllAuthData();\n        AV.User._currentUser._refreshCache();\n        AV.User._currentUser._opSetQueue = [{}];\n        return AV.User._currentUser;\n      },\n\n      /**\n       * Persists a user as currentUser to localStorage, and into the singleton.\n       * @private\n       */\n      _saveCurrentUser: function(user) {\n        var promise;\n        if (AV.User._currentUser !== user) {\n          promise = AV.User.logOut();\n        } else {\n          promise = Promise.resolve();\n        }\n        return promise.then(function() {\n          user._isCurrentUser = true;\n          AV.User._currentUser = user;\n\n          var json = user._toFullJSON();\n          json._id = user.id;\n          json._sessionToken = user._sessionToken;\n          return AV.localStorage\n            .setItemAsync(\n              AV._getAVPath(AV.User._CURRENT_USER_KEY),\n              JSON.stringify(json)\n            )\n            .then(function() {\n              AV.User._currentUserMatchesDisk = true;\n              return AV._refreshSubscriptionId();\n            });\n        });\n      },\n\n      _registerAuthenticationProvider: function(provider) {\n        AV.User._authProviders[provider.getAuthType()] = provider;\n        // Synchronize the current user with the auth provider.\n        if (!AV._config.disableCurrentUser && AV.User.current()) {\n          AV.User.current()._synchronizeAuthData(provider.getAuthType());\n        }\n      },\n\n      _logInWith: function(provider, authData, options) {\n        var user = AV.Object._create('_User');\n        return user._linkWith(provider, authData, options);\n      },\n    }\n  );\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/user.js","\"use strict\";\n\nexports.__esModule = true;\n\nvar _defineProperty = require(\"../core-js/object/define-property\");\n\nvar _defineProperty2 = _interopRequireDefault(_defineProperty);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = function (obj, key, value) {\n  if (key in obj) {\n    (0, _defineProperty2.default)(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/babel-runtime/helpers/defineProperty.js\n// module id = 152\n// module chunks = 0 1","const _ = require('underscore');\nconst debug = require('debug')('leancloud:query');\nconst AVError = require('./error');\nconst { _request, request } = require('./request');\nconst {\n  ensureArray,\n  transformFetchOptions,\n  continueWhile,\n} = require('./utils');\n\nconst requires = (value, message) => {\n  if (value === undefined) {\n    throw new Error(message);\n  }\n};\n\n// AV.Query is a way to create a list of AV.Objects.\nmodule.exports = function(AV) {\n  /**\n   * Creates a new AV.Query for the given AV.Object subclass.\n   * @param {Class|String} objectClass An instance of a subclass of AV.Object, or a AV className string.\n   * @class\n   *\n   * <p>AV.Query defines a query that is used to fetch AV.Objects. The\n   * most common use case is finding all objects that match a query through the\n   * <code>find</code> method. For example, this sample code fetches all objects\n   * of class <code>MyClass</code>. It calls a different function depending on\n   * whether the fetch succeeded or not.\n   *\n   * <pre>\n   * var query = new AV.Query(MyClass);\n   * query.find().then(function(results) {\n   *   // results is an array of AV.Object.\n   * }, function(error) {\n   *   // error is an instance of AVError.\n   * });</pre></p>\n   *\n   * <p>An AV.Query can also be used to retrieve a single object whose id is\n   * known, through the get method. For example, this sample code fetches an\n   * object of class <code>MyClass</code> and id <code>myId</code>. It calls a\n   * different function depending on whether the fetch succeeded or not.\n   *\n   * <pre>\n   * var query = new AV.Query(MyClass);\n   * query.get(myId).then(function(object) {\n   *   // object is an instance of AV.Object.\n   * }, function(error) {\n   *   // error is an instance of AVError.\n   * });</pre></p>\n   *\n   * <p>An AV.Query can also be used to count the number of objects that match\n   * the query without retrieving all of those objects. For example, this\n   * sample code counts the number of objects of the class <code>MyClass</code>\n   * <pre>\n   * var query = new AV.Query(MyClass);\n   * query.count().then(function(number) {\n   *   // There are number instances of MyClass.\n   * }, function(error) {\n   *   // error is an instance of AVError.\n   * });</pre></p>\n   */\n  AV.Query = function(objectClass) {\n    if (_.isString(objectClass)) {\n      objectClass = AV.Object._getSubclass(objectClass);\n    }\n\n    this.objectClass = objectClass;\n\n    this.className = objectClass.prototype.className;\n\n    this._where = {};\n    this._include = [];\n    this._select = [];\n    this._limit = -1; // negative limit means, do not send a limit\n    this._skip = 0;\n    this._defaultParams = {};\n  };\n\n  /**\n   * Constructs a AV.Query that is the OR of the passed in queries.  For\n   * example:\n   * <pre>var compoundQuery = AV.Query.or(query1, query2, query3);</pre>\n   *\n   * will create a compoundQuery that is an or of the query1, query2, and\n   * query3.\n   * @param {...AV.Query} var_args The list of queries to OR.\n   * @return {AV.Query} The query that is the OR of the passed in queries.\n   */\n  AV.Query.or = function() {\n    var queries = _.toArray(arguments);\n    var className = null;\n    AV._arrayEach(queries, function(q) {\n      if (_.isNull(className)) {\n        className = q.className;\n      }\n\n      if (className !== q.className) {\n        throw new Error('All queries must be for the same class');\n      }\n    });\n    var query = new AV.Query(className);\n    query._orQuery(queries);\n    return query;\n  };\n\n  /**\n   * Constructs a AV.Query that is the AND of the passed in queries.  For\n   * example:\n   * <pre>var compoundQuery = AV.Query.and(query1, query2, query3);</pre>\n   *\n   * will create a compoundQuery that is an 'and' of the query1, query2, and\n   * query3.\n   * @param {...AV.Query} var_args The list of queries to AND.\n   * @return {AV.Query} The query that is the AND of the passed in queries.\n   */\n  AV.Query.and = function() {\n    var queries = _.toArray(arguments);\n    var className = null;\n    AV._arrayEach(queries, function(q) {\n      if (_.isNull(className)) {\n        className = q.className;\n      }\n\n      if (className !== q.className) {\n        throw new Error('All queries must be for the same class');\n      }\n    });\n    var query = new AV.Query(className);\n    query._andQuery(queries);\n    return query;\n  };\n\n  /**\n   * Retrieves a list of AVObjects that satisfy the CQL.\n   * CQL syntax please see {@link https://leancloud.cn/docs/cql_guide.html CQL Guide}.\n   *\n   * @param {String} cql A CQL string, see {@link https://leancloud.cn/docs/cql_guide.html CQL Guide}.\n   * @param {Array} pvalues An array contains placeholder values.\n   * @param {AuthOptions} options\n   * @return {Promise} A promise that is resolved with the results when\n   * the query completes.\n   */\n  AV.Query.doCloudQuery = function(cql, pvalues, options) {\n    var params = { cql: cql };\n    if (_.isArray(pvalues)) {\n      params.pvalues = pvalues;\n    } else {\n      options = pvalues;\n    }\n\n    var request = _request('cloudQuery', null, null, 'GET', params, options);\n    return request.then(function(response) {\n      //query to process results.\n      var query = new AV.Query(response.className);\n      var results = _.map(response.results, function(json) {\n        var obj = query._newObject(response);\n        if (obj._finishFetch) {\n          obj._finishFetch(query._processResult(json), true);\n        }\n        return obj;\n      });\n      return {\n        results: results,\n        count: response.count,\n        className: response.className,\n      };\n    });\n  };\n\n  /**\n   * Return a query with conditions from json.\n   * This can be useful to send a query from server side to client side.\n   * @since 4.0.0\n   * @param {Object} json from {@link AV.Query#toJSON}\n   * @return {AV.Query}\n   */\n  AV.Query.fromJSON = ({\n    className,\n    where,\n    include,\n    select,\n    includeACL,\n    limit,\n    skip,\n    order,\n  }) => {\n    if (typeof className !== 'string') {\n      throw new TypeError('Invalid Query JSON, className must be a String.');\n    }\n    const query = new AV.Query(className);\n    _.extend(query, {\n      _where: where,\n      _include: include,\n      _select: select,\n      _includeACL: includeACL,\n      _limit: limit,\n      _skip: skip,\n      _order: order,\n    });\n    return query;\n  };\n\n  AV.Query._extend = AV._extend;\n\n  _.extend(\n    AV.Query.prototype,\n    /** @lends AV.Query.prototype */ {\n      //hook to iterate result. Added by dennis<xzhuang@avoscloud.com>.\n      _processResult: function(obj) {\n        return obj;\n      },\n\n      /**\n       * Constructs an AV.Object whose id is already known by fetching data from\n       * the server.\n       *\n       * @param {String} objectId The id of the object to be fetched.\n       * @param {AuthOptions} options\n       * @return {Promise.<AV.Object>}\n       */\n      get: function(objectId, options) {\n        if (!_.isString(objectId)) {\n          throw new Error('objectId must be a string');\n        }\n        if (objectId === '') {\n          return Promise.reject(\n            new AVError(AVError.OBJECT_NOT_FOUND, 'Object not found.')\n          );\n        }\n\n        var obj = this._newObject();\n        obj.id = objectId;\n\n        var queryJSON = this._getParams();\n        var fetchOptions = {};\n\n        if (queryJSON.keys) fetchOptions.keys = queryJSON.keys;\n        if (queryJSON.include) fetchOptions.include = queryJSON.include;\n        if (queryJSON.includeACL)\n          fetchOptions.includeACL = queryJSON.includeACL;\n\n        return _request(\n          'classes',\n          this.className,\n          objectId,\n          'GET',\n          transformFetchOptions(fetchOptions),\n          options\n        ).then(response => {\n          if (_.isEmpty(response))\n            throw new AVError(AVError.OBJECT_NOT_FOUND, 'Object not found.');\n          obj._finishFetch(obj.parse(response), true);\n          return obj;\n        });\n      },\n\n      /**\n       * Returns a JSON representation of this query.\n       * @return {Object}\n       */\n      toJSON() {\n        const {\n          className,\n          _where: where,\n          _include: include,\n          _select: select,\n          _includeACL: includeACL,\n          _limit: limit,\n          _skip: skip,\n          _order: order,\n        } = this;\n        return {\n          className,\n          where,\n          include,\n          select,\n          includeACL,\n          limit,\n          skip,\n          order,\n        };\n      },\n\n      _getParams: function() {\n        var params = _.extend({}, this._defaultParams, {\n          where: this._where,\n        });\n\n        if (this._include.length > 0) {\n          params.include = this._include.join(',');\n        }\n        if (this._select.length > 0) {\n          params.keys = this._select.join(',');\n        }\n        if (this._includeACL !== undefined) {\n          params.returnACL = this._includeACL;\n        }\n        if (this._limit >= 0) {\n          params.limit = this._limit;\n        }\n        if (this._skip > 0) {\n          params.skip = this._skip;\n        }\n        if (this._order !== undefined) {\n          params.order = this._order;\n        }\n\n        return params;\n      },\n\n      _newObject: function(response) {\n        var obj;\n        if (response && response.className) {\n          obj = new AV.Object(response.className);\n        } else {\n          obj = new this.objectClass();\n        }\n        return obj;\n      },\n      _createRequest(\n        params = this._getParams(),\n        options,\n        path = `/classes/${this.className}`\n      ) {\n        if (encodeURIComponent(JSON.stringify(params)).length > 2000) {\n          const body = {\n            requests: [\n              {\n                method: 'GET',\n                path: `/1.1${path}`,\n                params,\n              },\n            ],\n          };\n          return request({\n            path: '/batch',\n            method: 'POST',\n            data: body,\n            authOptions: options,\n          }).then(response => {\n            const result = response[0];\n            if (result.success) {\n              return result.success;\n            }\n            const error = new Error(\n              result.error.error || 'Unknown batch error'\n            );\n            error.code = result.error.code;\n            throw error;\n          });\n        }\n        return request({\n          method: 'GET',\n          path,\n          query: params,\n          authOptions: options,\n        });\n      },\n\n      _parseResponse(response) {\n        return _.map(response.results, json => {\n          var obj = this._newObject(response);\n          if (obj._finishFetch) {\n            obj._finishFetch(this._processResult(json), true);\n          }\n          return obj;\n        });\n      },\n\n      /**\n       * Retrieves a list of AVObjects that satisfy this query.\n       *\n       * @param {AuthOptions} options\n       * @return {Promise} A promise that is resolved with the results when\n       * the query completes.\n       */\n      find(options) {\n        const request = this._createRequest(undefined, options);\n        return request.then(this._parseResponse.bind(this));\n      },\n\n      /**\n       * scan a Query. masterKey required.\n       *\n       * @since 2.1.0\n       * @param {object} [options]\n       * @param {string} [options.orderedBy] specify the key to sort\n       * @param {number} [options.batchSize] specify the batch size for each request\n       * @param {AuthOptions} [authOptions]\n       * @return {AsyncIterator.<AV.Object>}\n       * @example const scan = new AV.Query(TestClass).scan({\n       *   orderedBy: 'objectId',\n       *   batchSize: 10,\n       * }, {\n       *   useMasterKey: true,\n       * });\n       * const getTen = () => Promise.all(new Array(10).fill(0).map(() => scan.next()));\n       * getTen().then(results => {\n       *   // results are fisrt 10 instances of TestClass\n       *   return getTen();\n       * }).then(results => {\n       *   // 11 - 20\n       * });\n       */\n      scan({ orderedBy, batchSize } = {}, authOptions) {\n        const condition = this._getParams();\n        debug('scan %O', condition);\n        if (condition.order) {\n          console.warn(\n            'The order of the query is ignored for Query#scan. Checkout the orderedBy option of Query#scan.'\n          );\n          delete condition.order;\n        }\n        if (condition.skip) {\n          console.warn(\n            'The skip option of the query is ignored for Query#scan.'\n          );\n          delete condition.skip;\n        }\n        if (condition.limit) {\n          console.warn(\n            'The limit option of the query is ignored for Query#scan.'\n          );\n          delete condition.limit;\n        }\n        if (orderedBy) condition.scan_key = orderedBy;\n        if (batchSize) condition.limit = batchSize;\n        let promise = Promise.resolve([]);\n        let cursor;\n        let done = false;\n        return {\n          next: () => {\n            promise = promise.then(remainResults => {\n              if (done) return [];\n              if (remainResults.length > 1) return remainResults;\n              // no cursor means we have reached the end\n              // except for the first time\n              if (!cursor && remainResults.length !== 0) {\n                done = true;\n                return remainResults;\n              }\n              // when only 1 item left in queue\n              // start the next request to see if it is the last one\n              return _request(\n                'scan/classes',\n                this.className,\n                null,\n                'GET',\n                cursor ? _.extend({}, condition, { cursor }) : condition,\n                authOptions\n              )\n                .then(response => {\n                  cursor = response.cursor;\n                  return this._parseResponse(response);\n                })\n                .then(results => {\n                  if (!results.length) done = true;\n                  return remainResults.concat(results);\n                });\n            });\n            return promise\n              .then(remainResults => remainResults.shift())\n              .then(result => ({\n                value: result,\n                done,\n              }));\n          },\n        };\n      },\n\n      /**\n       * Delete objects retrieved by this query.\n       * @param {AuthOptions} options\n       * @return {Promise} A promise that is fulfilled when the save\n       *     completes.\n       */\n      destroyAll: function(options) {\n        var self = this;\n        return self.find(options).then(function(objects) {\n          return AV.Object.destroyAll(objects, options);\n        });\n      },\n\n      /**\n       * Counts the number of objects that match this query.\n       *\n       * @param {AuthOptions} options\n       * @return {Promise} A promise that is resolved with the count when\n       * the query completes.\n       */\n      count: function(options) {\n        var params = this._getParams();\n        params.limit = 0;\n        params.count = 1;\n        var request = this._createRequest(params, options);\n\n        return request.then(function(response) {\n          return response.count;\n        });\n      },\n\n      /**\n       * Retrieves at most one AV.Object that satisfies this query.\n       *\n       * @param {AuthOptions} options\n       * @return {Promise} A promise that is resolved with the object when\n       * the query completes.\n       */\n      first: function(options) {\n        var self = this;\n\n        var params = this._getParams();\n        params.limit = 1;\n        var request = this._createRequest(params, options);\n\n        return request.then(function(response) {\n          return _.map(response.results, function(json) {\n            var obj = self._newObject();\n            if (obj._finishFetch) {\n              obj._finishFetch(self._processResult(json), true);\n            }\n            return obj;\n          })[0];\n        });\n      },\n\n      /**\n       * Sets the number of results to skip before returning any results.\n       * This is useful for pagination.\n       * Default is to skip zero results.\n       * @param {Number} n the number of results to skip.\n       * @return {AV.Query} Returns the query, so you can chain this call.\n       */\n      skip: function(n) {\n        requires(n, 'undefined is not a valid skip value');\n        this._skip = n;\n        return this;\n      },\n\n      /**\n       * Sets the limit of the number of results to return. The default limit is\n       * 100, with a maximum of 1000 results being returned at a time.\n       * @param {Number} n the number of results to limit to.\n       * @return {AV.Query} Returns the query, so you can chain this call.\n       */\n      limit: function(n) {\n        requires(n, 'undefined is not a valid limit value');\n        this._limit = n;\n        return this;\n      },\n\n      /**\n       * Add a constraint to the query that requires a particular key's value to\n       * be equal to the provided value.\n       * @param {String} key The key to check.\n       * @param value The value that the AV.Object must contain.\n       * @return {AV.Query} Returns the query, so you can chain this call.\n       */\n      equalTo: function(key, value) {\n        requires(key, 'undefined is not a valid key');\n        requires(value, 'undefined is not a valid value');\n        this._where[key] = AV._encode(value);\n        return this;\n      },\n\n      /**\n       * Helper for condition queries\n       * @private\n       */\n      _addCondition: function(key, condition, value) {\n        requires(key, 'undefined is not a valid condition key');\n        requires(condition, 'undefined is not a valid condition');\n        requires(value, 'undefined is not a valid condition value');\n\n        // Check if we already have a condition\n        if (!this._where[key]) {\n          this._where[key] = {};\n        }\n        this._where[key][condition] = AV._encode(value);\n        return this;\n      },\n\n      /**\n       * Add a constraint to the query that requires a particular\n       * <strong>array</strong> key's length to be equal to the provided value.\n       * @param {String} key The array key to check.\n       * @param value The length value.\n       * @return {AV.Query} Returns the query, so you can chain this call.\n       */\n      sizeEqualTo: function(key, value) {\n        this._addCondition(key, '$size', value);\n        return this;\n      },\n\n      /**\n       * Add a constraint to the query that requires a particular key's value to\n       * be not equal to the provided value.\n       * @param {String} key The key to check.\n       * @param value The value that must not be equalled.\n       * @return {AV.Query} Returns the query, so you can chain this call.\n       */\n      notEqualTo: function(key, value) {\n        this._addCondition(key, '$ne', value);\n        return this;\n      },\n\n      /**\n       * Add a constraint to the query that requires a particular key's value to\n       * be less than the provided value.\n       * @param {String} key The key to check.\n       * @param value The value that provides an upper bound.\n       * @return {AV.Query} Returns the query, so you can chain this call.\n       */\n      lessThan: function(key, value) {\n        this._addCondition(key, '$lt', value);\n        return this;\n      },\n\n      /**\n       * Add a constraint to the query that requires a particular key's value to\n       * be greater than the provided value.\n       * @param {String} key The key to check.\n       * @param value The value that provides an lower bound.\n       * @return {AV.Query} Returns the query, so you can chain this call.\n       */\n      greaterThan: function(key, value) {\n        this._addCondition(key, '$gt', value);\n        return this;\n      },\n\n      /**\n       * Add a constraint to the query that requires a particular key's value to\n       * be less than or equal to the provided value.\n       * @param {String} key The key to check.\n       * @param value The value that provides an upper bound.\n       * @return {AV.Query} Returns the query, so you can chain this call.\n       */\n      lessThanOrEqualTo: function(key, value) {\n        this._addCondition(key, '$lte', value);\n        return this;\n      },\n\n      /**\n       * Add a constraint to the query that requires a particular key's value to\n       * be greater than or equal to the provided value.\n       * @param {String} key The key to check.\n       * @param value The value that provides an lower bound.\n       * @return {AV.Query} Returns the query, so you can chain this call.\n       */\n      greaterThanOrEqualTo: function(key, value) {\n        this._addCondition(key, '$gte', value);\n        return this;\n      },\n\n      /**\n       * Add a constraint to the query that requires a particular key's value to\n       * be contained in the provided list of values.\n       * @param {String} key The key to check.\n       * @param {Array} values The values that will match.\n       * @return {AV.Query} Returns the query, so you can chain this call.\n       */\n      containedIn: function(key, values) {\n        this._addCondition(key, '$in', values);\n        return this;\n      },\n\n      /**\n       * Add a constraint to the query that requires a particular key's value to\n       * not be contained in the provided list of values.\n       * @param {String} key The key to check.\n       * @param {Array} values The values that will not match.\n       * @return {AV.Query} Returns the query, so you can chain this call.\n       */\n      notContainedIn: function(key, values) {\n        this._addCondition(key, '$nin', values);\n        return this;\n      },\n\n      /**\n       * Add a constraint to the query that requires a particular key's value to\n       * contain each one of the provided list of values.\n       * @param {String} key The key to check.  This key's value must be an array.\n       * @param {Array} values The values that will match.\n       * @return {AV.Query} Returns the query, so you can chain this call.\n       */\n      containsAll: function(key, values) {\n        this._addCondition(key, '$all', values);\n        return this;\n      },\n\n      /**\n       * Add a constraint for finding objects that contain the given key.\n       * @param {String} key The key that should exist.\n       * @return {AV.Query} Returns the query, so you can chain this call.\n       */\n      exists: function(key) {\n        this._addCondition(key, '$exists', true);\n        return this;\n      },\n\n      /**\n       * Add a constraint for finding objects that do not contain a given key.\n       * @param {String} key The key that should not exist\n       * @return {AV.Query} Returns the query, so you can chain this call.\n       */\n      doesNotExist: function(key) {\n        this._addCondition(key, '$exists', false);\n        return this;\n      },\n\n      /**\n       * Add a regular expression constraint for finding string values that match\n       * the provided regular expression.\n       * This may be slow for large datasets.\n       * @param {String} key The key that the string to match is stored in.\n       * @param {RegExp} regex The regular expression pattern to match.\n       * @return {AV.Query} Returns the query, so you can chain this call.\n       */\n      matches: function(key, regex, modifiers) {\n        this._addCondition(key, '$regex', regex);\n        if (!modifiers) {\n          modifiers = '';\n        }\n        // Javascript regex options support mig as inline options but store them\n        // as properties of the object. We support mi & should migrate them to\n        // modifiers\n        if (regex.ignoreCase) {\n          modifiers += 'i';\n        }\n        if (regex.multiline) {\n          modifiers += 'm';\n        }\n\n        if (modifiers && modifiers.length) {\n          this._addCondition(key, '$options', modifiers);\n        }\n        return this;\n      },\n\n      /**\n       * Add a constraint that requires that a key's value matches a AV.Query\n       * constraint.\n       * @param {String} key The key that the contains the object to match the\n       *                     query.\n       * @param {AV.Query} query The query that should match.\n       * @return {AV.Query} Returns the query, so you can chain this call.\n       */\n      matchesQuery: function(key, query) {\n        var queryJSON = query._getParams();\n        queryJSON.className = query.className;\n        this._addCondition(key, '$inQuery', queryJSON);\n        return this;\n      },\n\n      /**\n       * Add a constraint that requires that a key's value not matches a\n       * AV.Query constraint.\n       * @param {String} key The key that the contains the object to match the\n       *                     query.\n       * @param {AV.Query} query The query that should not match.\n       * @return {AV.Query} Returns the query, so you can chain this call.\n       */\n      doesNotMatchQuery: function(key, query) {\n        var queryJSON = query._getParams();\n        queryJSON.className = query.className;\n        this._addCondition(key, '$notInQuery', queryJSON);\n        return this;\n      },\n\n      /**\n       * Add a constraint that requires that a key's value matches a value in\n       * an object returned by a different AV.Query.\n       * @param {String} key The key that contains the value that is being\n       *                     matched.\n       * @param {String} queryKey The key in the objects returned by the query to\n       *                          match against.\n       * @param {AV.Query} query The query to run.\n       * @return {AV.Query} Returns the query, so you can chain this call.\n       */\n      matchesKeyInQuery: function(key, queryKey, query) {\n        var queryJSON = query._getParams();\n        queryJSON.className = query.className;\n        this._addCondition(key, '$select', { key: queryKey, query: queryJSON });\n        return this;\n      },\n\n      /**\n       * Add a constraint that requires that a key's value not match a value in\n       * an object returned by a different AV.Query.\n       * @param {String} key The key that contains the value that is being\n       *                     excluded.\n       * @param {String} queryKey The key in the objects returned by the query to\n       *                          match against.\n       * @param {AV.Query} query The query to run.\n       * @return {AV.Query} Returns the query, so you can chain this call.\n       */\n      doesNotMatchKeyInQuery: function(key, queryKey, query) {\n        var queryJSON = query._getParams();\n        queryJSON.className = query.className;\n        this._addCondition(key, '$dontSelect', {\n          key: queryKey,\n          query: queryJSON,\n        });\n        return this;\n      },\n\n      /**\n       * Add constraint that at least one of the passed in queries matches.\n       * @param {Array} queries\n       * @return {AV.Query} Returns the query, so you can chain this call.\n       * @private\n       */\n      _orQuery: function(queries) {\n        var queryJSON = _.map(queries, function(q) {\n          return q._getParams().where;\n        });\n\n        this._where.$or = queryJSON;\n        return this;\n      },\n\n      /**\n       * Add constraint that both of the passed in queries matches.\n       * @param {Array} queries\n       * @return {AV.Query} Returns the query, so you can chain this call.\n       * @private\n       */\n      _andQuery: function(queries) {\n        var queryJSON = _.map(queries, function(q) {\n          return q._getParams().where;\n        });\n\n        this._where.$and = queryJSON;\n        return this;\n      },\n\n      /**\n       * Converts a string into a regex that matches it.\n       * Surrounding with \\Q .. \\E does this, we just need to escape \\E's in\n       * the text separately.\n       * @private\n       */\n      _quote: function(s) {\n        return '\\\\Q' + s.replace('\\\\E', '\\\\E\\\\\\\\E\\\\Q') + '\\\\E';\n      },\n\n      /**\n       * Add a constraint for finding string values that contain a provided\n       * string.  This may be slow for large datasets.\n       * @param {String} key The key that the string to match is stored in.\n       * @param {String} substring The substring that the value must contain.\n       * @return {AV.Query} Returns the query, so you can chain this call.\n       */\n      contains: function(key, value) {\n        this._addCondition(key, '$regex', this._quote(value));\n        return this;\n      },\n\n      /**\n       * Add a constraint for finding string values that start with a provided\n       * string.  This query will use the backend index, so it will be fast even\n       * for large datasets.\n       * @param {String} key The key that the string to match is stored in.\n       * @param {String} prefix The substring that the value must start with.\n       * @return {AV.Query} Returns the query, so you can chain this call.\n       */\n      startsWith: function(key, value) {\n        this._addCondition(key, '$regex', '^' + this._quote(value));\n        return this;\n      },\n\n      /**\n       * Add a constraint for finding string values that end with a provided\n       * string.  This will be slow for large datasets.\n       * @param {String} key The key that the string to match is stored in.\n       * @param {String} suffix The substring that the value must end with.\n       * @return {AV.Query} Returns the query, so you can chain this call.\n       */\n      endsWith: function(key, value) {\n        this._addCondition(key, '$regex', this._quote(value) + '$');\n        return this;\n      },\n\n      /**\n       * Sorts the results in ascending order by the given key.\n       *\n       * @param {String} key The key to order by.\n       * @return {AV.Query} Returns the query, so you can chain this call.\n       */\n      ascending: function(key) {\n        requires(key, 'undefined is not a valid key');\n        this._order = key;\n        return this;\n      },\n\n      /**\n       * Also sorts the results in ascending order by the given key. The previous sort keys have\n       * precedence over this key.\n       *\n       * @param {String} key The key to order by\n       * @return {AV.Query} Returns the query so you can chain this call.\n       */\n      addAscending: function(key) {\n        requires(key, 'undefined is not a valid key');\n        if (this._order) this._order += ',' + key;\n        else this._order = key;\n        return this;\n      },\n\n      /**\n       * Sorts the results in descending order by the given key.\n       *\n       * @param {String} key The key to order by.\n       * @return {AV.Query} Returns the query, so you can chain this call.\n       */\n      descending: function(key) {\n        requires(key, 'undefined is not a valid key');\n        this._order = '-' + key;\n        return this;\n      },\n\n      /**\n       * Also sorts the results in descending order by the given key. The previous sort keys have\n       * precedence over this key.\n       *\n       * @param {String} key The key to order by\n       * @return {AV.Query} Returns the query so you can chain this call.\n       */\n      addDescending: function(key) {\n        requires(key, 'undefined is not a valid key');\n        if (this._order) this._order += ',-' + key;\n        else this._order = '-' + key;\n        return this;\n      },\n\n      /**\n       * Add a proximity based constraint for finding objects with key point\n       * values near the point given.\n       * @param {String} key The key that the AV.GeoPoint is stored in.\n       * @param {AV.GeoPoint} point The reference AV.GeoPoint that is used.\n       * @return {AV.Query} Returns the query, so you can chain this call.\n       */\n      near: function(key, point) {\n        if (!(point instanceof AV.GeoPoint)) {\n          // Try to cast it to a GeoPoint, so that near(\"loc\", [20,30]) works.\n          point = new AV.GeoPoint(point);\n        }\n        this._addCondition(key, '$nearSphere', point);\n        return this;\n      },\n\n      /**\n       * Add a proximity based constraint for finding objects with key point\n       * values near the point given and within the maximum distance given.\n       * @param {String} key The key that the AV.GeoPoint is stored in.\n       * @param {AV.GeoPoint} point The reference AV.GeoPoint that is used.\n       * @param maxDistance Maximum distance (in radians) of results to return.\n       * @return {AV.Query} Returns the query, so you can chain this call.\n       */\n      withinRadians: function(key, point, distance) {\n        this.near(key, point);\n        this._addCondition(key, '$maxDistance', distance);\n        return this;\n      },\n\n      /**\n       * Add a proximity based constraint for finding objects with key point\n       * values near the point given and within the maximum distance given.\n       * Radius of earth used is 3958.8 miles.\n       * @param {String} key The key that the AV.GeoPoint is stored in.\n       * @param {AV.GeoPoint} point The reference AV.GeoPoint that is used.\n       * @param {Number} maxDistance Maximum distance (in miles) of results to\n       *     return.\n       * @return {AV.Query} Returns the query, so you can chain this call.\n       */\n      withinMiles: function(key, point, distance) {\n        return this.withinRadians(key, point, distance / 3958.8);\n      },\n\n      /**\n       * Add a proximity based constraint for finding objects with key point\n       * values near the point given and within the maximum distance given.\n       * Radius of earth used is 6371.0 kilometers.\n       * @param {String} key The key that the AV.GeoPoint is stored in.\n       * @param {AV.GeoPoint} point The reference AV.GeoPoint that is used.\n       * @param {Number} maxDistance Maximum distance (in kilometers) of results\n       *     to return.\n       * @return {AV.Query} Returns the query, so you can chain this call.\n       */\n      withinKilometers: function(key, point, distance) {\n        return this.withinRadians(key, point, distance / 6371.0);\n      },\n\n      /**\n       * Add a constraint to the query that requires a particular key's\n       * coordinates be contained within a given rectangular geographic bounding\n       * box.\n       * @param {String} key The key to be constrained.\n       * @param {AV.GeoPoint} southwest\n       *     The lower-left inclusive corner of the box.\n       * @param {AV.GeoPoint} northeast\n       *     The upper-right inclusive corner of the box.\n       * @return {AV.Query} Returns the query, so you can chain this call.\n       */\n      withinGeoBox: function(key, southwest, northeast) {\n        if (!(southwest instanceof AV.GeoPoint)) {\n          southwest = new AV.GeoPoint(southwest);\n        }\n        if (!(northeast instanceof AV.GeoPoint)) {\n          northeast = new AV.GeoPoint(northeast);\n        }\n        this._addCondition(key, '$within', { $box: [southwest, northeast] });\n        return this;\n      },\n\n      /**\n       * Include nested AV.Objects for the provided key.  You can use dot\n       * notation to specify which fields in the included object are also fetch.\n       * @param {String[]} keys The name of the key to include.\n       * @return {AV.Query} Returns the query, so you can chain this call.\n       */\n      include: function(keys) {\n        requires(keys, 'undefined is not a valid key');\n        _.forEach(arguments, keys => {\n          this._include = this._include.concat(ensureArray(keys));\n        });\n        return this;\n      },\n\n      /**\n       * Include the ACL.\n       * @param {Boolean} [value=true] Whether to include the ACL\n       * @return {AV.Query} Returns the query, so you can chain this call.\n       */\n      includeACL: function(value = true) {\n        this._includeACL = value;\n        return this;\n      },\n\n      /**\n       * Restrict the fields of the returned AV.Objects to include only the\n       * provided keys.  If this is called multiple times, then all of the keys\n       * specified in each of the calls will be included.\n       * @param {String[]} keys The names of the keys to include.\n       * @return {AV.Query} Returns the query, so you can chain this call.\n       */\n      select: function(keys) {\n        requires(keys, 'undefined is not a valid key');\n        _.forEach(arguments, keys => {\n          this._select = this._select.concat(ensureArray(keys));\n        });\n        return this;\n      },\n\n      /**\n       * Iterates over each result of a query, calling a callback for each one. If\n       * the callback returns a promise, the iteration will not continue until\n       * that promise has been fulfilled. If the callback returns a rejected\n       * promise, then iteration will stop with that error. The items are\n       * processed in an unspecified order. The query may not have any sort order,\n       * and may not use limit or skip.\n       * @param callback {Function} Callback that will be called with each result\n       *     of the query.\n       * @return {Promise} A promise that will be fulfilled once the\n       *     iteration has completed.\n       */\n      each: function(callback, options = {}) {\n        if (this._order || this._skip || this._limit >= 0) {\n          var error = new Error(\n            'Cannot iterate on a query with sort, skip, or limit.'\n          );\n          return Promise.reject(error);\n        }\n\n        var query = new AV.Query(this.objectClass);\n        // We can override the batch size from the options.\n        // This is undocumented, but useful for testing.\n        query._limit = options.batchSize || 100;\n        query._where = _.clone(this._where);\n        query._include = _.clone(this._include);\n\n        query.ascending('objectId');\n\n        var finished = false;\n        return continueWhile(\n          function() {\n            return !finished;\n          },\n          function() {\n            return query.find(options).then(function(results) {\n              var callbacksDone = Promise.resolve();\n              _.each(results, function(result) {\n                callbacksDone = callbacksDone.then(function() {\n                  return callback(result);\n                });\n              });\n\n              return callbacksDone.then(function() {\n                if (results.length >= query._limit) {\n                  query.greaterThan('objectId', results[results.length - 1].id);\n                } else {\n                  finished = true;\n                }\n              });\n            });\n          }\n        );\n      },\n\n      /**\n       * Subscribe the changes of this query.\n       *\n       * LiveQuery is not included in the default bundle: {@link https://url.leanapp.cn/enable-live-query}.\n       *\n       * @since 3.0.0\n       * @return {AV.LiveQuery} An eventemitter which can be used to get LiveQuery updates;\n       */\n      subscribe(options) {\n        return AV.LiveQuery.init(this, options);\n      },\n    }\n  );\n\n  AV.FriendShipQuery = AV.Query._extend({\n    _newObject: function() {\n      const UserClass = AV.Object._getSubclass('_User');\n      return new UserClass();\n    },\n    _processResult: function(json) {\n      if (json && json[this._friendshipTag]) {\n        var user = json[this._friendshipTag];\n        if (user.__type === 'Pointer' && user.className === '_User') {\n          delete user.__type;\n          delete user.className;\n        }\n        return user;\n      } else {\n        return null;\n      }\n    },\n  });\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/query.js","const _ = require('underscore');\nconst EventEmitter = require('eventemitter3');\nconst { inherits } = require('./utils');\nconst { request } = require('./request');\n\nconst subscribe = (queryJSON, subscriptionId) =>\n  request({\n    method: 'POST',\n    path: '/LiveQuery/subscribe',\n    data: {\n      query: queryJSON,\n      id: subscriptionId,\n    },\n  });\n\nmodule.exports = AV => {\n  const requireRealtime = () => {\n    if (!AV._config.realtime) {\n      throw new Error(\n        'LiveQuery not supported. Please use the LiveQuery bundle. https://url.leanapp.cn/enable-live-query'\n      );\n    }\n  };\n  /**\n   * @class\n   * A LiveQuery, created by {@link AV.Query#subscribe} is an EventEmitter notifies changes of the Query.\n   * @since 3.0.0\n   */\n  AV.LiveQuery = inherits(\n    EventEmitter,\n    /** @lends AV.LiveQuery.prototype */ {\n      constructor(id, client, queryJSON, subscriptionId) {\n        EventEmitter.apply(this);\n        this.id = id;\n        this._client = client;\n        this._client.register(this);\n        this._queryJSON = queryJSON;\n        this._subscriptionId = subscriptionId;\n        this._onMessage = this._dispatch.bind(this);\n        this._onReconnect = () => {\n          subscribe(this._queryJSON, this._subscriptionId).catch(error =>\n            console.error(`LiveQuery resubscribe error: ${error.message}`)\n          );\n        };\n        client.on('message', this._onMessage);\n        client.on('reconnect', this._onReconnect);\n      },\n      _dispatch(message) {\n        message.forEach(({ op, object, query_id: queryId, updatedKeys }) => {\n          if (queryId !== this.id) return;\n          const target = AV.parseJSON(\n            _.extend(\n              {\n                __type: object.className === '_File' ? 'File' : 'Object',\n              },\n              object\n            )\n          );\n          if (updatedKeys) {\n            /**\n             * An existing AV.Object which fulfills the Query you subscribe is updated.\n             * @event AV.LiveQuery#update\n             * @param {AV.Object|AV.File} target updated object\n             * @param {String[]} updatedKeys updated keys\n             */\n            /**\n             * An existing AV.Object which doesn't fulfill the Query is updated and now it fulfills the Query.\n             * @event AV.LiveQuery#enter\n             * @param {AV.Object|AV.File} target updated object\n             * @param {String[]} updatedKeys updated keys\n             */\n            /**\n             * An existing AV.Object which fulfills the Query is updated and now it doesn't fulfill the Query.\n             * @event AV.LiveQuery#leave\n             * @param {AV.Object|AV.File} target updated object\n             * @param {String[]} updatedKeys updated keys\n             */\n            this.emit(op, target, updatedKeys);\n          } else {\n            /**\n             * A new AV.Object which fulfills the Query you subscribe is created.\n             * @event AV.LiveQuery#create\n             * @param {AV.Object|AV.File} target updated object\n             */\n            /**\n             * An existing AV.Object which fulfills the Query you subscribe is deleted.\n             * @event AV.LiveQuery#delete\n             * @param {AV.Object|AV.File} target updated object\n             */\n            this.emit(op, target);\n          }\n        });\n      },\n      /**\n       * unsubscribe the query\n       *\n       * @return {Promise}\n       */\n      unsubscribe() {\n        const client = this._client;\n        client.off('message', this._onMessage);\n        client.off('reconnect', this._onReconnect);\n        client.deregister(this);\n        return request({\n          method: 'POST',\n          path: '/LiveQuery/unsubscribe',\n          data: {\n            id: client.id,\n            query_id: this.id,\n          },\n        });\n      },\n    },\n    /** @lends AV.LiveQuery */\n    {\n      init(\n        query,\n        {\n          subscriptionId: userDefinedSubscriptionId = AV._getSubscriptionId(),\n        } = {}\n      ) {\n        requireRealtime();\n        if (!(query instanceof AV.Query))\n          throw new TypeError('LiveQuery must be inited with a Query');\n        return Promise.resolve(userDefinedSubscriptionId).then(subscriptionId =>\n          AV._config.realtime\n            .createLiveQueryClient(subscriptionId)\n            .then(liveQueryClient => {\n              const { where, keys, returnACL } = query._getParams();\n              const queryJSON = {\n                where,\n                keys,\n                returnACL,\n                className: query.className,\n              };\n              const promise = subscribe(queryJSON, subscriptionId)\n                .then(\n                  ({ query_id: queryId }) =>\n                    new AV.LiveQuery(\n                      queryId,\n                      liveQueryClient,\n                      queryJSON,\n                      subscriptionId\n                    )\n                )\n                .finally(() => {\n                  liveQueryClient.deregister(promise);\n                });\n              liveQueryClient.register(promise);\n              return promise;\n            })\n        );\n      },\n      /**\n       * Pause the LiveQuery connection. This is useful to deactivate the SDK when the app is swtiched to background.\n       * @static\n       * @return void\n       */\n      pause() {\n        requireRealtime();\n        return AV._config.realtime.pause();\n      },\n      /**\n       * Resume the LiveQuery connection. All subscriptions will be restored after reconnection.\n       * @static\n       * @return void\n       */\n      resume() {\n        requireRealtime();\n        return AV._config.realtime.resume();\n      },\n    }\n  );\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/live-query.js","const _ = require('underscore');\nconst { tap } = require('./utils');\n\nmodule.exports = AV => {\n  /**\n   * @class\n   * @example\n   * AV.Captcha.request().then(captcha => {\n   *   captcha.bind({\n   *     textInput: 'code', // the id for textInput\n   *     image: 'captcha',\n   *     verifyButton: 'verify',\n   *   }, {\n   *     success: (validateCode) => {}, // next step\n   *     error: (error) => {}, // present error.message to user\n   *   });\n   * });\n   */\n  AV.Captcha = function Captcha(options, authOptions) {\n    this._options = options;\n    this._authOptions = authOptions;\n    /**\n     * The image url of the captcha\n     * @type string\n     */\n    this.url = undefined;\n    /**\n     * The captchaToken of the captcha.\n     * @type string\n     */\n    this.captchaToken = undefined;\n    /**\n     * The validateToken of the captcha.\n     * @type string\n     */\n    this.validateToken = undefined;\n  };\n\n  /**\n   * Refresh the captcha\n   * @return {Promise.<string>} a new capcha url\n   */\n  AV.Captcha.prototype.refresh = function refresh() {\n    return AV.Cloud._requestCaptcha(this._options, this._authOptions).then(\n      ({ captchaToken, url }) => {\n        _.extend(this, { captchaToken, url });\n        return url;\n      }\n    );\n  };\n\n  /**\n   * Verify the captcha\n   * @param {String} code The code from user input\n   * @return {Promise.<string>} validateToken if the code is valid\n   */\n  AV.Captcha.prototype.verify = function verify(code) {\n    return AV.Cloud.verifyCaptcha(code, this.captchaToken).then(\n      tap(validateToken => (this.validateToken = validateToken))\n    );\n  };\n\n  if (process.env.PLATFORM === 'Browser') {\n    /**\n     * Bind the captcha to HTMLElements. <b>ONLY AVAILABLE in browsers</b>.\n     * @param [elements]\n     * @param {String|HTMLInputElement} [elements.textInput] An input element typed text, or the id for the element.\n     * @param {String|HTMLImageElement} [elements.image] An image element, or the id for the element.\n     * @param {String|HTMLElement} [elements.verifyButton] A button element, or the id for the element.\n     * @param [callbacks]\n     * @param {Function} [callbacks.success] Success callback will be called if the code is verified. The param `validateCode` can be used for further SMS request.\n     * @param {Function} [callbacks.error] Error callback will be called if something goes wrong, detailed in param `error.message`.\n     */\n    AV.Captcha.prototype.bind = function bind(\n      { textInput, image, verifyButton },\n      { success, error }\n    ) {\n      if (typeof textInput === 'string') {\n        textInput = document.getElementById(textInput);\n        if (!textInput)\n          throw new Error(`textInput with id ${textInput} not found`);\n      }\n      if (typeof image === 'string') {\n        image = document.getElementById(image);\n        if (!image) throw new Error(`image with id ${image} not found`);\n      }\n      if (typeof verifyButton === 'string') {\n        verifyButton = document.getElementById(verifyButton);\n        if (!verifyButton)\n          throw new Error(`verifyButton with id ${verifyButton} not found`);\n      }\n\n      this.__refresh = () =>\n        this.refresh()\n          .then(url => {\n            image.src = url;\n            if (textInput) {\n              textInput.value = '';\n              textInput.focus();\n            }\n          })\n          .catch(err => console.warn(`refresh captcha fail: ${err.message}`));\n      if (image) {\n        this.__image = image;\n        image.src = this.url;\n        image.addEventListener('click', this.__refresh);\n      }\n\n      this.__verify = () => {\n        const code = textInput.value;\n        this.verify(code)\n          .catch(err => {\n            this.__refresh();\n            throw err;\n          })\n          .then(success, error)\n          .catch(err => console.warn(`verify captcha fail: ${err.message}`));\n      };\n      if (textInput && verifyButton) {\n        this.__verifyButton = verifyButton;\n        verifyButton.addEventListener('click', this.__verify);\n      }\n    };\n\n    /**\n     * unbind the captcha from HTMLElements. <b>ONLY AVAILABLE in browsers</b>.\n     */\n    AV.Captcha.prototype.unbind = function unbind() {\n      if (this.__image)\n        this.__image.removeEventListener('click', this.__refresh);\n      if (this.__verifyButton)\n        this.__verifyButton.removeEventListener('click', this.__verify);\n    };\n  }\n\n  /**\n   * Request a captcha\n   * @param [options]\n   * @param {Number} [options.width] width(px) of the captcha, ranged 60-200\n   * @param {Number} [options.height] height(px) of the captcha, ranged 30-100\n   * @param {Number} [options.size=4] length of the captcha, ranged 3-6. MasterKey required.\n   * @param {Number} [options.ttl=60] time to live(s), ranged 10-180. MasterKey required.\n   * @return {Promise.<AV.Captcha>}\n   */\n  AV.Captcha.request = (options, authOptions) => {\n    const captcha = new AV.Captcha(options, authOptions);\n    return captcha.refresh().then(() => captcha);\n  };\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/captcha.js","const _ = require('underscore');\nconst { _request, request } = require('./request');\n\nmodule.exports = function(AV) {\n  /**\n   * Contains functions for calling and declaring\n   * <p><strong><em>\n   *   Some functions are only available from Cloud Code.\n   * </em></strong></p>\n   *\n   * @namespace\n   * @borrows AV.Captcha.request as requestCaptcha\n   */\n  AV.Cloud = AV.Cloud || {};\n\n  _.extend(\n    AV.Cloud,\n    /** @lends AV.Cloud */ {\n      /**\n       * Makes a call to a cloud function.\n       * @param {String} name The function name.\n       * @param {Object} [data] The parameters to send to the cloud function.\n       * @param {AuthOptions} [options]\n       * @return {Promise} A promise that will be resolved with the result\n       * of the function.\n       */\n      run(name, data, options) {\n        return request({\n          service: 'engine',\n          method: 'POST',\n          path: `/functions/${name}`,\n          data: AV._encode(data, null, true),\n          authOptions: options,\n        }).then(resp => {\n          return AV._decode(resp).result;\n        });\n      },\n\n      /**\n       * Makes a call to a cloud function, you can send {AV.Object} as param or a field of param; the response\n       * from server will also be parsed as an {AV.Object}, array of {AV.Object}, or object includes {AV.Object}\n       * @param {String} name The function name.\n       * @param {Object} [data] The parameters to send to the cloud function.\n       * @param {AuthOptions} [options]\n       * @return {Promise} A promise that will be resolved with the result of the function.\n       */\n      rpc(name, data, options) {\n        if (_.isArray(data)) {\n          return Promise.reject(\n            new Error(\n              \"Can't pass Array as the param of rpc function in JavaScript SDK.\"\n            )\n          );\n        }\n\n        return request({\n          service: 'engine',\n          method: 'POST',\n          path: `/call/${name}`,\n          data: AV._encodeObjectOrArray(data),\n          authOptions: options,\n        }).then(resp => {\n          return AV._decode(resp).result;\n        });\n      },\n\n      /**\n       * Make a call to request server date time.\n       * @return {Promise.<Date>} A promise that will be resolved with the result\n       * of the function.\n       * @since 0.5.9\n       */\n      getServerDate() {\n        return _request('date', null, null, 'GET').then(function(resp) {\n          return AV._decode(resp);\n        });\n      },\n\n      /**\n       * Makes a call to request an sms code for operation verification.\n       * @param {String|Object} data The mobile phone number string or a JSON\n       *    object that contains mobilePhoneNumber,template,sign,op,ttl,name etc.\n       * @param {String} data.mobilePhoneNumber\n       * @param {String} [data.template] sms template name\n       * @param {String} [data.sign] sms signature name\n       * @param {String} [data.smsType] sending code by `sms` (default) or `voice` call\n       * @param {SMSAuthOptions} [options]\n       * @return {Promise} A promise that will be resolved if the request succeed\n       */\n      requestSmsCode(data, options = {}) {\n        if (_.isString(data)) {\n          data = { mobilePhoneNumber: data };\n        }\n        if (!data.mobilePhoneNumber) {\n          throw new Error('Missing mobilePhoneNumber.');\n        }\n        if (options.validateToken) {\n          data = _.extend({}, data, {\n            validate_token: options.validateToken,\n          });\n        }\n        return _request('requestSmsCode', null, null, 'POST', data, options);\n      },\n\n      /**\n       * Makes a call to verify sms code that sent by AV.Cloud.requestSmsCode\n       * @param {String} code The sms code sent by AV.Cloud.requestSmsCode\n       * @param {phone} phone The mobile phoner number.\n       * @return {Promise} A promise that will be resolved with the result\n       * of the function.\n       */\n      verifySmsCode(code, phone) {\n        if (!code) throw new Error('Missing sms code.');\n        var params = {};\n        if (_.isString(phone)) {\n          params['mobilePhoneNumber'] = phone;\n        }\n\n        return _request('verifySmsCode', code, null, 'POST', params);\n      },\n\n      _requestCaptcha(options, authOptions) {\n        return _request(\n          'requestCaptcha',\n          null,\n          null,\n          'GET',\n          options,\n          authOptions\n        ).then(({ captcha_url: url, captcha_token: captchaToken }) => ({\n          captchaToken,\n          url,\n        }));\n      },\n\n      /**\n       * Request a captcha.\n       */\n      requestCaptcha: AV.Captcha.request,\n\n      /**\n       * Verify captcha code. This is the low-level API for captcha.\n       * Checkout {@link AV.Captcha} for high abstract APIs.\n       * @param {String} code the code from user input\n       * @param {String} captchaToken captchaToken returned by {@link AV.Cloud.requestCaptcha}\n       * @return {Promise.<String>} validateToken if the code is valid\n       */\n      verifyCaptcha(code, captchaToken) {\n        return _request('verifyCaptcha', null, null, 'POST', {\n          captcha_code: code,\n          captcha_token: captchaToken,\n        }).then(({ validate_token: validateToken }) => validateToken);\n      },\n    }\n  );\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/cloudfunction.js","const request = require('./request').request;\n\nmodule.exports = function(AV) {\n  AV.Installation = AV.Object.extend('_Installation');\n\n  /**\n   * @namespace\n   */\n  AV.Push = AV.Push || {};\n\n  /**\n   * Sends a push notification.\n   * @param {Object} data The data of the push notification.\n   * @param {String[]} [data.channels] An Array of channels to push to.\n   * @param {Date} [data.push_time] A Date object for when to send the push.\n   * @param {Date} [data.expiration_time]  A Date object for when to expire\n   *         the push.\n   * @param {Number} [data.expiration_interval] The seconds from now to expire the push.\n   * @param {Number} [data.flow_control] The clients to notify per second\n   * @param {AV.Query} [data.where] An AV.Query over AV.Installation that is used to match\n   *         a set of installations to push to.\n   * @param {String} [data.cql] A CQL statement over AV.Installation that is used to match\n   *         a set of installations to push to.\n   * @param {Object} data.data The data to send as part of the push.\n             More details:  https://url.leanapp.cn/pushData\n   * @param {AuthOptions} [options]\n   * @return {Promise}\n   */\n  AV.Push.send = function(data, options) {\n    if (data.where) {\n      data.where = data.where._getParams().where;\n    }\n\n    if (data.where && data.cql) {\n      throw new Error(\"Both where and cql can't be set\");\n    }\n\n    if (data.push_time) {\n      data.push_time = data.push_time.toJSON();\n    }\n\n    if (data.expiration_time) {\n      data.expiration_time = data.expiration_time.toJSON();\n    }\n\n    if (data.expiration_time && data.expiration_interval) {\n      throw new Error(\n        \"Both expiration_time and expiration_interval can't be set\"\n      );\n    }\n\n    return request({\n      service: 'push',\n      method: 'POST',\n      path: '/push',\n      data,\n      authOptions: options,\n    });\n  };\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/push.js","const _ = require('underscore');\nconst AVRequest = require('./request')._request;\nconst { getSessionToken } = require('./utils');\n\nmodule.exports = function(AV) {\n  const getUser = (options = {}) => {\n    const sessionToken = getSessionToken(options);\n    if (sessionToken) {\n      return AV.User._fetchUserBySessionToken(getSessionToken(options));\n    }\n    return AV.User.currentAsync();\n  };\n\n  const getUserPointer = options =>\n    getUser(options).then(currUser =>\n      AV.Object.createWithoutData('_User', currUser.id)._toPointer()\n    );\n\n  /**\n   * Contains functions to deal with Status in LeanCloud.\n   * @class\n   */\n  AV.Status = function(imageUrl, message) {\n    this.data = {};\n    this.inboxType = 'default';\n    this.query = null;\n    if (imageUrl && typeof imageUrl === 'object') {\n      this.data = imageUrl;\n    } else {\n      if (imageUrl) {\n        this.data.image = imageUrl;\n      }\n      if (message) {\n        this.data.message = message;\n      }\n    }\n    return this;\n  };\n\n  _.extend(\n    AV.Status.prototype,\n    /** @lends AV.Status.prototype */ {\n      /**\n       * Gets the value of an attribute in status data.\n       * @param {String} attr The string name of an attribute.\n       */\n      get: function(attr) {\n        return this.data[attr];\n      },\n      /**\n       * Sets a hash of model attributes on the status data.\n       * @param {String} key The key to set.\n       * @param {} value The value to give it.\n       */\n      set: function(key, value) {\n        this.data[key] = value;\n        return this;\n      },\n      /**\n       * Destroy this status,then it will not be avaiable in other user's inboxes.\n       * @param {AuthOptions} options\n       * @return {Promise} A promise that is fulfilled when the destroy\n       *     completes.\n       */\n      destroy: function(options) {\n        if (!this.id)\n          return Promise.reject(new Error('The status id is not exists.'));\n        var request = AVRequest('statuses', null, this.id, 'DELETE', options);\n        return request;\n      },\n      /**\n       * Cast the AV.Status object to an AV.Object pointer.\n       * @return {AV.Object} A AV.Object pointer.\n       */\n      toObject: function() {\n        if (!this.id) return null;\n        return AV.Object.createWithoutData('_Status', this.id);\n      },\n      _getDataJSON: function() {\n        var json = _.clone(this.data);\n        return AV._encode(json);\n      },\n      /**\n       * Send a status by a AV.Query object.\n       * @since 0.3.0\n       * @param {AuthOptions} options\n       * @return {Promise} A promise that is fulfilled when the send\n       *     completes.\n       * @example\n       *     // send a status to male users\n       *     var status = new AVStatus('image url', 'a message');\n       *     status.query = new AV.Query('_User');\n       *     status.query.equalTo('gender', 'male');\n       *     status.send().then(function(){\n       *              //send status successfully.\n       *      }, function(err){\n       *             //an error threw.\n       *             console.dir(err);\n       *      });\n       */\n      send: function(options = {}) {\n        if (!getSessionToken(options) && !AV.User.current()) {\n          throw new Error('Please signin an user.');\n        }\n        if (!this.query) {\n          return AV.Status.sendStatusToFollowers(this, options);\n        }\n\n        return getUserPointer(options)\n          .then(currUser => {\n            var query = this.query._getParams();\n            query.className = this.query.className;\n            var data = {};\n            data.query = query;\n            this.data = this.data || {};\n            this.data.source = this.data.source || currUser;\n            data.data = this._getDataJSON();\n            data.inboxType = this.inboxType || 'default';\n\n            return AVRequest('statuses', null, null, 'POST', data, options);\n          })\n          .then(response => {\n            this.id = response.objectId;\n            this.createdAt = AV._parseDate(response.createdAt);\n            return this;\n          });\n      },\n\n      _finishFetch: function(serverData) {\n        this.id = serverData.objectId;\n        this.createdAt = AV._parseDate(serverData.createdAt);\n        this.updatedAt = AV._parseDate(serverData.updatedAt);\n        this.messageId = serverData.messageId;\n        delete serverData.messageId;\n        delete serverData.objectId;\n        delete serverData.createdAt;\n        delete serverData.updatedAt;\n        this.data = AV._decode(serverData);\n      },\n    }\n  );\n\n  /**\n   * Send a status to current signined user's followers.\n   * @since 0.3.0\n   * @param {AV.Status} status  A status object to be send to followers.\n   * @param {AuthOptions} options\n   * @return {Promise} A promise that is fulfilled when the send\n   *     completes.\n   * @example\n   *     var status = new AVStatus('image url', 'a message');\n   *     AV.Status.sendStatusToFollowers(status).then(function(){\n   *              //send status successfully.\n   *      }, function(err){\n   *             //an error threw.\n   *             console.dir(err);\n   *      });\n   */\n  AV.Status.sendStatusToFollowers = function(status, options = {}) {\n    if (!getSessionToken(options) && !AV.User.current()) {\n      throw new Error('Please signin an user.');\n    }\n    return getUserPointer(options).then(currUser => {\n      var query = {};\n      query.className = '_Follower';\n      query.keys = 'follower';\n      query.where = { user: currUser };\n      var data = {};\n      data.query = query;\n      status.data = status.data || {};\n      status.data.source = status.data.source || currUser;\n      data.data = status._getDataJSON();\n      data.inboxType = status.inboxType || 'default';\n\n      var request = AVRequest('statuses', null, null, 'POST', data, options);\n      return request.then(function(response) {\n        status.id = response.objectId;\n        status.createdAt = AV._parseDate(response.createdAt);\n        return status;\n      });\n    });\n  };\n\n  /**\n   * <p>Send  a status from current signined user to other user's private status inbox.</p>\n   * @since 0.3.0\n   * @param {AV.Status} status  A status object to be send to followers.\n   * @param {String} target The target user or user's objectId.\n   * @param {AuthOptions} options\n   * @return {Promise} A promise that is fulfilled when the send\n   *     completes.\n   * @example\n   *     // send a private status to user '52e84e47e4b0f8de283b079b'\n   *     var status = new AVStatus('image url', 'a message');\n   *     AV.Status.sendPrivateStatus(status, '52e84e47e4b0f8de283b079b').then(function(){\n   *              //send status successfully.\n   *      }, function(err){\n   *             //an error threw.\n   *             console.dir(err);\n   *      });\n   */\n  AV.Status.sendPrivateStatus = function(status, target, options = {}) {\n    if (!getSessionToken(options) && !AV.User.current()) {\n      throw new Error('Please signin an user.');\n    }\n    if (!target) {\n      throw new Error('Invalid target user.');\n    }\n    var userObjectId = _.isString(target) ? target : target.id;\n    if (!userObjectId) {\n      throw new Error('Invalid target user.');\n    }\n    return getUserPointer(options).then(currUser => {\n      var query = {};\n      query.className = '_User';\n      query.where = { objectId: userObjectId };\n      var data = {};\n      data.query = query;\n      status.data = status.data || {};\n      status.data.source = status.data.source || currUser;\n      data.data = status._getDataJSON();\n      data.inboxType = 'private';\n      status.inboxType = 'private';\n\n      var request = AVRequest('statuses', null, null, 'POST', data, options);\n      return request.then(function(response) {\n        status.id = response.objectId;\n        status.createdAt = AV._parseDate(response.createdAt);\n        return status;\n      });\n    });\n  };\n\n  /**\n   * Count unread statuses in someone's inbox.\n   * @since 0.3.0\n   * @param {AV.User} owner The status owner.\n   * @param {String} inboxType The inbox type, 'default' by default.\n   * @param {AuthOptions} options\n   * @return {Promise} A promise that is fulfilled when the count\n   *     completes.\n   * @example\n   *  AV.Status.countUnreadStatuses(AV.User.current()).then(function(response){\n   *    console.log(response.unread); //unread statuses number.\n   *    console.log(response.total);  //total statuses number.\n   *  });\n   */\n  AV.Status.countUnreadStatuses = function(\n    owner,\n    inboxType = 'default',\n    options = {}\n  ) {\n    if (!_.isString(inboxType)) options = inboxType;\n    if (!getSessionToken(options) && owner == null && !AV.User.current()) {\n      throw new Error('Please signin an user or pass the owner objectId.');\n    }\n    return Promise.resolve(owner || getUser(options)).then(owner => {\n      var params = {};\n      params.inboxType = AV._encode(inboxType);\n      params.owner = AV._encode(owner);\n      return AVRequest(\n        'subscribe/statuses/count',\n        null,\n        null,\n        'GET',\n        params,\n        options\n      );\n    });\n  };\n\n  /**\n   * reset unread statuses count in someone's inbox.\n   * @since 2.1.0\n   * @param {AV.User} owner The status owner.\n   * @param {String} inboxType The inbox type, 'default' by default.\n   * @param {AuthOptions} options\n   * @return {Promise} A promise that is fulfilled when the reset\n   *     completes.\n   * @example\n   *  AV.Status.resetUnreadCount(AV.User.current()).then(function(response){\n   *    console.log(response.unread); //unread statuses number.\n   *    console.log(response.total);  //total statuses number.\n   *  });\n   */\n  AV.Status.resetUnreadCount = function(\n    owner,\n    inboxType = 'default',\n    options = {}\n  ) {\n    if (!_.isString(inboxType)) options = inboxType;\n    if (!getSessionToken(options) && owner == null && !AV.User.current()) {\n      throw new Error('Please signin an user or pass the owner objectId.');\n    }\n    return Promise.resolve(owner || getUser(options)).then(owner => {\n      var params = {};\n      params.inboxType = AV._encode(inboxType);\n      params.owner = AV._encode(owner);\n      return AVRequest(\n        'subscribe/statuses/resetUnreadCount',\n        null,\n        null,\n        'POST',\n        params,\n        options\n      );\n    });\n  };\n\n  /**\n   * Create a status query to find someone's published statuses.\n   * @since 0.3.0\n   * @param {AV.User} source The status source, typically the publisher.\n   * @return {AV.Query} The query object for status.\n   * @example\n   *   //Find current user's published statuses.\n   *   var query = AV.Status.statusQuery(AV.User.current());\n   *   query.find().then(function(statuses){\n   *      //process statuses\n   *   });\n   */\n  AV.Status.statusQuery = function(source) {\n    var query = new AV.Query('_Status');\n    if (source) {\n      query.equalTo('source', source);\n    }\n    return query;\n  };\n\n  /**\n   * <p>AV.InboxQuery defines a query that is used to fetch somebody's inbox statuses.</p>\n   * @class\n   */\n  AV.InboxQuery = AV.Query._extend(\n    /** @lends AV.InboxQuery.prototype */ {\n      _objectClass: AV.Status,\n      _sinceId: 0,\n      _maxId: 0,\n      _inboxType: 'default',\n      _owner: null,\n      _newObject: function() {\n        return new AV.Status();\n      },\n      _createRequest: function(params, options) {\n        return AV.InboxQuery.__super__._createRequest.call(\n          this,\n          params,\n          options,\n          '/subscribe/statuses'\n        );\n      },\n\n      /**\n       * Sets the messageId of results to skip before returning any results.\n       * This is useful for pagination.\n       * Default is zero.\n       * @param {Number} n the mesage id.\n       * @return {AV.InboxQuery} Returns the query, so you can chain this call.\n       */\n      sinceId: function(id) {\n        this._sinceId = id;\n        return this;\n      },\n      /**\n       * Sets the maximal messageId of results\n       * This is useful for pagination.\n       * Default is zero that is no limition.\n       * @param {Number} n the mesage id.\n       * @return {AV.InboxQuery} Returns the query, so you can chain this call.\n       */\n      maxId: function(id) {\n        this._maxId = id;\n        return this;\n      },\n      /**\n       * Sets the owner of the querying inbox.\n       * @param {AV.User} owner The inbox owner.\n       * @return {AV.InboxQuery} Returns the query, so you can chain this call.\n       */\n      owner: function(owner) {\n        this._owner = owner;\n        return this;\n      },\n      /**\n       * Sets the querying inbox type.default is 'default'.\n       * @param {Object} type The inbox type.\n       * @return {AV.InboxQuery} Returns the query, so you can chain this call.\n       */\n      inboxType: function(type) {\n        this._inboxType = type;\n        return this;\n      },\n      _getParams: function() {\n        var params = AV.InboxQuery.__super__._getParams.call(this);\n        params.owner = AV._encode(this._owner);\n        params.inboxType = AV._encode(this._inboxType);\n        params.sinceId = AV._encode(this._sinceId);\n        params.maxId = AV._encode(this._maxId);\n        return params;\n      },\n    }\n  );\n\n  /**\n   * Create a inbox status query to find someone's inbox statuses.\n   * @since 0.3.0\n   * @param {AV.User} owner The inbox's owner\n   * @param {String} inboxType The inbox type,'default' by default.\n   * @return {AV.InboxQuery} The inbox query object.\n   * @see AV.InboxQuery\n   * @example\n   *   //Find current user's default inbox statuses.\n   *   var query = AV.Status.inboxQuery(AV.User.current());\n   *   //find the statuses after the last message id\n   *   query.sinceId(lastMessageId);\n   *   query.find().then(function(statuses){\n   *      //process statuses\n   *   });\n   */\n  AV.Status.inboxQuery = function(owner, inboxType) {\n    var query = new AV.InboxQuery(AV.Status);\n    if (owner) {\n      query._owner = owner;\n    }\n    if (inboxType) {\n      query._inboxType = inboxType;\n    }\n    return query;\n  };\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/status.js","const _ = require('underscore');\nconst AVRequest = require('./request')._request;\n\nmodule.exports = function(AV) {\n  /**\n   * A builder to generate sort string for app searching.For example:\n   * @class\n   * @since 0.5.1\n   * @example\n   *   var builder = new AV.SearchSortBuilder();\n   *   builder.ascending('key1').descending('key2','max');\n   *   var query = new AV.SearchQuery('Player');\n   *   query.sortBy(builder);\n   *   query.find().then();\n   */\n  AV.SearchSortBuilder = function() {\n    this._sortFields = [];\n  };\n\n  _.extend(\n    AV.SearchSortBuilder.prototype,\n    /** @lends AV.SearchSortBuilder.prototype */ {\n      _addField: function(key, order, mode, missing) {\n        var field = {};\n        field[key] = {\n          order: order || 'asc',\n          mode: mode || 'avg',\n          missing: '_' + (missing || 'last'),\n        };\n        this._sortFields.push(field);\n        return this;\n      },\n\n      /**\n       * Sorts the results in ascending order by the given key and options.\n       *\n       * @param {String} key The key to order by.\n       * @param {String} mode The sort mode, default is 'avg', you can choose\n       *                  'max' or 'min' too.\n       * @param {String} missing The missing key behaviour, default is 'last',\n       *                  you can choose 'first' too.\n       * @return {AV.SearchSortBuilder} Returns the builder, so you can chain this call.\n       */\n      ascending: function(key, mode, missing) {\n        return this._addField(key, 'asc', mode, missing);\n      },\n\n      /**\n       * Sorts the results in descending order by the given key and options.\n       *\n       * @param {String} key The key to order by.\n       * @param {String} mode The sort mode, default is 'avg', you can choose\n       *                  'max' or 'min' too.\n       * @param {String} missing The missing key behaviour, default is 'last',\n       *                  you can choose 'first' too.\n       * @return {AV.SearchSortBuilder} Returns the builder, so you can chain this call.\n       */\n      descending: function(key, mode, missing) {\n        return this._addField(key, 'desc', mode, missing);\n      },\n\n      /**\n       * Add a proximity based constraint for finding objects with key point\n       * values near the point given.\n       * @param {String} key The key that the AV.GeoPoint is stored in.\n       * @param {AV.GeoPoint} point The reference AV.GeoPoint that is used.\n       * @param {Object} options The other options such as mode,order, unit etc.\n       * @return {AV.SearchSortBuilder} Returns the builder, so you can chain this call.\n       */\n      whereNear: function(key, point, options) {\n        options = options || {};\n        var field = {};\n        var geo = {\n          lat: point.latitude,\n          lon: point.longitude,\n        };\n        var m = {\n          order: options.order || 'asc',\n          mode: options.mode || 'avg',\n          unit: options.unit || 'km',\n        };\n        m[key] = geo;\n        field['_geo_distance'] = m;\n\n        this._sortFields.push(field);\n        return this;\n      },\n\n      /**\n       * Build a sort string by configuration.\n       * @return {String} the sort string.\n       */\n      build: function() {\n        return JSON.stringify(AV._encode(this._sortFields));\n      },\n    }\n  );\n\n  /**\n   * App searching query.Use just like AV.Query:\n   *\n   * Visit <a href='https://leancloud.cn/docs/app_search_guide.html'>App Searching Guide</a>\n   * for more details.\n   * @class\n   * @since 0.5.1\n   * @example\n   *   var query = new AV.SearchQuery('Player');\n   *   query.queryString('*');\n   *   query.find().then(function(results) {\n   *     console.log('Found %d objects', query.hits());\n   *     //Process results\n   *   });\n   */\n  AV.SearchQuery = AV.Query._extend(\n    /** @lends AV.SearchQuery.prototype */ {\n      _sid: null,\n      _hits: 0,\n      _queryString: null,\n      _highlights: null,\n      _sortBuilder: null,\n      _clazz: null,\n\n      constructor: function(className) {\n        if (className) {\n          this._clazz = className;\n        } else {\n          className = '__INVALID_CLASS';\n        }\n        AV.Query.call(this, className);\n      },\n\n      _createRequest: function(params, options) {\n        return AVRequest(\n          'search/select',\n          null,\n          null,\n          'GET',\n          params || this._getParams(),\n          options\n        );\n      },\n\n      /**\n       * Sets the sid of app searching query.Default is null.\n       * @param {String} sid  Scroll id for searching.\n       * @return {AV.SearchQuery} Returns the query, so you can chain this call.\n       */\n      sid: function(sid) {\n        this._sid = sid;\n        return this;\n      },\n\n      /**\n       * Sets the query string of app searching.\n       * @param {String} q  The query string.\n       * @return {AV.SearchQuery} Returns the query, so you can chain this call.\n       */\n      queryString: function(q) {\n        this._queryString = q;\n        return this;\n      },\n\n      /**\n       * Sets the highlight fields. Such as\n       * <pre><code>\n       *   query.highlights('title');\n       *   //or pass an array.\n       *   query.highlights(['title', 'content'])\n       * </code></pre>\n       * @param {String|String[]} highlights a list of fields.\n       * @return {AV.SearchQuery} Returns the query, so you can chain this call.\n       */\n      highlights: function(highlights) {\n        var objects;\n        if (highlights && _.isString(highlights)) {\n          objects = _.toArray(arguments);\n        } else {\n          objects = highlights;\n        }\n        this._highlights = objects;\n        return this;\n      },\n\n      /**\n       * Sets the sort builder for this query.\n       * @see AV.SearchSortBuilder\n       * @param { AV.SearchSortBuilder} builder The sort builder.\n       * @return {AV.SearchQuery} Returns the query, so you can chain this call.\n       *\n       */\n      sortBy: function(builder) {\n        this._sortBuilder = builder;\n        return this;\n      },\n\n      /**\n       * Returns the number of objects that match this query.\n       * @return {Number}\n       */\n      hits: function() {\n        if (!this._hits) {\n          this._hits = 0;\n        }\n        return this._hits;\n      },\n\n      _processResult: function(json) {\n        delete json['className'];\n        delete json['_app_url'];\n        delete json['_deeplink'];\n        return json;\n      },\n\n      /**\n       * Returns true when there are more documents can be retrieved by this\n       * query instance, you can call find function to get more results.\n       * @see AV.SearchQuery#find\n       * @return {Boolean}\n       */\n      hasMore: function() {\n        return !this._hitEnd;\n      },\n\n      /**\n       * Reset current query instance state(such as sid, hits etc) except params\n       * for a new searching. After resetting, hasMore() will return true.\n       */\n      reset: function() {\n        this._hitEnd = false;\n        this._sid = null;\n        this._hits = 0;\n      },\n\n      /**\n       * Retrieves a list of AVObjects that satisfy this query.\n       * Either options.success or options.error is called when the find\n       * completes.\n       *\n       * @see AV.Query#find\n       * @param {AuthOptions} options\n       * @return {Promise} A promise that is resolved with the results when\n       * the query completes.\n       */\n      find: function(options) {\n        var self = this;\n\n        var request = this._createRequest(undefined, options);\n\n        return request.then(function(response) {\n          //update sid for next querying.\n          if (response.sid) {\n            self._oldSid = self._sid;\n            self._sid = response.sid;\n          } else {\n            self._sid = null;\n            self._hitEnd = true;\n          }\n          self._hits = response.hits || 0;\n\n          return _.map(response.results, function(json) {\n            if (json.className) {\n              response.className = json.className;\n            }\n            var obj = self._newObject(response);\n            obj.appURL = json['_app_url'];\n            obj._finishFetch(self._processResult(json), true);\n            return obj;\n          });\n        });\n      },\n\n      _getParams: function() {\n        var params = AV.SearchQuery.__super__._getParams.call(this);\n        delete params.where;\n        if (this._clazz) {\n          params.clazz = this.className;\n        }\n        if (this._sid) {\n          params.sid = this._sid;\n        }\n        if (!this._queryString) {\n          throw new Error('Please set query string.');\n        } else {\n          params.q = this._queryString;\n        }\n        if (this._highlights) {\n          params.highlights = this._highlights.join(',');\n        }\n        if (this._sortBuilder && params.order) {\n          throw new Error('sort and order can not be set at same time.');\n        }\n        if (this._sortBuilder) {\n          params.sort = this._sortBuilder.build();\n        }\n\n        return params;\n      },\n    }\n  );\n};\n\n/**\n * Sorts the results in ascending order by the given key.\n *\n * @method AV.SearchQuery#ascending\n * @param {String} key The key to order by.\n * @return {AV.SearchQuery} Returns the query, so you can chain this call.\n */\n/**\n * Also sorts the results in ascending order by the given key. The previous sort keys have\n * precedence over this key.\n *\n * @method AV.SearchQuery#addAscending\n * @param {String} key The key to order by\n * @return {AV.SearchQuery} Returns the query so you can chain this call.\n */\n/**\n * Sorts the results in descending order by the given key.\n *\n * @method AV.SearchQuery#descending\n * @param {String} key The key to order by.\n * @return {AV.SearchQuery} Returns the query, so you can chain this call.\n */\n/**\n * Also sorts the results in descending order by the given key. The previous sort keys have\n * precedence over this key.\n *\n * @method AV.SearchQuery#addDescending\n * @param {String} key The key to order by\n * @return {AV.SearchQuery} Returns the query so you can chain this call.\n */\n/**\n * Include nested AV.Objects for the provided key.  You can use dot\n * notation to specify which fields in the included object are also fetch.\n * @method AV.SearchQuery#include\n * @param {String[]} keys The name of the key to include.\n * @return {AV.SearchQuery} Returns the query, so you can chain this call.\n */\n/**\n * Sets the number of results to skip before returning any results.\n * This is useful for pagination.\n * Default is to skip zero results.\n * @method AV.SearchQuery#skip\n * @param {Number} n the number of results to skip.\n * @return {AV.SearchQuery} Returns the query, so you can chain this call.\n */\n/**\n * Sets the limit of the number of results to return. The default limit is\n * 100, with a maximum of 1000 results being returned at a time.\n * @method AV.SearchQuery#limit\n * @param {Number} n the number of results to limit to.\n * @return {AV.SearchQuery} Returns the query, so you can chain this call.\n */\n\n\n\n// WEBPACK FOOTER //\n// ./src/search.js","const _ = require('underscore');\nconst AVError = require('./error');\nconst { request } = require('./request');\n\nmodule.exports = function(AV) {\n  /**\n   *  LeanCloud\n   *  <a href='/docs/leaninsight_guide.html'></a>\n   * <p><strong><em>\n   *   \n   * </em></strong></p>\n   * @namespace\n   */\n  AV.Insight = AV.Insight || {};\n\n  _.extend(\n    AV.Insight,\n    /** @lends AV.Insight */ {\n      /**\n       *  Insight  Job id id \n       * AV.Insight.JobQuery \n       * @param {Object} jobConfig  JSON <code><pre>\n       *                   { \"sql\" : \"select count(*) as c,gender from _User group by gender\",\n       *                     \"saveAs\": {\n       *                         \"className\" : \"UserGender\",\n       *                         \"limit\": 1\n       *                      }\n       *                   }\n       *                  </pre></code>\n       *               sql  SQL  saveAs limit  1000\n       * @param {AuthOptions} [options]\n       * @return {Promise} A promise that will be resolved with the result\n       * of the function.\n       */\n      startJob: function(jobConfig, options) {\n        if (!jobConfig || !jobConfig.sql) {\n          throw new Error('Please provide the sql to run the job.');\n        }\n        var data = {\n          jobConfig: jobConfig,\n          appId: AV.applicationId,\n        };\n        return request({\n          path: '/bigquery/jobs',\n          method: 'POST',\n          data: AV._encode(data, null, true),\n          authOptions: options,\n          signKey: false,\n        }).then(resp => AV._decode(resp).id);\n      },\n\n      /**\n       *  Insight \n       *  <p><strong><em>\n       *     \n       *  </em></strong></p>\n       * @param {String} event \n       * @param {Function}  (err, id) err \n       *                   id  id id AV.Insight.JobQuery \n       *\n       */\n      on: function(event, cb) {},\n    }\n  );\n\n  /**\n   *  Insight \n   * @class\n   * @param {String} id  id\n   * @since 0.5.5\n   */\n  AV.Insight.JobQuery = function(id, className) {\n    if (!id) {\n      throw new Error('Please provide the job id.');\n    }\n    this.id = id;\n    this.className = className;\n    this._skip = 0;\n    this._limit = 100;\n  };\n\n  _.extend(\n    AV.Insight.JobQuery.prototype,\n    /** @lends AV.Insight.JobQuery.prototype */ {\n      /**\n       * Sets the number of results to skip before returning any results.\n       * This is useful for pagination.\n       * Default is to skip zero results.\n       * @param {Number} n the number of results to skip.\n       * @return {AV.Query} Returns the query, so you can chain this call.\n       */\n      skip: function(n) {\n        this._skip = n;\n        return this;\n      },\n\n      /**\n       * Sets the limit of the number of results to return. The default limit is\n       * 100, with a maximum of 1000 results being returned at a time.\n       * @param {Number} n the number of results to limit to.\n       * @return {AV.Query} Returns the query, so you can chain this call.\n       */\n      limit: function(n) {\n        this._limit = n;\n        return this;\n      },\n\n      /**\n       *  JSON  status  totalCount \n       * results previewCount \n       * startTimeendTime \n       *\n       * @param {AuthOptions} [options]\n       * @return {Promise} A promise that will be resolved with the result\n       * of the function.\n       *\n       */\n      find: function(options) {\n        var params = {\n          skip: this._skip,\n          limit: this._limit,\n        };\n\n        return request({\n          path: `/bigquery/jobs/${this.id}`,\n          method: 'GET',\n          query: params,\n          authOptions: options,\n          signKey: false,\n        }).then(function(response) {\n          if (response.error) {\n            return Promise.reject(new AVError(response.code, response.error));\n          }\n          return Promise.resolve(response);\n        });\n      },\n    }\n  );\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/insight.js","const _ = require('underscore');\nconst { request: LCRequest } = require('./request');\nconst { getSessionToken } = require('./utils');\n\nmodule.exports = function(AV) {\n  /**\n   * Contains functions to deal with Friendship in LeanCloud.\n   * @class\n   */\n  AV.Friendship = {\n    /**\n     * Request friendship.\n     * @since 4.8.0\n     * @param {String | AV.User | Object} options if an AV.User or string is given, it will be used as the friend.\n     * @param {AV.User | string} options.friend The friend (or friend's objectId) to follow.\n     * @param {Object} [options.attributes] key-value attributes dictionary to be used as conditions of followeeQuery.\n     * @param {*} [authOptions]\n     * @return {Promise<void>}\n     */\n    request: function(options, authOptions) {\n      if (!AV.User.current()) {\n        throw new Error('Please signin an user.');\n      }\n      let friend;\n      let attributes;\n      if (options.friend) {\n        friend = options.friend;\n        attributes = options.attributes;\n      } else {\n        friend = options;\n      }\n      const friendObject = _.isString(friend)\n        ? AV.Object.createWithoutData('_User', friend)\n        : friend;\n      return LCRequest({\n        method: 'POST',\n        path: '/users/friendshipRequests',\n        data: AV._encode({\n          user: AV.User.current(),\n          friend: friendObject,\n          friendship: attributes,\n        }),\n        authOptions,\n      });\n    },\n\n    /**\n     * Accept a friendship request.\n     * @since 4.8.0\n     * @param {AV.Object | string | Object} options if an AV.Object or string is given, it will be used as the request in _FriendshipRequest.\n     * @param {AV.Object} options.request The request (or it's objectId) to be accepted.\n     * @param {Object} [options.attributes] key-value attributes dictionary to be used as conditions of {@link AV#followeeQuery}.\n     * @param {AuthOptions} [authOptions]\n     * @return {Promise<void>}\n     */\n    acceptRequest: function(options, authOptions = {}) {\n      if (!getSessionToken(authOptions) && !AV.User.current()) {\n        throw new Error('Please signin an user.');\n      }\n      let request;\n      let attributes;\n      if (options.request) {\n        request = options.request;\n        attributes = options.attributes;\n      } else {\n        request = options;\n      }\n      const requestId = _.isString(request) ? request : request.id;\n      return LCRequest({\n        method: 'PUT',\n        path: '/users/friendshipRequests/' + requestId + '/accept',\n        data: {\n          friendship: AV._encode(attributes),\n        },\n        authOptions,\n      });\n    },\n\n    /**\n     * Decline a friendship request.\n     * @param {AV.Object | string} request The request (or it's objectId) to be declined.\n     * @param {AuthOptions} [authOptions]\n     * @return {Promise<void>}\n     */\n    declineRequest: function(request, authOptions = {}) {\n      if (!getSessionToken(authOptions) && !AV.User.current()) {\n        throw new Error('Please signin an user.');\n      }\n      const requestId = _.isString(request) ? request : request.id;\n      return LCRequest({\n        method: 'PUT',\n        path: '/users/friendshipRequests/' + requestId + '/decline',\n        authOptions,\n      });\n    },\n  };\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/friendship.js","const _ = require('underscore');\nconst { _request } = require('./request');\nconst AV = require('./av');\n\nconst serializeMessage = message => {\n  if (typeof message === 'string') {\n    return message;\n  }\n  if (typeof message.getPayload === 'function') {\n    return JSON.stringify(message.getPayload());\n  }\n  return JSON.stringify(message);\n};\n\n/**\n * <p>An AV.Conversation is a local representation of a LeanCloud realtime's\n * conversation. This class is a subclass of AV.Object, and retains the\n * same functionality of an AV.Object, but also extends it with various\n * conversation specific methods, like get members, creators of this conversation.\n * </p>\n *\n * @class AV.Conversation\n * @param {String} name The name of the Role to create.\n * @param {Object} [options]\n * @param {Boolean} [options.isSystem] Set this conversation as system conversation.\n * @param {Boolean} [options.isTransient] Set this conversation as transient conversation.\n */\nmodule.exports = AV.Object.extend(\n  '_Conversation',\n  /** @lends AV.Conversation.prototype */ {\n    constructor(name, options = {}) {\n      AV.Object.prototype.constructor.call(this, null, null);\n      this.set('name', name);\n      if (options.isSystem !== undefined) {\n        this.set('sys', options.isSystem ? true : false);\n      }\n      if (options.isTransient !== undefined) {\n        this.set('tr', options.isTransient ? true : false);\n      }\n    },\n    /**\n     * Get current conversation's creator.\n     *\n     * @return {String}\n     */\n    getCreator() {\n      return this.get('c');\n    },\n\n    /**\n     * Get the last message's time.\n     *\n     * @return {Date}\n     */\n    getLastMessageAt() {\n      return this.get('lm');\n    },\n\n    /**\n     * Get this conversation's members\n     *\n     * @return {String[]}\n     */\n    getMembers() {\n      return this.get('m');\n    },\n\n    /**\n     * Add a member to this conversation\n     *\n     * @param {String} member\n     */\n    addMember(member) {\n      return this.add('m', member);\n    },\n\n    /**\n     * Get this conversation's members who set this conversation as muted.\n     *\n     * @return {String[]}\n     */\n    getMutedMembers() {\n      return this.get('mu');\n    },\n\n    /**\n     * Get this conversation's name field.\n     *\n     * @return String\n     */\n    getName() {\n      return this.get('name');\n    },\n\n    /**\n     * Returns true if this conversation is transient conversation.\n     *\n     * @return {Boolean}\n     */\n    isTransient() {\n      return this.get('tr');\n    },\n\n    /**\n     * Returns true if this conversation is system conversation.\n     *\n     * @return {Boolean}\n     */\n    isSystem() {\n      return this.get('sys');\n    },\n\n    /**\n     * Send realtime message to this conversation, using HTTP request.\n     *\n     * @param {String} fromClient Sender's client id.\n     * @param {String|Object} message The message which will send to conversation.\n     *     It could be a raw string, or an object with a `toJSON` method, like a\n     *     realtime SDK's Message object. See more: {@link https://leancloud.cn/docs/realtime_guide-js.html#}\n     * @param {Object} [options]\n     * @param {Boolean} [options.transient] Whether send this message as transient message or not.\n     * @param {String[]} [options.toClients] Ids of clients to send to. This option can be used only in system conversation.\n     * @param {Object} [options.pushData] Push data to this message. See more: {@link https://url.leanapp.cn/pushData }\n     * @param {AuthOptions} [authOptions]\n     * @return {Promise}\n     */\n    send(fromClient, message, options = {}, authOptions = {}) {\n      const data = {\n        from_peer: fromClient,\n        conv_id: this.id,\n        transient: false,\n        message: serializeMessage(message),\n      };\n      if (options.toClients !== undefined) {\n        data.to_peers = options.toClients;\n      }\n      if (options.transient !== undefined) {\n        data.transient = options.transient ? true : false;\n      }\n      if (options.pushData !== undefined) {\n        data.push_data = options.pushData;\n      }\n      return _request('rtm', 'messages', null, 'POST', data, authOptions);\n    },\n\n    /**\n     * Send realtime broadcast message to all clients, via this conversation, using HTTP request.\n     *\n     * @param {String} fromClient Sender's client id.\n     * @param {String|Object} message The message which will send to conversation.\n     *     It could be a raw string, or an object with a `toJSON` method, like a\n     *     realtime SDK's Message object. See more: {@link https://leancloud.cn/docs/realtime_guide-js.html#}.\n     * @param {Object} [options]\n     * @param {Object} [options.pushData] Push data to this message. See more: {@link https://url.leanapp.cn/pushData }.\n     * @param {Object} [options.validTill] The message will valid till this time.\n     * @param {AuthOptions} [authOptions]\n     * @return {Promise}\n     */\n    broadcast(fromClient, message, options = {}, authOptions = {}) {\n      const data = {\n        from_peer: fromClient,\n        conv_id: this.id,\n        message: serializeMessage(message),\n      };\n      if (options.pushData !== undefined) {\n        data.push = options.pushData;\n      }\n      if (options.validTill !== undefined) {\n        let ts = options.validTill;\n        if (_.isDate(ts)) {\n          ts = ts.getTime();\n        }\n        options.valid_till = ts;\n      }\n      return _request('rtm', 'broadcast', null, 'POST', data, authOptions);\n    },\n  }\n);\n\n\n\n// WEBPACK FOOTER //\n// ./src/conversation.js","const _ = require('underscore');\nconst { request } = require('./request');\nconst { ensureArray, parseDate } = require('./utils');\nconst AV = require('./av');\n\n/**\n * The version change interval for Leaderboard\n * @enum\n */\nAV.LeaderboardVersionChangeInterval = {\n  NEVER: 'never',\n  DAY: 'day',\n  WEEK: 'week',\n  MONTH: 'month',\n};\n\n/**\n * The order of the leaderboard results\n * @enum\n */\nAV.LeaderboardOrder = {\n  ASCENDING: 'ascending',\n  DESCENDING: 'descending',\n};\n\n/**\n * The update strategy for Leaderboard\n * @enum\n */\nAV.LeaderboardUpdateStrategy = {\n  /** Only keep the best statistic. If the leaderboard is in descending order, the best statistic is the highest one. */\n  BETTER: 'better',\n  /** Keep the last updated statistic */\n  LAST: 'last',\n  /** Keep the sum of all updated statistics */\n  SUM: 'sum',\n};\n\n/**\n * @typedef {Object} Ranking\n * @property {number} rank Starts at 0\n * @property {number} value the statistic value of this ranking\n * @property {AV.User} user The user of this ranking\n * @property {Statistic[]} [includedStatistics] Other statistics of the user, specified by the `includeStatistic` option of `AV.Leaderboard.getResults()`\n */\n\n/**\n * @typedef {Object} LeaderboardArchive\n * @property {string} statisticName\n * @property {number} version version of the leaderboard\n * @property {string} status\n * @property {string} url URL for the downloadable archive\n * @property {Date} activatedAt time when this version became active\n * @property {Date} deactivatedAt time when this version was deactivated by a version incrementing\n */\n\n/**\n * @class\n */\nfunction Statistic({ name, value, version }) {\n  /**\n   * @type {string}\n   */\n  this.name = name;\n  /**\n   * @type {number}\n   */\n  this.value = value;\n  /**\n   * @type {number?}\n   */\n  this.version = version;\n}\n\nconst parseStatisticData = statisticData => {\n  const { statisticName: name, statisticValue: value, version } = AV._decode(\n    statisticData\n  );\n  return new Statistic({ name, value, version });\n};\n\n/**\n * @class\n */\nAV.Leaderboard = function Leaderboard(statisticName) {\n  /**\n   * @type {string}\n   */\n  this.statisticName = statisticName;\n  /**\n   * @type {AV.LeaderboardOrder}\n   */\n  this.order = undefined;\n  /**\n   * @type {AV.LeaderboardUpdateStrategy}\n   */\n  this.updateStrategy = undefined;\n  /**\n   * @type {AV.LeaderboardVersionChangeInterval}\n   */\n  this.versionChangeInterval = undefined;\n  /**\n   * @type {number}\n   */\n  this.version = undefined;\n  /**\n   * @type {Date?}\n   */\n  this.nextResetAt = undefined;\n  /**\n   * @type {Date?}\n   */\n  this.createdAt = undefined;\n};\nconst Leaderboard = AV.Leaderboard;\n\n/**\n * Create an instance of Leaderboard for the give statistic name.\n * @param {string} statisticName\n * @return {AV.Leaderboard}\n */\nAV.Leaderboard.createWithoutData = statisticName =>\n  new Leaderboard(statisticName);\n/**\n * (masterKey required) Create a new Leaderboard.\n * @param {Object} options\n * @param {string} options.statisticName\n * @param {AV.LeaderboardOrder} options.order\n * @param {AV.LeaderboardVersionChangeInterval} [options.versionChangeInterval] default to WEEK\n * @param {AV.LeaderboardUpdateStrategy} [options.updateStrategy] default to BETTER\n * @param {AuthOptions} [authOptions]\n * @return {Promise<AV.Leaderboard>}\n */\nAV.Leaderboard.createLeaderboard = (\n  { statisticName, order, versionChangeInterval, updateStrategy },\n  authOptions\n) =>\n  request({\n    method: 'POST',\n    path: '/leaderboard/leaderboards',\n    data: {\n      statisticName,\n      order,\n      versionChangeInterval,\n      updateStrategy,\n    },\n    authOptions,\n  }).then(data => {\n    const leaderboard = new Leaderboard(statisticName);\n    return leaderboard._finishFetch(data);\n  });\n/**\n * Get the Leaderboard with the specified statistic name.\n * @param {string} statisticName\n * @param {AuthOptions} [authOptions]\n * @return {Promise<AV.Leaderboard>}\n */\nAV.Leaderboard.getLeaderboard = (statisticName, authOptions) =>\n  Leaderboard.createWithoutData(statisticName).fetch(authOptions);\n/**\n * Get Statistics for the specified user.\n * @param {AV.User} user The specified AV.User pointer.\n * @param {Object} [options]\n * @param {string[]} [options.statisticNames] Specify the statisticNames. If not set, all statistics of the user will be fetched.\n * @param {AuthOptions} [authOptions]\n * @return {Promise<Statistic[]>}\n */\nAV.Leaderboard.getStatistics = (user, { statisticNames } = {}, authOptions) =>\n  Promise.resolve().then(() => {\n    if (!(user && user.id)) throw new Error('user must be an AV.User');\n    return request({\n      method: 'GET',\n      path: `/leaderboard/users/${user.id}/statistics`,\n      query: {\n        statistics: statisticNames\n          ? ensureArray(statisticNames).join(',')\n          : undefined,\n      },\n      authOptions,\n    }).then(({ results }) => results.map(parseStatisticData));\n  });\n\n/**\n * Update Statistics for the specified user.\n * @param {AV.User} user The specified AV.User pointer.\n * @param {Object} statistics A name-value pair representing the statistics to update.\n * @param {AuthOptions} [options] AuthOptions plus:\n * @param {boolean} [options.overwrite] Wethere to overwrite these statistics disregarding the updateStrategy of there leaderboards\n * @return {Promise<Statistic[]>}\n */\nAV.Leaderboard.updateStatistics = (user, statistics, options = {}) =>\n  Promise.resolve().then(() => {\n    if (!(user && user.id)) throw new Error('user must be an AV.User');\n    const data = _.map(statistics, (value, key) => ({\n      statisticName: key,\n      statisticValue: value,\n    }));\n    const { overwrite } = options;\n    return request({\n      method: 'POST',\n      path: `/leaderboard/users/${user.id}/statistics`,\n      query: {\n        overwrite: overwrite ? 1 : undefined,\n      },\n      data,\n      authOptions: options,\n    }).then(({ results }) => results.map(parseStatisticData));\n  });\n\n/**\n * Delete Statistics for the specified user.\n * @param {AV.User} user The specified AV.User pointer.\n * @param {Object} statistics A name-value pair representing the statistics to delete.\n * @param {AuthOptions} [options]\n * @return {Promise<void>}\n */\nAV.Leaderboard.deleteStatistics = (user, statisticNames, authOptions) =>\n  Promise.resolve().then(() => {\n    if (!(user && user.id)) throw new Error('user must be an AV.User');\n    return request({\n      method: 'DELETE',\n      path: `/leaderboard/users/${user.id}/statistics`,\n      query: {\n        statistics: ensureArray(statisticNames).join(','),\n      },\n      authOptions,\n    }).then(() => undefined);\n  });\n\n_.extend(\n  Leaderboard.prototype,\n  /** @lends AV.Leaderboard.prototype */ {\n    _finishFetch(data) {\n      _.forEach(data, (value, key) => {\n        if (key === 'updatedAt' || key === 'objectId') return;\n        if (key === 'expiredAt') {\n          key = 'nextResetAt';\n        }\n        if (key === 'createdAt') {\n          value = parseDate(value);\n        }\n        if (value && value.__type === 'Date') {\n          value = parseDate(value.iso);\n        }\n        this[key] = value;\n      });\n      return this;\n    },\n    /**\n     * Fetch data from the srever.\n     * @param {AuthOptions} [authOptions]\n     * @return {Promise<AV.Leaderboard>}\n     */\n    fetch(authOptions) {\n      return request({\n        method: 'GET',\n        path: `/leaderboard/leaderboards/${this.statisticName}`,\n        authOptions,\n      }).then(data => this._finishFetch(data));\n    },\n    /**\n     * Counts the number of users participated in this leaderboard\n     * @param {Object} [options]\n     * @param {number} [options.version] Specify the version of the leaderboard\n     * @param {AuthOptions} [authOptions]\n     * @return {Promise<number>}\n     */\n    count({ version } = {}, authOptions) {\n      return request({\n        method: 'GET',\n        path: `/leaderboard/leaderboards/${this.statisticName}/ranks`,\n        query: {\n          count: 1,\n          limit: 0,\n          version,\n        },\n        authOptions,\n      }).then(({ count }) => count);\n    },\n    _getResults(\n      {\n        skip,\n        limit,\n        selectUserKeys,\n        includeUserKeys,\n        includeStatistics,\n        version,\n      },\n      authOptions,\n      userId\n    ) {\n      return request({\n        method: 'GET',\n        path: `/leaderboard/leaderboards/${this.statisticName}/ranks${\n          userId ? `/${userId}` : ''\n        }`,\n        query: {\n          skip,\n          limit,\n          selectUserKeys:\n            _.union(\n              ensureArray(selectUserKeys),\n              ensureArray(includeUserKeys)\n            ).join(',') || undefined,\n          includeUser: includeUserKeys\n            ? ensureArray(includeUserKeys).join(',')\n            : undefined,\n          includeStatistics: includeStatistics\n            ? ensureArray(includeStatistics).join(',')\n            : undefined,\n          version,\n        },\n        authOptions,\n      }).then(({ results: rankings }) =>\n        rankings.map(rankingData => {\n          const {\n            user,\n            statisticValue: value,\n            rank,\n            statistics = [],\n          } = AV._decode(rankingData);\n          return {\n            user,\n            value,\n            rank,\n            includedStatistics: statistics.map(parseStatisticData),\n          };\n        })\n      );\n    },\n    /**\n     * Retrieve a list of ranked users for this Leaderboard.\n     * @param {Object} [options]\n     * @param {number} [options.skip] The number of results to skip. This is useful for pagination.\n     * @param {number} [options.limit] The limit of the number of results.\n     * @param {string[]} [options.selectUserKeys] Specify keys of the users to include in the Rankings\n     * @param {string[]} [options.includeUserKeys] If the value of a selected user keys is a Pointer, use this options to include its value.\n     * @param {string[]} [options.includeStatistics] Specify other statistics to include in the Rankings\n     * @param {number} [options.version] Specify the version of the leaderboard\n     * @param {AuthOptions} [authOptions]\n     * @return {Promise<Ranking[]>}\n     */\n    getResults(\n      {\n        skip,\n        limit,\n        selectUserKeys,\n        includeUserKeys,\n        includeStatistics,\n        version,\n      } = {},\n      authOptions\n    ) {\n      return this._getResults(\n        {\n          skip,\n          limit,\n          selectUserKeys,\n          includeUserKeys,\n          includeStatistics,\n          version,\n        },\n        authOptions\n      );\n    },\n    /**\n     * Retrieve a list of ranked users for this Leaderboard, centered on the specified user.\n     * @param {AV.User} user The specified AV.User pointer.\n     * @param {Object} [options]\n     * @param {number} [options.limit] The limit of the number of results.\n     * @param {string[]} [options.selectUserKeys] Specify keys of the users to include in the Rankings\n     * @param {string[]} [options.includeUserKeys] If the value of a selected user keys is a Pointer, use this options to include its value.\n     * @param {string[]} [options.includeStatistics] Specify other statistics to include in the Rankings\n     * @param {number} [options.version] Specify the version of the leaderboard\n     * @param {AuthOptions} [authOptions]\n     * @return {Promise<Ranking[]>}\n     */\n    getResultsAroundUser(user, options = {}, authOptions) {\n      // getResultsAroundUser(options, authOptions)\n      if (user && typeof user.id !== 'string') {\n        return this.getResultsAroundUser(undefined, user, options);\n      }\n      const {\n        limit,\n        selectUserKeys,\n        includeUserKeys,\n        includeStatistics,\n        version,\n      } = options;\n      return this._getResults(\n        { limit, selectUserKeys, includeUserKeys, includeStatistics, version },\n        authOptions,\n        user ? user.id : 'self'\n      );\n    },\n    _update(data, authOptions) {\n      return request({\n        method: 'PUT',\n        path: `/leaderboard/leaderboards/${this.statisticName}`,\n        data,\n        authOptions,\n      }).then(result => this._finishFetch(result));\n    },\n    /**\n     * (masterKey required) Update the version change interval of the Leaderboard.\n     * @param {AV.LeaderboardVersionChangeInterval} versionChangeInterval\n     * @param {AuthOptions} [authOptions]\n     * @return {Promise<AV.Leaderboard>}\n     */\n    updateVersionChangeInterval(versionChangeInterval, authOptions) {\n      return this._update({ versionChangeInterval }, authOptions);\n    },\n    /**\n     * (masterKey required) Update the version change interval of the Leaderboard.\n     * @param {AV.LeaderboardUpdateStrategy} updateStrategy\n     * @param {AuthOptions} [authOptions]\n     * @return {Promise<AV.Leaderboard>}\n     */\n    updateUpdateStrategy(updateStrategy, authOptions) {\n      return this._update({ updateStrategy }, authOptions);\n    },\n    /**\n     * (masterKey required) Reset the Leaderboard. The version of the Leaderboard will be incremented by 1.\n     * @param {AuthOptions} [authOptions]\n     * @return {Promise<AV.Leaderboard>}\n     */\n    reset(authOptions) {\n      return request({\n        method: 'PUT',\n        path: `/leaderboard/leaderboards/${this.statisticName}/incrementVersion`,\n        authOptions,\n      }).then(data => this._finishFetch(data));\n    },\n    /**\n     * (masterKey required) Delete the Leaderboard and its all archived versions.\n     * @param {AuthOptions} [authOptions]\n     * @return {void}\n     */\n    destroy(authOptions) {\n      return AV.request({\n        method: 'DELETE',\n        path: `/leaderboard/leaderboards/${this.statisticName}`,\n        authOptions,\n      }).then(() => undefined);\n    },\n    /**\n     * (masterKey required) Get archived versions.\n     * @param {Object} [options]\n     * @param {number} [options.skip] The number of results to skip. This is useful for pagination.\n     * @param {number} [options.limit] The limit of the number of results.\n     * @param {AuthOptions} [authOptions]\n     * @return {Promise<LeaderboardArchive[]>}\n     */\n    getArchives({ skip, limit } = {}, authOptions) {\n      return request({\n        method: 'GET',\n        path: `/leaderboard/leaderboards/${this.statisticName}/archives`,\n        query: {\n          skip,\n          limit,\n        },\n        authOptions,\n      }).then(({ results }) =>\n        results.map(({ version, status, url, activatedAt, deactivatedAt }) => ({\n          statisticName: this.statisticName,\n          version,\n          status,\n          url,\n          activatedAt: parseDate(activatedAt.iso),\n          deactivatedAt: parseDate(deactivatedAt.iso),\n        }))\n      );\n    },\n  }\n);\n\n\n\n// WEBPACK FOOTER //\n// ./src/leaderboard.js"],"sourceRoot":""}